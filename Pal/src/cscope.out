cscope 15 /usr/home/raghupar/oscarlab/course_proj/Pal/src               0000194047
	@db_events.c

26 
	~"l_defs.h
"

27 
	~"l.h
"

28 
	~"l_.h
"

29 
	~"l_r.h
"

30 
	~"i.h
"

32 
PAL_HANDLE
 
	$DkNifitiEvtCe
 (
PAL_BOL
 
lS
)

34 
	`e_ame
(
NifitiEvtCe
);

36 
PAL_HANDLE
 
hd
 = 
NULL
;

37 
t
 = 
	`_DkEvtCe
(&
hd
, 
lS
, 
ue
);

39 i(
t
 < 0) {

40 
	`nify_u
(-
t
);

41  
NULL
;

44  
hd
;

45 
	}
}

47 
PAL_HANDLE
 
	$DkSynchriziEvtCe
 (
PAL_BOL
 
lS
)

49 
	`e_ame
(
SynchriziEvtCe
);

51 
PAL_HANDLE
 
hd
 = 
NULL
;

52 
t
 = 
	`_DkEvtCe
(&
hd
, 
lS
, 
l
);

54 i(
t
 < 0) {

55 
	`nify_u
(-
t
);

56  
NULL
;

59  
hd
;

60 
	}
}

62 
	$DkEvtDeroy
 (
PAL_HANDLE
 
hd
)

64 
	`e_ame
(
EvtDeroy
);

66 i(!
hd
 || !
	`IS_HANDLE_TYPE
(hd, 
evt
)) {

67 
	`nify_u
(
PAL_ERROR_INVAL
);

71 
	`_DkEvtDeroy
(
hd
);

72 
	}
}

74 
	$DkEvtS
 (
PAL_HANDLE
 
hd
)

76 
	`e_ame
(
EvtS
);

78 i(!
hd
 || !
	`IS_HANDLE_TYPE
(hd, 
evt
)) {

79 
	`nify_u
(
PAL_ERROR_INVAL
);

83 
t
 = 
	`_DkEvtS
 (
hd
);

85 i(
t
 < 0)

86 
	`nify_u
(-
t
);

87 
	}
}

89 
	$DkEvtWa
 (
PAL_HANDLE
 
hd
)

91 
	`e_ame
(
EvtWa
);

93 i(!
hd
 || !
	`IS_HANDLE_TYPE
(hd, 
evt
)) {

94 
	`nify_u
(
PAL_ERROR_INVAL
);

98 
t
 = 
	`_DkEvtWa
(
hd
);

100 i(
t
 < 0)

101 
	`nify_u
(-
t
);

102 
	}
}

104 
	$DkEvtCˬ
 (
PAL_HANDLE
 
hd
)

106 
	`e_ame
(
EvtCˬ
);

108 i(!
hd
 || !
	`IS_HANDLE_TYPE
(hd, 
evt
)) {

109 
	`nify_u
(
PAL_ERROR_INVAL
);

113 
t
 = 
	`_DkEvtCˬ
(
hd
);

115 i(
t
 < 0)

116 
	`nify_u
(-
t
);

117 
	}
}

119 
	$evt_o
 (
PAL_HANDLE
 
hd
)

121  
	`_DkEvtCˬ
(
hd
);

122 
	}
}

124 
	$evt_wa
 (
PAL_HANDLE
 
hd
, 
timeout
)

126  
timeout
 >=0 ? 
	`_DkEvtWaTimeout
(
hd
,imeout) :

127 
	`_DkEvtWa
(
hd
);

128 
	}
}

130 
hd_s
 
	gevt_s
 = {

131 .
o
 = &
evt_o
,

132 .
	gwa
 = &
evt_wa
,

	@db_exception.c

27 
	~"l_defs.h
"

28 
	~"l.h
"

29 
	~"l_.h
"

30 
	~"l_r.h
"

31 
	~"i.h
"

32 
	~"lux_li.h
"

34 
PAL_BOL


35 
DkSExiHdr
 ((*
hdr
(
PAL_PTR
 
evt
, 
PAL_NUM
 
g
,

36 
PAL_CONTEXT
 * 
cڋxt
),

37 
PAL_NUM
 
evt
, 
PAL_FLG
 
ags
)

39 i(!
hdr
 || 
evt
 <0 ||v> 
PAL_EVENT_NUM_BOUND
) {

40 
	`nify_u
(
PAL_ERROR_INVAL
);

41  
PAL_FALSE
;

44 
t
 = 
_DkExiHdrs
[
evt
]vt, 
hdr
, 
ags
);

46 i(
t
 < 0) {

47 
	`nify_u
(-
t
);

48  
PAL_FALSE
;

51  
PAL_TRUE
;

52 
	}
}

54 
	$DkExiRu
 (
PAL_PTR
 
evt
)

56 
	`_DkExiRu
(
evt
);

57 
	}
}

	@db_ipc.c

26 
	~"l_defs.h
"

27 
	~"l.h
"

28 
	~"l_.h
"

29 
	~"l_r.h
"

30 
	~"i.h
"

32 
PAL_HANDLE


33 
	$DkCePhysilMemyChl
 (
PAL_NUM
 * 
key
)

35 
	`e_ame
(
CePhysilMemyChl
);

37 
PAL_HANDLE
 
hd
 = 
NULL
;

38 
t
 = 
	`_DkCePhysilMemyChl
(&
hd
, 
key
);

39 i(
t
 < 0) {

40 
	`nify_u
(-
t
);

41  
NULL
;

44  
hd
;

45 
	}
}

47 
PAL_NUM


48 
	$DkPhysilMemyComm
 (
PAL_HANDLE
 
chl
, 
PAL_NUM
 
s
, 
PAL_BUF
 * 
addrs
,

49 
PAL_NUM
 * 
sizes
, 
PAL_FLG
 
ags
)

51 
	`e_ame
(
PhysilMemyComm
);

53 i(!
addrs
 || !
sizes
 || !
chl
 ||

54 !
	`IS_HANDLE_TYPE
(
chl
, 
gc
)) {

55 
	`nify_u
(
PAL_ERROR_INVAL
);

59 
t
 = 
	`_DkPhysilMemyComm
(
chl
, 
s
, 
addrs
, 
sizes
, 
ags
);

61 i(
t
 < 0) {

62 
	`nify_u
(-
t
);

66  
t
;

67 
	}
}

69 
PAL_NUM


70 
	$DkPhysilMemyM
 (
PAL_HANDLE
 
chl
, 
PAL_NUM
 
s
, 
PAL_BUF
 * 
addrs
,

71 
PAL_NUM
 * 
sizes
, 
PAL_FLG
 * 
s
)

73 
	`e_ame
(
PhysilMemyM
);

75 i(!
sizes
 || !
chl
 || !
	`IS_HANDLE_TYPE
(chl, 
gc
)) {

76 
	`nify_u
(
PAL_ERROR_INVAL
);

80 
t
 = 
	`_DkPhysilMemyM
(
chl
, 
s
, 
addrs
, 
sizes
, 
s
);

82 i(
t
 < 0) {

83 
	`nify_u
(-
t
);

87  
t
;

88 
	}
}

	@db_main.c

27 
	~"l_defs.h
"

28 
	~"l.h
"

29 
	~"l_.h
"

30 
	~"l_cury.h
"

31 
	~"l_debug.h
"

32 
	~"l_r.h
"

33 
	~"i.h
"

35 
	~<sysds/gic/ldsodefs.h
>

36 
	~<f/f.h
>

37 
	~<bs/dlf.h
>

40 
PAL_NUM
 
	glocsize
, 
	glocshi
, 
	glocmask
;

42 
PAL_CONTROL
 
	g__l_cڌ
;

43 
PAL_CONTROL
 * 
	$l_cڌ_addr
 ()

45  &
__l_cڌ
;

46 
	}
}

49 
l_cfig
 
	gl_cfig
;

50 
l_c_fo
 
	gl_c_fo
;

52 
	#ave
 \

53 d{ 
	`tf
("PALmed" 
__FILE__
 ":%d\n", 
__LINE__
); \

54 
	`_DkProssEx
(1); } 0)

	)

56 
	$ld_librs
 (
cfig_e
 * 
ro_cfig
, cڡ ** 
msg
)

59 
cfgbuf
[
CONFIG_MAX
];

60 
n
, 
t
 = 0;

64 i((
n
 = 
	`g_cfig
(
ro_cfig
, "ld.d", 
cfgbuf
,

65 
CONFIG_MAX
)) > 0) {

66 * 
c
 = 
cfgbuf
, * 
tok
 = c;

68 i(*
c
 == ',' || !(*(c))) {

69 i(
c
 > 
tok
) {

70 *
c
 = 0;

71 i((
t
 = 
	`ld_f_obje
(
tok
, 
OBJECT_PRELOAD
)) < 0) {

72 i(
msg
)

73 *
msg
 = "Unableooadreloadibrary\n";

74  
t
;

78 
tok
 = 
c
 + 1;

80 } *(
c
++));

84 
	}
}

86 
	$ad_vs
 (cڡ ** 
vp
)

88 i(!
l_cfig
.
ro_cfig
)

89 
de
;

91 
cfgbuf
[
CONFIG_MAX
];

95 
nvs
 = 
	`g_cfig_s
(
l_cfig
.
ro_cfig
, "ld.v", 
cfgbuf
,

96 
CONFIG_MAX
);

97 
	`tf
("cfig -- %s",
cfgbuf
);

99 i(
nvs
 > 0) {

100 
	sv
 { cڡ * 
r
; 
n
, 
idx
; } * 
vs


101 
	`__lo
((
v
* 
nvs
);

102 * 
cfg
 = 
cfgbuf
;

103 
i
 = 0 ; i < 
nvs
 ; i++) {

104 
n
 = 
	`
(
cfg
);

105 * 
r
 = 
	`__lo
(
n
 + 1);

106 
vs
[
i
].
r
 = str;

107 
vs
[
i
].
n
 =en;

108 
vs
[
i
].
idx
 = -1;

109 
	`memy
(
r
, 
cfg
, 
n
 + 1);

110 
cfg
 +
n
 + 1;

113 
vc
 = 0, 
add
 = 
nvs
;

114 cڡ ** 
e
 = 
vp
 ; *e ;++) {

115 
vc
++;

116 cڡ * 
p
 = *
e
;

117 *
p
 && *p != '=')

118 
p
++;

120 
i
 = 0 ; i < 
nvs
 ; i++)

121 i(
vs
[
i
].
n
 =
p
 - *
e
 && !
	`memcmp
nvs[i].
r
, *e, - *e)) {

122 
vs
[
i
].
idx
 = 
vc
 - 1;

123 
add
--;

128 i(
add
) {

129 cڡ ** 
w_vp
 =

130 
	`mloc
((cڡ ** (
vc
 + 
add
 + 1));

131 
	`memy
(
w_vp
, 
vp
, (cڡ ** 
vc
);

132 
vp
 = 
w_vp
;

133 
vp
[
vc
 + 
add
] = 
NULL
;

136 
key
[
CONFIG_MAX
] = "loader.env.";

137 cڡ ** 
r
;

139 
i
 = 0 ; i < 
nvs
 ; i++) {

140 cڡ * 
r
 = 
vs
[
i
].str;

141 
n
 = 
vs
[
i
].len;

142 
idx
 = 
vs
[
i
].idx;

143 
bys
;

144 
r
 = &
vp
[(
idx
 =-1? 
vc
++ : idx];

145 
	`memy
(
key
 + 11, 
r
, 
n
 + 1);

146 i((
bys
 = 
	`g_cfig
(
l_cfig
.
ro_cfig
, 
key
, 
cfgbuf
,

147 
CONFIG_MAX
)) > 0) {

148 * 
e
 = 
	`mloc
(
n
 + 
bys
 + 2);

149 
	`memy
(
e
, 
r
, 
n
);

150 
e
[
n
] = '=';

151 
	`memy
(
e
 + 
n
 + 1, 
cfgbuf
, 
bys
 + 1);

152 *
r
 = 
e
;

154 * 
e
 = 
	`mloc
(
n
 + 2);

155 
	`memy
(
e
, 
r
, 
n
);

156 
e
[
n
] = '=';

157 
e
[
n
 + 1] = 0;

158 *
r
 = 
e
;

163 
de
:

164 
l_cfig
.
vmts
 = 
vp
;

165 
	}
}

167 * 
	$fd_hp_ba
 ()

173 
hp_ba
 = (
l_cfig
.
lib_xt_t
;

175 #ifde
__lux__


176 
l_size
 = 
l_cfig
.
lib_da_d
 -

177 
l_cfig
.
lib_xt_t
;

179 
l_size
 = 
l_cfig
.
lib_xt_t
 -

180 
l_cfig
.
lib_da_d
;

182 
ba
 = 
locsize
;

184 (
ba
 >> 12< 
l_size
)

185 
ba
 <<= 1;

186 (
ba
 << 6< 
hp_ba
)

187 
ba
 <<= 1;

189 
hp_ba
 &
locmask
;

190 (
hp_ba
 -
ba
) > base) {

191 * 
hp
 = (*
hp_ba
;

192 i(!
	`_DkVtuMemyAoc
(&
hp
, 
locsize
, 
PAL_ALLOC_RESERVE
,

193 
PAL_PROT_NONE
))

194  
hp
;

197  
NULL
;

198 
	}
}

200 
t_executi
 (
gc
, cڡ ** 
gv
);

202 
	$l_ma
 (
gc
, cڡ ** 
gv
, cڡ ** 
vp
)

204 
cfgbuf
[
CONFIG_MAX
];

205 
t
;

207 
l_cfig
.
gesize
 = 
	`_DkGPagesize
();

208 
l_cfig
.
loc_ign
 = 
	`_DkGAotiAlignmt
();

211 
locsize
 = 
l_cfig
.
loc_ign
;

212 
locshi
 = 
locsize
 - 1;

213 
locmask
 = ~
locshi
;

215 
	`_ab_mgr
();

219 
l_cfig
.
lib_xt_t
 = (*&
xt_t
;

220 
l_cfig
.
lib_xt_d
 = (*&
xt_d
;

221 
l_cfig
.
lib_da_t
 = (*&
da_t
;

222 
l_cfig
.
lib_da_d
 = (*&
da_d
;

224 
__l_cڌ
.
gesize
 = 
l_cfig
.pagesize;

225 
__l_cڌ
.
loc_ign
 = 
locsize
;

226 
__l_cڌ
.
libry_beg
 = &
xt_t
;

227 
__l_cڌ
.
libry_d
 = &
da_d
;

237 i(
	`_DkInHo
(&
gc
, &
gv
) < 0)

238 
ave
;

240 
__l_cڌ
.
mi_hd
 = 
l_cfig
.manifest_handle;

241 
__l_cڌ
.
execub
 = 
l_cfig
.
exec
;

245 i(
l_cfig
.
exec_hd
) {

246 
t
 = 
	`ld_f_obje_by_hd
(
l_cfig
.
exec_hd
, 
OBJECT_EXEC
);

248 i(
t
 < 0) {

249 
	`tf
("Ubˁldxecub (%d)\n", 
	`PAL_STRERROR
(
t
));

250 
ave
;

254 
	`ad_vs
(
vp
);

256 i(!
l_cfig
.
hp_ba
)

257 
l_cfig
.
hp_ba
 = 
	`fd_hp_ba
();

259 i(
l_cfig
.
ro_cfig
) {

260 
cfig_e
 * 
cfg
 = 
l_cfig
.
ro_cfig
;

261 cڡ * 
msg
;

263 i(
	`ld_librs
(
cfg
, &
msg
) < 0) {

264 
	`tf
("%s\n", 
msg
);

265 
ave
;

268 i(
	`g_cfig
(
cfg
, "ld.dmize", 
cfgbuf
,

269 
CONFIG_MAX
) > 0 &&

270 
cfgbuf
[0] == '1' && !cfgbuf[1])

271 
l_cfig
.
dmize
 = 
ue
;

273 i(
	`g_cfig
(
cfg
, "ld.debug_ty", 
cfgbuf
,

274 
CONFIG_MAX
) > 0) {

275 
PAL_HANDLE
 
hd
 = 
NULL
;

277 i(!
	`memcmp
(
cfgbuf
, "inline", 7)) {

278 
	`_DkSmOn
(&
hd
, "dev:y", 
PAL_ACCESS_RDWR
, 0, 0, 0);

279 } i(!
	`memcmp
(
cfgbuf
, "file", 5)) {

280 i(
	`g_cfig
(
cfg
, "ld.debug_fe", 
cfgbuf
,

281 
CONFIG_MAX
) > 0) {

282 
	`_DkSmOn
(&
hd
, 
cfgbuf
, 
PAL_ACCESS_RDWR
,

283 
PAL_SHARE_OWNER_R
|
PAL_SHARE_OWNER_W
,

284 
PAL_CREAT_TRY
, 0);

288 
__l_cڌ
.
debug_am
 = 
hd
;

291 i((
t
 = 
	`g_cfig
(
cfg
, "ld.sys_symb", 
cfgbuf
,

292 
CONFIG_MAX
)) > 0)

293 
l_cfig
.
sys_sym_me
 = 
	`mloc
(
cfgbuf
, 
t
 + 1);

295 
	`_cfig
(
cfg
);

296 
	`_DkSmUnm
(
cfg
->
w_da
, 
	`ALLOC_ALIGNUP
(cfg->
w_size
));

297 
	`
(
cfg
);

298 
l_cfig
.
ro_cfig
 = 
NULL
;

301 
__l_cڌ
.
mi_hd
 = 
l_cfig
.manifest_handle;

302 
__l_cڌ
.
execub
 = 
l_cfig
.
exec
;

305 
	`t_executi
(
gc
, 
gv
);

308 
	`tf
("unexpectedermination\n");

309 
ave
;

310 
	}
}

	@db_memory.c

26 
	~"l_defs.h
"

27 
	~"l.h
"

28 
	~"l_.h
"

29 
	~"l_r.h
"

30 
	~"l_debug.h
"

31 
	~"i.h
"

33 
bo
 
	$check_memy_ovp
 (* 
addr
, 
size_t
 
size
)

35 * 
l_m
 = 
l_cfig
.
lib_xt_t
;

36 * 
l_max
 = 
l_cfig
.
lib_da_d
;

38 * 
ovp_t
 = 
l_m
 < 
addr
 ?ddr :al_min;

39 * 
ovp_d
 = 
addr
 + 
size
 < 
l_max
 ?ddr + size :al_max;

41 i(
ovp_t
 < 
ovp_d
) {

42 
	`tf
("WARNING: Attempto change PAL-internal memory!!!!"

44  
ue
;

46  
l
;

47 
	}
}

49 
PAL_BUF


50 
	$DkVtuMemyAoc
 (
PAL_BUF
 
addr
, 
PAL_NUM
 
size
, 
PAL_FLG
 
loc_ty
,

51 
PAL_FLG
 

)

53 
	`e_ame
(
VtuMemyAoc
);

55 i((
addr
 && !
	`ALLOC_ALIGNED
ddr)|| !
size
 || !ALLOC_ALIGNED(size)) {

56 
	`nify_u
(
PAL_ERROR_INVAL
);

57  
NULL
;

60 i(
	`check_memy_ovp
(
addr
, 
size
)) {

61 
	`nify_u
(
PAL_ERROR_DENIED
);

62  
NULL
;

65 
t
 = 
	`_DkVtuMemyAoc
(&
addr
, 
size
, 
loc_ty
, 

);

67 i(
t
 < 0) {

68 
	`nify_u
(-
t
);

69  
NULL
;

72  
addr
;

73 
	}
}

76 
	$DkVtuMemyFe
 (
PAL_BUF
 
addr
, 
PAL_NUM
 
size
)

78 
	`e_ame
(
VtuMemyFe
);

80 i(!
addr
 || !
size
) {

81 
	`nify_u
(
PAL_ERROR_INVAL
);

85 i(!
	`ALLOC_ALIGNED
(
addr
|| !ALLOC_ALIGNED(
size
)) {

86 
	`nify_u
(
PAL_ERROR_INVAL
);

90 i(
	`check_memy_ovp
(
addr
, 
size
)) {

91 
	`nify_u
(
PAL_ERROR_DENIED
);

95 
t
 = 
	`_DkVtuMemyFe
(
addr
, 
size
);

96 i(
t
 < 0)

97 
	`nify_u
(-
t
);

98 
	}
}

100 
PAL_BOL


101 
	$DkVtuMemyPre
 (
PAL_BUF
 
addr
, 
PAL_NUM
 
size
, 
PAL_FLG
 

)

103 
	`e_ame
(
VtuMemyPre
);

105 i(!
addr
 || !
size
) {

106 
	`nify_u
(
PAL_ERROR_INVAL
);

107  
PAL_FALSE
;

110 i(!
	`ALLOC_ALIGNED
(
addr
|| !ALLOC_ALIGNED(
size
)) {

111 
	`nify_u
(
PAL_ERROR_INVAL
);

112  
PAL_FALSE
;

115 i(
	`check_memy_ovp
(
addr
, 
size
)) {

116 
	`nify_u
(
PAL_ERROR_DENIED
);

117  
NULL
;

120 
t
 = 
	`_DkVtuMemyPre
(
addr
, 
size
, 

);

122 i(
t
 < 0) {

123 
	`nify_u
(-
t
);

124  
PAL_FALSE
;

127  
PAL_TRUE
;

128 
	}
}

	@db_misc.c

26 
	~"l_defs.h
"

27 
	~"l.h
"

28 
	~"l_.h
"

29 
	~"l_r.h
"

30 
	~"i.h
"

32 
PAL_NUM
 
	$DkSyemTimeQuy
 ()

34 
	`e_ame
(
SyemTimeQuy
);

36 
time
 = 
	`_DkSyemTimeQuy
();

38  
time
;

39 
	}
}

41 
mux_hd
 
	glock
 = 
MUTEX_HANDLE_INIT
;

42 
	gndv
 = 0;

44 
	$_ndg
 ()

46 
v
;

48 i(
	`_DkRdomBsRd
(&
v
, (val)) < (val))

49  -
PAL_ERROR_DENIED
;

51 
	`_DkMuxLock
(&
lock
);

52 
ndv
 = 
v
;

53 
	`_DkMuxUock
(&
lock
);

56 
	}
}

58 
	$gnd
 (* 
bufr
, 
size
)

60 
v
;

61 
bys
 = 0;

63 
	`_DkMuxLock
(&
lock
);

64 !
ndv
) {

65 
	`_DkMuxUock
(&
lock
);

66 i(
	`_ndg
() < 0)

67  -
PAL_ERROR_DENIED
;

68 
	`_DkMuxLock
(&
lock
);

71 
v
 = 
ndv
;

72 
ndv
++;

73 
	`_DkMuxUock
(&
lock
);

75 
bys
 + (<
size
) {

76 *(*(
bufr
 + 
bys

v
;

77 
v
 = 
	`hash64
(val);

78 
bys
 += ();

81 i(
bys
 < 
size
) {

82 
size
 - 
bys
) {

84 *(*(
bufr
 + 
bys

ndv
 & 0xffffffff;

85 
bys
 += 4;

89 *(*(
bufr
 + 
bys

ndv
 & 0xffff;

90 
bys
 += 2;

94 *(*(
bufr
 + 
bys

ndv
 & 0xff;

95 
bys
++;

100 
ndv
 = 
	`hash64
(randval);

103 
	`_DkMuxLock
(&
lock
);

104 
ndv
 = 
v
;

105 
	`_DkMuxUock
(&
lock
);

107  
bys
;

108 
	}
}

110 
PAL_NUM
 
	$DkRdomBsRd
 (
PAL_BUF
 
bufr
, 
PAL_NUM
 
size
)

112 
	`e_ame
(
RdomBsRd
);

114 i(!
bufr
 || !
size
) {

115 
	`nify_u
(
PAL_ERROR_INVAL
);

119 
t
 = 
	`_DkRdomBsRd
(
bufr
, 
size
);

121 i(
t
 < 0) {

122 
	`nify_u
(-
t
);

126  
t
;

127 
	}
}

129 
PAL_BOL
 
	$DkInruiCacheFlush
 (
PAL_PTR
 
addr
, 
PAL_NUM
 
size
)

131 
	`e_ame
(
InruiCacheFlush
);

133 i(!
addr
 || !
size
) {

134 
	`nify_u
(
PAL_ERROR_INVAL
);

135  
PAL_FALSE
;

138 
t
 = 
	`_DkInruiCacheFlush
(
addr
, 
size
);

140 i(
t
 < 0) {

141 
	`nify_u
(-
t
);

142  
PAL_FALSE
;

145  
PAL_TRUE
;

146 
	}
}

	@db_object.c

26 
	~"l_defs.h
"

27 
	~"l.h
"

28 
	~"l_.h
"

29 
	~"l_r.h
"

30 
	~"l_debug.h
"

31 
	~"i.h
"

33 
	$_DkObjeRen
 (
PAL_HANDLE
 
objeHd
)

35 i(!
objeHd
 || 
	`UNKNOWN_HANDLE
(objectHandle))

36  -
PAL_ERROR_INVAL
;

38 
	`omic_c
(&
objeHd
->
__
.
f
);

40 
	}
}

42 
	$DkObjeRen
 (
PAL_HANDLE
 
objeHd
)

44 
	`e_ame
(
ObjeRen
);

46 
t
 = 
	`_DkObjeRen
(
objeHd
);

48 i(
t
 < 0)

49 
	`nify_u
(-
t
);

50 
	}
}

52 
	$_DkObjeClo
 (
PAL_HANDLE
 
objeHd
)

54 i(!
objeHd
 || 
	`UNKNOWN_HANDLE
(objectHandle))

55  -
PAL_ERROR_INVAL
;

57 i(
	`omic_dec_d__ngive
(&
objeHd
->
__
.
f
))

60 cڡ 
hd_s
 * 
s
 = 
	`HANDLE_OPS
(
objeHd
);

63 i(
s
 && ops->
o
)

64  
s
->
	`o
(
objeHd
);

66 
	`
(
objeHd
);

68 
	}
}

74 
	$DkObjeClo
 (
PAL_HANDLE
 
objeHd
)

76 
	`e_ame
(
ObjeClo
);

78 
t
 = 
	`_DkObjeClo
(
objeHd
);

80 i(
t
 < 0)

81 
	`nify_u
(-
t
);

82 
	}
}

87 
PAL_HANDLE


88 
	$DkObjesWaAny
 (
PAL_NUM
 
cou
, 
PAL_HANDLE
 * 
hdAay
, PAL_NUM 
timeout
)

90 
	`e_ame
(
ObjesWaAny
);

92 i(!
cou
 || !
hdAay
) {

93 
	`nify_u
(
PAL_ERROR_INVAL
);

94  
NULL
;

97 
i
 = 0 ; i < 
cou
 ; i++)

98 i(
	`UNKNOWN_HANDLE
(
hdAay
[
i
]))

99 
hdAay
[
i
] = 
NULL
;

101 
PAL_HANDLE
 
pd
 = 
NULL
;

103 
t
 = 
	`_DkObjesWaAny
 (
cou
, 
hdAay
,

104 
timeout
 =
NO_TIMEOUT
 ? -1 :imeout,

105 &
pd
);

107 i(
t
 < 0) {

108 
	`nify_u
(-
t
);

109  
NULL
;

112  
pd
;

113 
	}
}

	@db_process.c

31 
	~"l_defs.h
"

32 
	~"l.h
"

33 
	~"l_.h
"

34 
	~"l_debug.h
"

35 
	~"l_r.h
"

36 
	~"i.h
"

37 
PAL_HANDLE


38 
	$DkProssCe
 (
PAL_STR
 
uri
, 
PAL_FLG
 
ags
, PAL_STR * 
gs
)

40 
	`e_ame
(
ProssCe
);

42 
PAL_HANDLE
 
hd
 = 
NULL
;

43 
t
 = 
	`_DkProssCe
(&
hd
, 
uri
, 
ags
, 
gs
);

44 i(
t
 < 0) {

45 
	`nify_u
(-
t
);

46  
NULL
;

49  
hd
;

50 
	}
}

52 
	$DkProssEx
 (
PAL_NUM
 
excode
)

54 
	`e_ame
(
ProssEx
);

56 
	`_DkProssEx
(
excode
);

58 
	`nify_u
(
PAL_ERROR_NOTKILLABLE
);

59 
	}
}

61 
PAL_BOL
 
	$DkProssSdboxCe
 (
PAL_STR
 
mi
, 
PAL_FLG
 
ags
)

63 
	`e_ame
(
ProssSdboxCe
);

65 
t
 = 
	`_DkProssSdboxCe
(
mi
, 
ags
);

67 i(
t
 < 0) {

68 
	`nify_u
(-
t
);

69  
PAL_FALSE
;

72  
PAL_TRUE
;

73 
	}
}

	@db_rtld.c

29 
	~"l_defs.h
"

30 
	~"l.h
"

31 
	~"l_.h
"

32 
	~"l_debug.h
"

33 
	~"l_r.h
"

34 
	~"l_ld.h
"

35 
	~"i.h
"

37 
	~<sysds/gic/ldsodefs.h
>

38 
	~<f/f.h
>

39 
	~<bs/dlf.h
>

41 
lk_m
 * 
	glded_librs
 = 
NULL
;

42 
lk_m
 * 
	gexec_m
 = 
NULL
;

43 
bo
 
	grun_d
 = 
l
;

45 
lk_m
 * 
lookup_symb
 (cڡ *
undef_me
, 
ElfW
(
Sym
**
f
);

47 #ifde
as


49 
__ibu__
((
nole
)
	$__as
 ()

51 
	`BREAK
();

52 
	}
}

59 
r_debug
 
	gl_r_debug
 =

60 { 1, 
NULL
, (
ElfW
(
Addr
)&
l_dl_debug_e
, 
RT_CONSISTENT
, 0 };

62 
	$__tyof
(
l_r_debug

_r_debug


63 
	`__ibu
 ((
	`s
 ("pal_r_debug")));

71 
	`__ibu__
((
nole
)
	$l_dl_debug_e
 ()

73 
	}
}

75 
	$__tyof
(
l_dl_debug_e

_dl_debug_e


76 
	`__ibu
 ((
	`s
 ("pal_dl_debug_state")));

78 
	`__ibu__
((
nole
)
	$_dl_debug_e_igg
 ()

80 
lk_m
 *
l
 = 
l_r_debug
.
r_m
;

81  ; 
l
 ; =->
l_xt
)

82 i(!
	`memcmp
(
l
->
l_me
, "file:", 5))

83 
l
->
l_me
 += 5;

85 
	`l_dl_debug_e
();

86 
	}
}

89 
	$ElfW
(
Addr

	`sve_m
 (cڡ **
ab
, 
	`ElfW
(
Sym
** 
f
)

91 i(
	`ELFW
(
ST_BIND
((*
f
)->
_fo
!
STB_LOCAL
) {

92 
lk_m
 * 
l
 = 
	`lookup_symb
((*
ab
+ (*
f
)->
_me
,ef);

93 i(
l
) {

94 *
ab
 = (cڡ *
	`D_PTR
 (
l
->
l_fo
[
DT_STRTAB
]);

95  
l
->
l_addr
;

99 
	}
}

101 
	$ElfW
(
Addr

	`sve_m__ld
 (
	`ElfW
(
Sym
* 
f
);

103 
	#RESOLVE_MAP_IN_RTLD
(
f

	`sve_m__ld
ef)

	)

104 
	#RESOLVE_MAP
(
ab
, 
f

	`sve_m
(ab,ef)

	)

106 
	~"dymic_lk.h
"

107 
	~"dl-mache-x86_64.h
"

111 
lk_m
 *

112 
	$w_f_obje
 (cڡ * 
me
, 
obje_ty
 
ty
)

114 
lk_m
 *
w
;

116 
w
 = (
lk_m
 *
	`mloc
( (link_map));

117 i(
w
 =
NULL
)

118  
NULL
;

121 
	`memt
(
w
, 0, (
lk_m
));

123 
w
->
l_me
 = 
me
 ?

124 
	`mloc
(
me
, 
	`
(realname) + 1) :

125 
NULL
;

126 
w
->
l_ty
 = 
ty
;

127  
w
;

128 
	}
}

131 
	$tup_f_hash
 (
lk_m
 *
m
)

133 
Elf_Symndx
 * 
hash
;

135 i(
	`__but_ex
 (
m
->
l_fo
[
	`DT_ADDRTAGIDX
 (
DT_GNU_HASH
+ 
DT_NUM


136 + 
DT_THISPROCNUM
 + 
DT_VERSIONTAGNUM


137 + 
DT_EXTRANUM
 + 
DT_VALNUM
] !
NULL
, 1)) {

138 
Elf32_Wd
 *
hash32


139 (*
	`D_PTR
 (
m
->
l_fo
[
	`DT_ADDRTAGIDX
 (
DT_GNU_HASH
+ 
DT_NUM


140 + 
DT_THISPROCNUM
 + 
DT_VERSIONTAGNUM


141 + 
DT_EXTRANUM
 + 
DT_VALNUM
]);

143 
m
->
l_nbucks
 = *
hash32
++;

145 
Elf32_Wd
 
symbs
 = *
hash32
++;

146 
Elf32_Wd
 
bmask_nwds
 = *
hash32
++;

149 
	`as
 ((
bmask_nwds
 & (bitmask_nwords - 1)) == 0);

150 
m
->
l_gnu_bmask_idxbs
 = 
bmask_nwds
 - 1;

151 
m
->
l_gnu_shi
 = *
hash32
++;

153 
m
->
l_gnu_bmask
 = (
	`ElfW
(
Addr
*
hash32
;

154 
hash32
 +
__ELF_NATIVE_CLASS
 / 32 * 
bmask_nwds
;

156 
m
->
l_gnu_bucks
 = 
hash32
;

157 
hash32
 +
m
->
l_nbucks
;

158 
m
->
l_gnu_cha_zo
 = 
hash32
 - 
symbs
;

163 i(!
m
->
l_fo
[
DT_HASH
])

166 
hash
 = (*
	`D_PTR
 (
m
->
l_fo
[
DT_HASH
]);

180 
m
->
l_nbucks
 = *
hash
++;

181 
hash
++;

182 
m
->
l_bucks
 = 
hash
;

183 
hash
 +
m
->
l_nbucks
;

184 
m
->
l_cha
 = 
hash
;

185 
	}
}

187 * 
	g__hp_ba
 = 
NULL
;

189 
	$ElfW
(
Addr

	$__g_hp_ba
 (
size_t
 
size
)

191 i(
__hp_ba
 == (*) -1)

194 i(!
__hp_ba
 &&

195 !(
__hp_ba
 = 
l_cfig
.
hp_ba
)) {

196 
__hp_ba
 = (*) -1;

200  (
	`ElfW
(
Addr
)(
__hp_ba
 -
	`ALLOC_ALIGNUP
(
size
));

201 
	}
}

205 
lk_m
 *

206 
	$m_f_obje_by_hd
 (
PAL_HANDLE
 
hd
, 
obje_ty
 
ty
,

207 * 
fbp
, 
size_t
 
fbp_n
,

208 
bo
 
do_cy_dyn
)

210 
lk_m
 * 
l
 = 
	`w_f_obje
(
	`_DkSmRͩh
(
hd
), 
ty
);

211 cڡ * 
rrg
 = 
NULL
;

212 
rv
 = 0;

213 
t
;

215 i(
hd
 =
NULL
) {

216 
rrg
 = "cannot stat shared object";

217 
rv
 = 
PAL_ERROR_INVAL
;

218 
_lo
:

219 
	`tf
("%(%d)\n", 
rrg
, 
	`PAL_STRERROR
(
rv
));

220  
NULL
;

224 cڡ 
	`ElfW
(
Ehdr
* 
hd
 = (*
fbp
;

228 
e_ty
 = 
hd
->e_type;

229 
l
->
l_y
 = 
hd
->
e_y
;

230 
l
->
l_phnum
 = 
hd
->
e_phnum
;

232 
size_t
 
mngth
 = 
hd
->
e_phnum
 *  (
	`ElfW
(
Phdr
));

233 
	`ElfW
(
Phdr
* 
phdr
;

235 i(
hd
->
e_phoff
 + 
mngth
 <(
size_t

fbp_n
) {

236 
phdr
 = (*(
fbp
 + 
hd
->
e_phoff
);

238 
phdr
 = (
	`ElfW
(
Phdr
*
	`mloc
 (
mngth
);

240 i((
t
 = 
	`_DkSmRd
(
hd
, 
hd
->
e_phoff
, 
mngth
, 
phdr
,

241 
NULL
, 0)) < 0) {

242 
rrg
 = "cannotead file data";

243 
rv
 = 
t
;

244 
_lo
;

252 
	sldcmd
 {

253 
	`ElfW
(
Addr

mt
, 
md
, 
dnd
, 
lond
;

254 
off_t
 
moff
;

255 

;

256 } 
ldcmds
[
l
->
l_phnum
], *
c
;

258 
size_t
 
dcmds
 = 0;

259 
bo
 
has_hes
 = 
l
;

266 cڡ 
	`ElfW
(
Phdr
* 
ph
;

267 
ph
 = 
phdr
;h < &phdr[
l
->
l_phnum
]; ++ph)

268 
ph
->
p_ty
)

273 
PT_DYNAMIC
:

274 
l
->
l_ld
 = (*
ph
->
p_vaddr
;

275 
l
->
l_ldnum
 = 
ph
->
p_memsz
 /  (
	`ElfW
(
Dyn
));

278 
PT_PHDR
:

279 
l
->
l_phdr
 = (*
ph
->
p_vaddr
;

282 
PT_LOAD
:

285 i(
	`__but_ex
 ((
ph
->
p_ign
 & 
locshi
) != 0, 0)) {

286 
rrg
 = "ELFoad commandlignmentotligned";

287 
rv
 = 
ENOMEM
;

288 
_lo
;

291 i(
	`__but_ex
 (((
ph
->
p_vaddr
 -h->
p_offt
)

292 & (
ph
->
p_ign
 - 1)) != 0, 0)) {

293 
rrg
 = "\
oad commandddress/offsetotroperlyligned";

295 
rv
 = 
ENOMEM
;

296 
_lo
;

299 
c
 = &
ldcmds
[
dcmds
++];

300 
c
->
mt
 = 
	`ALLOC_ALIGNDOWN
(
ph
->
p_vaddr
);

301 
c
->
md
 = 
	`ALLOC_ALIGNUP
(
ph
->
p_vaddr
 +h->
p_fesz
);

302 
c
->
dnd
 = 
ph
->
p_vaddr
 +h->
p_fesz
;

303 
c
->
lond
 = 
ph
->
p_vaddr
 +h->
p_memsz
;

304 
c
->
moff
 = 
	`ALLOC_ALIGNDOWN
(
ph
->
p_offt
);

308 i(
dcmds
 > 1 && 
c
[-1].
md
 !c->
mt
)

309 
has_hes
 = 
ue
;

312 #i(
PF_R
 | 
PF_W
 | 
PF_X
=7 && (
PROT_READ
 | 
PROT_WRITE
 | 
PROT_EXEC
) == 7

313 
c
->

 = (
PF_TO_PROT


314 >> ((
ph
->
p_ags
 & (
PF_R
 | 
PF_W
 | 
PF_X
)) * 4)) & 0xf;

316 
c
->

 = 0;

317 i(
ph
->
p_ags
 & 
PF_R
)

318 
c
->

 |
PROT_READ
;

319 i(
ph
->
p_ags
 & 
PF_W
)

320 
c
->

 |
PROT_WRITE
;

321 i(
ph
->
p_ags
 & 
PF_X
)

322 
c
->

 |
PROT_EXEC
;

326 
PT_TLS
:

327 i(
ph
->
p_memsz
 == 0)

331 
PT_GNU_STACK
:

335 
PT_GNU_RELRO
:

336 
l
->
l_o_addr
 = 
ph
->
p_vaddr
;

337 
l
->
l_o_size
 = 
ph
->
p_memsz
;

341 i(
	`__but_ex
 (
dcmds
 == 0, 0)) {

345 
rrg
 = "object file hasooadable segments";

346 
_lo
;

350 
c
 = 
ldcmds
;

353 
mngth
 = 
ldcmds
[
dcmds
 - 1].
lond
 - 
c
->
mt
;

355 
	#APPEND_WRITECOPY
(

(r)|
PAL_PROT_WRITECOPY
)

	)

357 i(
	`__but_ex
 (
e_ty
, 
ET_DYN
) == ET_DYN) {

369 
	`ElfW
(
Addr

mef
 = 
	`__g_hp_ba
(
mngth
);

372 
rv
 = 
	`_DkSmM
(
hd
, (**&
mef
,

373 
	`APPEND_WRITECOPY
(
c
->

), c->
moff
,

374 
mngth
);

376 i(
	`__but_ex
 (
rv
 < 0, 0)) {

377 
rv
 = -errval;

378 
m_r
:

379 
rrg
 = "failedo map segment from shared object";

380 
_lo
;

383 
l
->
l_m_t
 = 
mef
;

384 
l
->
l_m_d
 =->
l_m_t
 + 
mngth
;

385 
l
->
l_addr
 =->
l_m_t
 - 
c
->
mt
;

387 i(
has_hes
)

393 
	`_DkVtuMemyPre
((
ddr_t
(
l
->
l_addr
 + 
c
->
md
),

394 
ldcmds
[
dcmds
 - 1].
mt
 - 
c
->
md
,

395 
PAL_PROT_NONE
);

397 
pom
;

401 
l
->
l_m_t
 = 
c
->
mt
 +->
l_addr
;

402 
l
->
l_m_d
 =->
l_m_t
 + 
mngth
;

404 
c
 < &
ldcmds
[
dcmds
]) {

405 i(
c
->
md
 > c->
mt
) {

407 * 
maddr
 = (*(
l
->
l_addr
 + 
c
->
mt
);

408 
rv
;

410 i((
rv
 = 
	`_DkSmM
(
hd
, &
maddr
, 
	`APPEND_WRITECOPY
(
c
->

),

411 
c
->
moff
, c->
md
 - c->
mt
)) < 0) {

412 
m_r
;

416 
pom
:

417 i(
c
->

 & 
PROT_EXEC
) {

418 
l
->
l_xt_t
 =->
l_addr
 + 
c
->
mt
;

419 
l
->
l_xt_d
 =->
l_addr
 + 
c
->
md
;

422 i(
c
->

 & 
PROT_WRITE
) {

423 
l
->
l_da_t
 =->
l_addr
 + 
c
->
mt
;

424 
l
->
l_da_d
 =->
l_addr
 + 
c
->
md
;

427 i(
l
->
l_phdr
 == 0

428 && (
	`ElfW
(
Off
)
c
->
moff
 <
hd
->
e_phoff


429 && ((
size_t
(
c
->
md
 - c->
mt
 + c->
moff
)

430 >
hd
->
e_phoff
 + hd->
e_phnum
 *  (
	`ElfW
(
Phdr
))))

432 
l
->
l_phdr
 = (*(
c
->
mt
 + 
hd
->
e_phoff
 - c->
moff
);

434 i(
c
->
lond
 > c->
dnd
) {

437 
	`ElfW
(
Addr

zo
, 
znd
, 
zoc
;

439 
zo
 = 
l
->
l_addr
 + 
c
->
dnd
;

440 
znd
 = 
	`ALLOC_ALIGNUP
(
l
->
l_addr
 + 
c
->
lond
);

441 
zoc
 = 
	`ALLOC_ALIGNUP
(
zo
);

443 i(
znd
 < 
zoc
)

446 
zoc
 = 
znd
;

448 i(
zoc
 > 
zo
) {

450 i(
	`__but_ex
 ((
c
->

 & 
PROT_WRITE
) == 0, 0))

453 i(
	`_DkVtuMemyPre
((*
	`ALLOC_ALIGNDOWN
(
zo
),

454 
locsize
,

455 
c
->

|
PAL_PROT_WRITE
) < 0) {

456 
rrg
 = "cannot change memoryrotections";

457 
_lo
;

460 
	`memt
 ((*
zo
, '\0', 
zoc
 - zero);

461 i(
	`__but_ex
 ((
c
->

 & 
PROT_WRITE
) == 0, 0))

462 
	`_DkVtuMemyPre
((*
	`ALLOC_ALIGNDOWN
(
zo
),

463 
locsize
, 
c
->

);

466 i(
znd
 > 
zoc
) {

468 * 
m
 = (*
zoc
;

469 
rv
 = 
	`_DkVtuMemyAoc
(&
m
, 
znd
 - 
zoc
,

470 0, 
c
->

);

471 i(
	`__but_ex
 (
rv
 < 0, 0)) {

472 
rrg
 = "cannot map zero-fillllocation";

473 
_lo
;

478 ++
c
;

481 i(
l
->
l_ld
 == 0) {

482 i(
	`__but_ex
 (
e_ty
 =
ET_DYN
, 0)) {

483 
rrg
 = "object file haso dynamic section";

484 
_lo
;

487 
l
->
l_ld
 = (
	`ElfW
(
Dyn
*((ElfW(
Addr
)l->l_ld +->
l_addr
);

490 
l
->
l__ld
 =->
l_ld
;

492 i(
do_cy_dyn
)

493 
l
->
l_ld
 = 
	`mloc
->l_ld, (
	`ElfW
(
Dyn
)*->
l_ldnum
);

495 
	`f_g_dymic_fo
(
l
->
l_ld
,->
l_fo
,->
l_addr
);

499 i(
l
->
l_fo
[
DT_STRTAB
] &&->l_fo[
DT_SONAME
])

500 
l
->
l_same
 = (*(
	`D_PTR
 (l->
l_fo
[
DT_STRTAB
])

501 + 
	`D_PTR
 (
l
->
l_fo
[
DT_SONAME
]));

503 i(
l
->
l_phdr
 =
NULL
) {

507 
	`ElfW
(
Phdr
* 
wp
 = (ElfW(Phdr*
	`mloc
 (
hd
->
e_phnum


508 *  (
	`ElfW
(
Phdr
)));

509 i(!
wp
) {

510 
rrg
 = "cannotllocate memory forrogram header";

511 
_lo
;

514 
l
->
l_phdr
 = 
	`memy
(
wp
, 
phdr
,

515 
hd
->
e_phnum
 *  (
	`ElfW
(
Phdr
)));

518 
l
->
l_phdr
 = (
	`ElfW
(
Phdr
*((ElfW(
Addr
)l->l_phd+->
l_addr
);

521 
l
->
l_y
 +l->
l_addr
;

524 
	`tup_f_hash
 (
l
);

526  
l
;

527 
	}
}

529 
	$check_f_obje
 (
PAL_HANDLE
 
hd
)

531 
	#ELF_MAGIC_SIZE
 
EI_CLASS


	)

532 
bufr
[
ELF_MAGIC_SIZE
];

534 
n
 = 
	`_DkSmRd
(
hd
, 0, 
ELF_MAGIC_SIZE
, 
bufr
, 
NULL
, 0);

536 i(
	`__but_ex
 (
n
 < 0, 0))

537  -
n
;

539 i(
	`__but_ex
 (
n
 < 
ELF_MAGIC_SIZE
, 0))

540  -
PAL_ERROR_INVAL
;

542 
	`ElfW
(
Ehdr
* 
ehdr
 = (ElfW(Ehdr*
bufr
;

544 cڡ 
exed
[
EI_CLASS
] =

546 [
EI_MAG0
] = 
ELFMAG0
,

547 [
EI_MAG1
] = 
ELFMAG1
,

548 [
EI_MAG2
] = 
ELFMAG2
,

549 [
EI_MAG3
] = 
ELFMAG3
,

553 i(
	`__but_ex
(
	`memcmp
(
ehdr
->
e_idt
, 
exed
, 
ELF_MAGIC_SIZE
) !=

555  -
PAL_ERROR_INVAL
;

558 
	}
}

560 
	$_f_obje
 (
lk_m
 * 
m
)

563 
	`_DkVtuMemyFe
((*
m
->
l_m_t
,

564 
m
->
l_m_d
 - m->
l_m_t
);

566 
l_c_fo
.
_r_debug
->
r_e
 = 
RT_DELETE
;

567 
l_c_fo
.
	`_dl_debug_e
();

569 i(
m
->
l_ev
)

570 
m
->
l_ev
->
l_xt
 = map->l_next;

571 i(
m
->
l_xt
)

572 
m
->
l_xt
->
l_ev
 = map->l_prev;

574 
l_c_fo
.
_r_debug
->
r_e
 = 
RT_CONSISTENT
;

575 
l_c_fo
.
	`_dl_debug_e
();

577 i(
lded_librs
 =
m
)

578 
lded_librs
 = 
m
->
l_xt
;

580 
	`
(
m
);

581 
	}
}

584 
	$ld_f_obje
 (cڡ * 
uri
, 
obje_ty
 
ty
)

586 
PAL_HANDLE
 
hd
;

588 
t
 = 
	`_DkSmOn
(&
hd
, 
uri
, 
PAL_ACCESS_RDONLY
,

590 i(
t
 < 0)

591  
t
;

593 i(
ty
 =
OBJECT_EXEC
) {

594 
lk_m
 *
m
 = 
lded_librs
, *
xt
;

595 
m
) {

596 
xt
 = 
m
->
l_xt
;

597 i(
m
->
l_ty
 =
ty
)

598 
	`_f_obje
(
m
);

599 
m
 = 
xt
;

603 
t
 = 
	`ld_f_obje_by_hd
(
hd
, 
ty
);

605 
	`_DkObjeClo
(
hd
);

606  
t
;

607 
	}
}

609 
lo_f_obje
 (
lk_m
 *
l
);

611 
	$ld_f_obje_by_hd
 (
PAL_HANDLE
 
hd
, 
obje_ty
 
ty
)

613 
fb
[
FILEBUF_SIZE
];

614 * 
rrg
;

615 
t
 = 0;

619 
	`ElfW
(
Ehdr
* 
ehdr
 = (ElfW(Ehdr*&
fb
;

620 
	`ElfW
(
Phdr
* 
phdr
 = 
NULL
;

621 
phdr_mlod
 = 0;

623 
n
 = 
	`_DkSmRd
(
hd
, 0, 
FILEBUF_SIZE
, &
fb
, 
NULL
, 0);

625 i(
	`__but_ex
 (
n
 < (
	`ElfW
(
Ehdr
)), 0)) {

626 
rrg
 = "ELF file with strange size";

627 
vify_ed
;

630 
	#ELF32_CLASS
 
ELFCLASS32


	)

631 
	#ELF64_CLASS
 
ELFCLASS64


	)

633 cڡ 
exed
[
EI_NIDENT
] =

635 [
EI_MAG0
] = 
ELFMAG0
,

636 [
EI_MAG1
] = 
ELFMAG1
,

637 [
EI_MAG2
] = 
ELFMAG2
,

638 [
EI_MAG3
] = 
ELFMAG3
,

639 [
EI_CLASS
] = 
	`ELFW
(
CLASS
),

640 [
EI_DATA
] = 
byd
,

641 [
EI_VERSION
] = 
EV_CURRENT
,

642 [
EI_OSABI
] = 0,

645 
	#ELFOSABI_LINUX
 3

	)

646 
	#ELFOSABI_FREEBSD
 9

	)

648 
mngth
;

654 i(
	`__but_ex
(

655 
	`memcmp
(
ehdr
->
e_idt
, 
exed
, 
EI_OSABI
) != 0 || (

656 
ehdr
->
e_idt
[
EI_OSABI
] !
ELFOSABI_SYSV
 &&

658 
ehdr
->
e_idt
[
EI_OSABI
] !
ELFOSABI_LINUX
), 0)) {

659 
rrg
 = "ELF file with invalid header";

660 
vify_ed
;

666 
mngth
 = 
ehdr
->
e_phnum
 *  (
	`ElfW
(
Phdr
));

668 i(
ehdr
->
e_phoff
 + 
mngth
 <(
size_t

n
) {

669 
phdr
 = (*(&
fb
 + 
ehdr
->
e_phoff
);

672 
phdr
 = 
	`mloc
 (
mngth
);

673 
phdr_mlod
 = 1;

675 
t
 = 
	`_DkSmRd
(
hd
, 
ehdr
->
e_phoff
, 
mngth
, 
phdr
, 
NULL
, 0);

677 i(
t
 < 0 || !
mngth
) {

678 
rrg
 = "cannotead file data";

679 
vify_ed
;

683 
l_c_fo
.
_r_debug
->
r_e
 = 
RT_ADD
;

684 
l_c_fo
.
	`_dl_debug_e
();

686 
lk_m
 * 
m
;

688 i(!(
m
 = 
	`m_f_obje_by_hd
(
hd
, 
ty
, &
fb
, 
n
, 
ue
))) {

689 
rrg
 = "unexpected failure";

690 
vify_ed
;

693 
	`lo_f_obje
(
m
);

695 i(
m
->
l_ty
 =
OBJECT_EXEC
)

696 
exec_m
 = 
m
;

698 i(
m
->
l_ty
 =
OBJECT_PRELOAD
 && m->
l_y
)

699 
run_d
 = 
ue
;

701 
lk_m
 * 
ev
 = 
NULL
, ** 
v
 = &
lded_librs
,

702 * 
xt
 = 
lded_librs
;

704 
xt
) {

705 
ev
 = 
xt
;

706 
v
 = &
xt
->
l_xt
;

707 
xt
 =ext->
l_xt
;

710 *
v
 = 
m
;

711 
m
->
l_ev
 = 
ev
;

712 
m
->
l_xt
 = 
NULL
;

714 
l_c_fo
.
_r_debug
->
r_e
 = 
RT_CONSISTENT
;

715 
l_c_fo
.
	`_dl_debug_e
();

719 
vify_ed
:

721 i(
phdr
 && 
phdr_mlod
)

722 
	`
(
phdr
);

724 
	`tf
("%s\n", 
rrg
);

725  
t
;

726 
	}
}

728 
	ssym_v
 {

729 
ElfW
(
Sym
*
	ms
;

730 
lk_m
 *
	mm
;

736 
	$f_hash
 (cڡ *
me_g
)

738 cڡ *
me
 = (cڡ *
me_g
;

739 
hash
 = 0;

741 i(*
me
 == '\0')

742  
hash
;

744 
hash
 = *
me
++;

745 i(*
me
 == '\0')

746  
hash
;

748 
hash
 = (hash << 4+ *
me
++;

749 i(*
me
 == '\0')

750  
hash
;

752 
hash
 = (hash << 4+ *
me
++;

753 i(*
me
 == '\0')

754  
hash
;

756 
hash
 = (hash << 4+ *
me
++;

757 i(*
me
 == '\0')

758  
hash
;

760 
hash
 = (hash << 4+ *
me
++;

761 *
me
 != '\0') {

762 
hi
;

763 
hash
 = (hash << 4+ *
me
++;

764 
hi
 = 
hash
 & 0xf0000000;

775 
hash
 ^
hi
;

776 
hash
 ^
hi
 >> 24;

778  
hash
;

779 
	}
}

782 
ElfW
(
Sym
* 
check_mch
 (ElfW(Sym*
sym
, cڡ * 
ab
, cڡ * 
undef_me
, ElfW(Sym* 
f
)

784 
	gt
 = 
ELFW
(
ST_TYPE
(
sym
->
_fo
);

785 
as
 (
ELF_RTYPE_CLASS_PLT
 == 1);

787 i(
__but_ex
 ((
sym
->
_vue
 == 0

788 && 
t
 !
STT_TLS
)

789 || 
sym
->
_shndx
 =
SHN_UNDEF
, 0))

790  
	gNULL
;

795 
	#ALLOWED_STT
 \

796 ((1 << 
STT_NOTYPE
| (1 << 
STT_OBJECT
| (1 << 
STT_FUNC
) \

797 | (1 << 
STT_COMMON
| (1 << 
STT_TLS
| (1 << 
STT_GNU_IFUNC
))

	)

799 i(
__but_ex
 (((1 << 
t
& 
ALLOWED_STT
) == 0, 0))

800  
	gNULL
;

802 i(
	gsym
 !
f
) {

803 
i
 = 0, 
	gn
 = 

(
undef_me
);

804 ; 
	gi
 < 
	gn
 ; i++)

805 i(
	gab
[
sym
->
_me
 + 
i
] !
undef_me
[i])

806  
NULL
;

810  
	gsym
;

813 
ElfW
(
Sym
) *

814 
do_lookup_m
 (
ElfW
(
Sym
* 
f
, cڡ * 
undef_me
,

815 cڡ 
ut_32_t
 
hash
, 
f_hash
,

816 cڡ 
lk_m
 * 
m
)

819 
Elf_Symndx
 
	gsymidx
;

820 
ElfW
(
Sym
* 
	gsym
;

822 
ElfW
(
Sym
* 
	gsymb
 = (*
D_PTR
 (
m
->
l_fo
[
DT_SYMTAB
]);

823 cڡ * 
	gab
 = (cڡ *
D_PTR
 (
m
->
l_fo
[
DT_STRTAB
]);

825 cڡ 
ElfW
(
Addr
* 
	gbmask
 = 
m
->
l_gnu_bmask
;

827 i(
__but_ex
 (
bmask
 !
NULL
, 1)) {

828 
ElfW
(
Addr

	gbmask_wd
 = 
bmask
[(
hash
 / 
__ELF_NATIVE_CLASS
)

829 & 
m
->
l_gnu_bmask_idxbs
];

831 
	ghashb1
 = 
hash
 & (
__ELF_NATIVE_CLASS
 - 1);

832 
	ghashb2
 = (
hash
 >> 
m
->
l_gnu_shi
)

833 & (
__ELF_NATIVE_CLASS
 - 1);

835 i(
__but_ex
 ((
bmask_wd
 >> 
hashb1
)

836 & (
bmask_wd
 >> 
hashb2
) & 1, 0)) {

837 
Elf32_Wd
 
	gbuck
 = 
m
->
l_gnu_bucks


838 [
hash
 % 
m
->
l_nbucks
];

840 i(
	gbuck
 != 0) {

841 cڡ 
Elf32_Wd
 *
hashr
 = &
m
->
l_gnu_cha_zo
[
buck
];

844 i(((*
	ghashr
 ^ 
	ghash
) >> 1) == 0) {

845 
symidx
 = 
hashr
 - 
m
->
l_gnu_cha_zo
;

846 
	gsym
 = 
check_mch
 (&
symb
[
symidx
], 
ab
, 
undef_me
, 
f
);

847 i(
	gsym
 !
NULL
)

848  
sym
;

850 (*
	ghashr
++ & 1u) == 0);

855 
	gsymidx
 = 
SHN_UNDEF
;

860 
	gsymidx
 = 
m
->
l_bucks
[
f_hash
 % m->
l_nbucks
];

861 
	gsymidx
 !
STN_UNDEF
;

862 
	gsymidx
 = 
m
->
l_cha
[
symidx
]) {

863 
sym
 = 
check_mch
 (&
symb
[
symidx
], 
ab
, 
undef_me
, 
f
);

864 i(
	gsym
 !
NULL
)

865  
sym
;

869  
	gNULL
;

875 
do_lookup
 (cڡ * 
undef_me
, 
ElfW
(
Sym
* 
f
,

876 
sym_v
 * 
su
)

878 cڡ 
ut_32_t
 
	g_hash
 = 
f__hash
(
undef_me
);

879 cڡ 
	ghash
 = 
f_hash
(
undef_me
);

880 
ElfW
(
Sym
* 
	gsym
;

881 
lk_m
 * 
	gm
 = 
lded_librs
;

883 
	gm
) {

884 i(!
	gm
->
	gl_lookup_symb
) {

885 
	gm
 = 
m
->
l_xt
;

889 
	gsym
 = 
do_lookup_m
 (
f
, 
undef_me
, 
_hash
, 
hash
, 
m
);

891 i(
	gsym
 =
NULL
)

894 
__but_ex
 (
ELFW
(
ST_BIND
(
sym
->
_fo
), 
STB_GLOBAL
)) {

895 
	gSTB_WEAK
:

897 i(!
su
->
s
) {

898 
su
->
s
 = 
sym
;

899 
	gsu
->
	gm
 = (
lk_m
 *
m
;

904 
	gSTB_GLOBAL
:

905 
STB_GNU_UNIQUE
:

908 
su
->
s
 = 
sym
;

909 
	gsu
->
	gm
 = (
lk_m
 *
m
;

917 
	gm
 = 
m
->
l_xt
;

930 
lk_m
 * 
lookup_symb
 (cڡ * 
undef_me
, 
ElfW
(
Sym
** 
f
)

932 
sym_v
 
	gcut_vue
 = { 
NULL
, NULL };

934 
do_lookup
(
undef_me
, *
f
, &
cut_vue
);

936 i(
__but_ex
 (
cut_vue
.
s
 =
NULL
, 0)) {

937 *
	gf
 = 
NULL
;

938  
	gNULL
;

941 *
	gf
 = 
cut_vue
.
s
;

942  
	gcut_vue
.
	gm
;

945 
	$e_o
 (
lk_m
 * 
l
)

947 
	`ElfW
(
Addr

t
 = 
	`ALLOC_ALIGNDOWN
(
l
->
l_addr
 +->
l_o_addr
);

948 
	`ElfW
(
Addr

d
 = 
	`ALLOC_ALIGNUP
(
l
->
l_addr
 +->
l_o_addr
 +

949 
l
->
l_o_size
);

951 i(
t
 !
d
)

952 
	`_DkVtuMemyPre
((*
t
, 
d
 - s, 
PAL_PROT_READ
);

954 
	}
}

956 
	$lo_f_obje
 (
lk_m
 * 
l
)

958 
	sxs
 {

959 
	`ElfW
(
Addr

t
;

960 
	`ElfW
(
Addr

n
;

961 

;

962 
xs
 * 
xt
;

963 } * 
xs
 = 
NULL
;

964 
t
;

965 cڡ 
	`ElfW
(
Phdr
* 
ph
;

967 
ph
 = 
l
->
l_phdr
 ;h < &l->l_phdr[l->
l_phnum
] ;h++)

968 i(
ph
->
p_ty
 =
PT_LOAD
 && (ph->
p_ags
 & 
PF_W
) == 0) {

969 
xs
 * 
r
 = 
	`mloc
((textrels));

970 
r
->
t
 = 
	`ALLOC_ALIGNDOWN
(
ph
->
p_vaddr
+ 
l
->
l_addr
;

971 
r
->
n
 = 
	`ALLOC_ALIGNUP
(
ph
->
p_vaddr
 +h->
p_memsz
)

972 - 
	`ALLOC_ALIGNDOWN
(
ph
->
p_vaddr
);

974 
t
 = 
	`_DkVtuMemyPre
((*
r
->
t
,->
n
,

975 
PAL_PROT_READ
|
PAL_PROT_WRITE
);

976 i(
t
 < 0)

977  
t
;

979 #i(
PF_R
 | 
PF_W
 | 
PF_X
=7 && (
PROT_READ
 | 
PROT_WRITE
 | 
PROT_EXEC
) == 7

980 
r
->

 = (
PF_TO_PROT


981 >> ((
ph
->
p_ags
 & (
PF_R
 | 
PF_W
 | 
PF_X
)) * 4)) & 0xf;

983 
r
->

 = 0;

984 i(
ph
->
p_ags
 & 
PF_R
)

985 
r
->

 |
PROT_READ
;

986 i(
ph
->
p_ags
 & 
PF_W
)

987 
r
->

 |
PROT_WRITE
;

988 i(
ph
->
p_ags
 & 
PF_X
)

989 
r
->

 |
PROT_EXEC
;

991 
r
->
xt
 = 
xs
;

992 
xs
 = 
r
;

996 i(
l
->
l_ty
 =
OBJECT_EXEC
)

997 
	`ELF_DYNAMIC_SCAN
(
l
->
l_fo
,->
l_addr
);

999 
	`ELF_DYNAMIC_RELOCATE
(
l
->
l_fo
,->
l_addr
);

1001 
xs
) {

1002 
t
 = 
	`_DkVtuMemyPre
((*
xs
->
t
,exs->
n
,

1003 
xs
->

);

1004 i(
t
 < 0)

1005  
t
;

1007 
xs
 * 
xt
 =extrels->next;

1008 
	`
(
xs
);

1009 
xs
 = 
xt
;

1014 i(
l
->
l_ty
 !
OBJECT_EXEC
 &&->
l_o_size
 != 0)

1015 i((
t
 = 
	`e_o
(
l
)) < 0)

1016  
t
;

1018 i(
l
->
l_ty
 =
OBJECT_PRELOAD
 && 
l_cfig
.
sys_sym_me
) {

1019 
ut_32_t
 
_hash
 = 
	`f__hash
(
l_cfig
.
sys_sym_me
);

1020 
hash
 = 
	`f_hash
(
l_cfig
.
sys_sym_me
);

1021 
	`ElfW
(
Sym
* 
sym
 = 
NULL
;

1023 
sym
 = 
	`do_lookup_m
(
NULL
, 
l_cfig
.
sys_sym_me
, 
_hash
,

1024 
hash
, 
l
);

1026 i(
sym
) {

1027 
l_cfig
.
sys_sym_addr
 =

1028 (*(
l
->
l_addr
 + 
sym
->
_vue
);

1032 
l
->
l_lod
 = 
ue
;

1034 
	}
}

1036 
	$t_executi
 (
gc
, cڡ ** 
gv
)

1040 i(
exec_m
) {

1041 
__l_cڌ
.
execub_beg
 = (*
exec_m
->
l_m_t
;

1042 
__l_cڌ
.
execub_d
 = (*
exec_m
->
l_m_d
;

1045 
t
 = 0;

1047 i(!
run_d
)

1048 
NO_PRELOAD
;

1051 
size_t
 
ncooks
 = 
gc
 + 2;

1054 cڡ ** 
e
 = 
l_cfig
.
vmts
; *e;++)

1055 
ncooks
++;

1057 
ncooks
++;

1059 
size_t
 
cooksz
 = (* 
ncooks


1060 + (
	`ElfW
(
auxv_t
)) * 6

1063 * 
cooks
 = 
	`__lo
(
cooksz
);

1066 
cooks
[0] = (
gc
;

1067 
size_t
 
i
;

1069 
i
 = 0 ; i <
gc
 ; i++)

1070 
cooks
[
i
 + 1] = (
gv
[i];

1072 
size_t
 
t
 = 
gc
 + 2;

1074 i(
l_cfig
.
vmts
)

1075 
i
 = 0 ; 
l_cfig
.
vmts
[i]; i++)

1076 
cooks
[
t
++] = (
l_cfig
.
vmts
[
i
];

1078 
cooks
[
t
++] = 0;

1080 
	`ElfW
(
auxv_t
* 
auxv
 = (ElfWuxv_t*&
cooks
[
t
];

1082 
auxv
[0].
a_ty
 = 
AT_PHDR
;

1083 
auxv
[0].
a_un
.
a_v
 = 
exec_m
 ?

1084 (
	`__tyof
(
auxv
[1].
a_un
.
a_v
)
exec_m
->
l_phdr
 : 0;

1086 
auxv
[1].
a_ty
 = 
AT_PHNUM
;

1087 
auxv
[1].
a_un
.
a_v
 = 
exec_m
 ?xec_m->
l_phnum
 : 0;

1089 
auxv
[2].
a_ty
 = 
AT_PAGESZ
;

1090 
auxv
[2].
a_un
.
a_v
 = 
__l_cڌ
.
gesize
;

1092 
auxv
[3].
a_ty
 = 
AT_ENTRY
;

1093 
auxv
[3].
a_un
.
a_v
 = 
exec_m
 ?xec_m->
l_y
 : 0;

1095 
auxv
[4].
a_ty
 = 
AT_BASE
;

1096 
auxv
[4].
a_un
.
a_v
 = 
exec_m
 ?xec_m->
l_addr
 : 0;

1098 
auxv
[5].
a_ty
 = 
AT_NULL
;

1100 * 
ack
 = (*&
auxv
[6] + (
ut64_t
);

1101 ((
ut64_t
 *
ack
)[-1] = 0;

1104 
cooksz
 = (
PAL_PTR
&
auxv
[6] - (PAL_PTR
cooks
;

1106 
lk_m
 * 
l
 = 
lded_librs
 ; ; =->
l_xt
) {

1107 i(
l
->
l_ty
 !
OBJECT_PRELOAD
 || !l->
l_y
)

1110 #i
	`defed
(
__x86_64__
)

1111 
asm
 volatile (

1125 : "" (
t
)

1127 : "a"(
l
->
l_y
),

1128 "b"(
cooks
),

1129 "S"(
ack
)

1136 i(
t
 < 0)

1137 
	`_DkThadEx
(
t
);

1140 
NO_PRELOAD
:

1141 i(
exec_m
 &&xec_m->
l_y
) {

1143 #i
	`defed
(
__x86_64__
)

1144 
t
 = (((*) (, const **, const **))

1145 
exec_m
->
l_y
(
gc
, 
gv
, 
l_cfig
.
vmts
);

1152 
	`_DkProssEx
(
t
);

1155 
	`as
(0);

1156 
	}
}

	@db_semaphore.c

26 
	~"l_defs.h
"

27 
	~"l.h
"

28 
	~"l_.h
"

29 
	~"l_r.h
"

30 
	~"i.h
"

32 
PAL_HANDLE


33 
	$DkSemheCe
 (
PAL_NUM
 
lCou
, PAL_NUM 
maxCou
)

35 
	`e_ame
(
SemheCe
);

37 
PAL_HANDLE
 
hd
 = (PAL_HANDLE
	`mloc
(
	`HANDLE_SIZE
(
mhe
));

39 
t
 = 
	`_DkSemheCe
(
hd
, 
lCou
, 
maxCou
);

41 i(
t
 < 0) {

42 
	`nify_u
 (-
t
);

43  
NULL
;

46  
hd
;

47 
	}
}

50 
	$DkSemheDeroy
 (
PAL_HANDLE
 
mheHd
)

52 
	`e_ame
(
SemheDeroy
);

54 i(!
mheHd
) {

55 
	`nify_u
(
PAL_ERROR_INVAL
);

59 
	`_DkSemheDeroy
(
mheHd
);

60 
	}
}

62 
	$DkSemheR
 (
PAL_HANDLE
 
hd
, 
PAL_NUM
 
cou
)

64 
	`e_ame
(
SemheR
);

66 i(!
hd
 ||

67 !
	`IS_HANDLE_TYPE
(
hd
, 
mhe
))

70 
	`_DkSemheR
 (
hd
, 
cou
);

71 
	}
}

73 
	$m_wa
 (
PAL_HANDLE
 
hd
, 
timeout
)

75  
	`_DkSemheAcqueTimeout
(
hd
, 1, 
timeout
);

76 
	}
}

78 
hd_s
 
	gm_s
 = {

79 .
wa
 = &
m_wa
,

	@db_streams.c

27 
	~"l_defs.h
"

28 
	~"l.h
"

29 
	~"l_.h
"

30 
	~"l_debug.h
"

31 
	~"l_r.h
"

32 
	~"i.h
"

37 
hd_s
 
fe_s
;

38 
hd_s
 
pe_s
;

39 
hd_s
 
prv_s
;

40 
hd_s
 
dev_s
;

41 
hd_s
 
d_s
;

42 
hd_s
 
t_s
;

43 
hd_s
 
udp_s
;

44 
hd_s
 
udpv_s
;

45 
hade_s
 
udack_s
;

46 
hd_s
 
thad_s
;

47 
hd_s
 
oc_s
;

48 
hd_s
 
m_s
;

49 
hd_s
 
evt_s
;

50 
hd_s
 
gc_s
;

51 
hd_s
 
m_s
;

53 cڡ 
hd_s
 * 
	gl_hd_s
 [
PAL_HANDLE_TYPE_BOUND
] = {

54 
NULL
,

55 &
fe_s
,

56 &
pe_s
,

57 &
pe_s
,

58 &
pe_s
,

59 &
prv_s
,

60 &
dev_s
,

61 &
d_s
,

62 &
t_s
,

63 &
t_s
,

64 &
udp_s
,

65 &
udpv_s
,

66 &
oc_s
,

67 &
m_s
,

68 &
thad_s
,

69 &
m_s
,

70 &
evt_s
,

71 &
gc_s
,

76 
	$r_am_uri
 (cڡ ** 
uri
, cڡ ** 
efix
,

77 
hd_s
 ** 
s
)

79 cڡ * 
p
, * 
u
 = (*
uri
);

81 
p
 = 
u
 ; (*p) && (*p) != ':' ;++);

83 i((*
p
) != ':')

84  -
PAL_ERROR_INVAL
;

86 
hd_s
 * 
hs
 = 
NULL
;

88 
p
 - 
u
) {

90 i(
	`memcmp
(
u
, "dir", 3) == 0)

91 
hs
 = &
d_s
;

92 i(
	`memcmp
(
u
, "tcp", 3) == 0)

93 
hs
 = &
t_s
;

94 i(
	`memcmp
(
u
, "udp", 3) == 0)

95 
hs
 = &
udp_s
;

96 i(
	`memcmp
(
u
, "dev", 3) == 0)

97 
hs
 = &
dev_s
;

101 i(
	`memcmp
(
u
, "file", 4) == 0)

102 
hs
 = &
fe_s
;

103 i(
	`memcmp
(
u
, "pipe", 4) == 0)

104 
hs
 = &
pe_s
;

105 i(
	`memcmp
(
u
, "gipc", 4) == 0)

106 
hs
 = &
gc_s
;

110 i(
	`memcmp
(
u
, "tcp.srv", 7) == 0)

111 
hs
 = &
t_s
;

112 i(
	`memcmp
(
u
, "udp.srv", 7) == 0)

113 
hs
 = &
udp_s
;

117 i(
	`memcmp
(
u
, "pipe.srv", 8) == 0)

118 
hs
 = &
pe_s
;

125 i(!
hs
)

126  -
PAL_ERROR_NOTSUPPORT
;

128 *
uri
 = 
p
 + 1;

130 i(
efix
)

131 *
efix
 = 
u
;

133 i(
s
)

134 *
s
 = 
hs
;

137 
	}
}

142 
	$_DkSmOn
 (
PAL_HANDLE
 * 
hd
, cڡ * 
uri
,

143 
acss
, 
she
, 

, 
tis
)

145 
hd_s
 * 
s
 = 
NULL
;

146 cڡ * 
ty
 = 
NULL
;

148 
t
 = 
	`r_am_uri
(&
uri
, &
ty
, &
s
);

150 i(
t
 < 0)

151  
t
;

153 
	`as
(
s
 && ops->
ݒ
);

155  
s
->
	`ݒ
(
hd
, 
ty
, 
uri
, 
acss
, 
she
, 

, 
tis
);

156 
	}
}

161 
PAL_HANDLE


162 
	$DkSmOn
 (
PAL_STR
 
uri
, 
PAL_FLG
 
acss
, PAL_FLG 
she
, PAL_FLG 

,

163 
PAL_FLG
 
tis
)

165 
	`e_ame
(
SmOn
);

167 
PAL_HANDLE
 
hd
;

168 
t
 = 
	`_DkSmOn
(&
hd
, 
uri
, 
acss
, 
she
, 

, 
tis
);

170 i(
t
 < 0) {

171 
	`nify_u
 (-
t
);

172  
NULL
;

175  
hd
;

176 
	}
}

178 
	$_DkSmWaFCl
(
PAL_HANDLE
 
hd
, PAL_HANDLE * 

)

180 i(
	`UNKNOWN_HANDLE
(
hd
))

181  -
PAL_ERROR_BADHANDLE
;

183 cڡ 
hd_s
 * 
s
 = 
	`HANDLE_OPS
(
hd
);

187 i(!
s
 || !s->
waf
)

188  -
PAL_ERROR_NOTSERVER
;

190  
s
->
	`waf
(
hd
, 

);

191 
	}
}

193 
PAL_HANDLE


194 
	$DkSmWaFCl
 (
PAL_HANDLE
 
hd
)

196 
	`e_ame
(
SmWaFCl
);

198 
l_hd
 *

;

200 
t
 = 
	`_DkSmWaFCl
(
hd
, &

);

202 i(
t
 < 0) {

203 
	`nify_u
 (-
t
);

204  
NULL
;

207  

;

208 
	}
}

213 
	$_DkSmDe
 (
PAL_HANDLE
 
hd
, 
acss
)

215 i(
	`UNKNOWN_HANDLE
(
hd
))

216  -
PAL_ERROR_BADHANDLE
;

218 cڡ 
hd_s
 * 
s
 = 
	`HANDLE_OPS
(
hd
);

222 i(!
s
 || !s->
de
)

223  -
PAL_ERROR_NOTSUPPORT
;

225  
s
->
	`de
(
hd
, 
acss
);

226 
	}
}

230 
	$DkSmDe
 (
PAL_HANDLE
 
hd
, 
PAL_FLG
 
acss
)

232 
	`e_ame
(
SmDe
);

234 i(
hd
 =
NULL
) {

235 
	`nify_u
 (
PAL_ERROR_INVAL
);

239 
t
 = 
	`_DkSmDe
(
hd
, 
acss
);

241 i(
t
 < 0)

242 
	`nify_u
(-
t
);

243 
	}
}

247 
	$_DkSmRd
 (
PAL_HANDLE
 
hd
, 
offt
, 
cou
, * 
buf
,

248 * 
addr
, 
add
)

250 i(
	`UNKNOWN_HANDLE
(
hd
))

251  -
PAL_ERROR_BADHANDLE
;

253 cڡ 
hd_s
 * 
s
 = 
	`HANDLE_OPS
(
hd
);

257 i(!
s
)

258  -
PAL_ERROR_NOTSUPPORT
;

260 i(!
cou
)

261  -
PAL_ERROR_ZEROSIZE
;

263 
t
;

265 i(
addr
) {

266 i(!
s
->
adbyaddr
)

267  -
PAL_ERROR_NOTSUPPORT
;

269 
t
 = 
s
->
	`adbyaddr
(
hd
, 
offt
, 
cou
, 
buf
, 
addr
, 
add
);

271 i(!
s
->
ad
)

272  -
PAL_ERROR_NOTSUPPORT
;

274 
t
 = 
s
->
	`ad
(
hd
, 
offt
, 
cou
, 
buf
);

277  
t
 ? : -
PAL_ERROR_ENDOFSTREAM
;

278 
	}
}

282 
PAL_NUM


283 
	$DkSmRd
 (
PAL_HANDLE
 
hd
, 
PAL_NUM
 
offt
, PAL_NUM 
cou
,

284 
PAL_BUF
 
bufr
, PAL_BUF 
sour
, 
PAL_NUM
 
size
)

286 
	`e_ame
(
SmRd
);

288 i(!
hd
 || !
bufr
) {

289 
	`nify_u
 (
PAL_ERROR_INVAL
);

293 
t
 = 
	`_DkSmRd
(
hd
, 
offt
, 
cou
, 
bufr
,

294 
size
 ? (*
sour
 : 
NULL
,

295 
sour
 ? 
size
 : 0);

297 i(
t
 < 0) {

298 
	`nify_u
(-
t
);

299 
t
 = 0;

302  
t
;

303 
	}
}

307 
	$_DkSmWre
 (
PAL_HANDLE
 
hd
, 
offt
, 
cou
, cڡ * 
buf
,

308 cڡ * 
addr
, 
add
)

310 i(
	`UNKNOWN_HANDLE
(
hd
))

311  -
PAL_ERROR_BADHANDLE
;

313 cڡ 
hd_s
 * 
s
 = 
	`HANDLE_OPS
(
hd
);

315 i(!
s
)

316  -
PAL_ERROR_NOTSUPPORT
;

318 i(!
cou
)

319  -
PAL_ERROR_ZEROSIZE
;

321 
t
;

323 i(
addr
) {

324 i(!
s
->
wrebyaddr
)

325  -
PAL_ERROR_NOTSUPPORT
;

327 
t
 = 
s
->
	`wrebyaddr
(
hd
, 
offt
, 
cou
, 
buf
, 
addr
, 
add
);

329 i(!
s
->
wre
)

330  -
PAL_ERROR_NOTSUPPORT
;

332 
t
 = 
s
->
	`wre
(
hd
, 
offt
, 
cou
, 
buf
);

335  
t
 ? : -
PAL_ERROR_ENDOFSTREAM
;

336 
	}
}

340 
PAL_NUM


341 
	$DkSmWre
 (
PAL_HANDLE
 
hd
, 
PAL_NUM
 
offt
, PAL_NUM 
cou
,

342 cڡ 
PAL_PTR
 
bufr
, 
PAL_STR
 
de
)

344 
	`e_ame
(
SmWre
);

346 i(
hd
 =
NULL
 || 
bufr
 == NULL) {

347 
	`nify_u
 (
PAL_ERROR_INVAL
);

351 
t
 = 
	`_DkSmWre
(
hd
, 
offt
, 
cou
, 
bufr
, 
de
,

352 
de
 ? 
	`
(dest) : 0);

354 i(
t
 < 0) {

355 
	`nify_u
(-
t
);

356 
t
 = 0;

359  
t
;

360 
	}
}

364 
	$_DkSmAribusQuy
 (
PAL_STR
 
uri
, 
PAL_STREAM_ATTR
 * 

)

366 
hd_s
 * 
s
 = 
NULL
;

367 cڡ * 
ty
 = 
NULL
;

369 
t
 = 
	`r_am_uri
 (&
uri
, &
ty
, &
s
);

371 i(
t
 < 0)

372  
t
;

374 i(!
s
->
quy
)

375  -
PAL_ERROR_NOTSUPPORT
;

377  
s
->
	`quy
(
ty
, 
uri
, 

);

378 
	}
}

383 
PAL_BOL


384 
	$DkSmAribusQuy
 (
PAL_STR
 
uri
, 
PAL_STREAM_ATTR
 * 

)

386 
	`e_ame
(
SmAribusQuy
);

388 i(!
uri
 || !

) {

389 
	`nify_u
(
PAL_ERROR_INVAL
);

390  
PAL_FALSE
;

393 
PAL_STREAM_ATTR
 
_buf
;

395 
t
 = 
	`_DkSmAribusQuy
(
uri
, &
_buf
);

397 i(
t
 < 0) {

398 
	`nify_u
(-
t
);

399  
PAL_FALSE
;

402 
	`memy
(

, &
_buf
, (
PAL_STREAM_ATTR
));

403  
PAL_TRUE
;

404 
	}
}

408 
	$_DkSmAribusQuybyHd
 (
PAL_HANDLE
 
hdl
, 
PAL_STREAM_ATTR
 * 

)

410 i(
	`UNKNOWN_HANDLE
(
hdl
))

411  -
PAL_ERROR_BADHANDLE
;

413 cڡ 
hd_s
 * 
s
 = 
	`HANDLE_OPS
(
hdl
);

415 
	`as
(
s
);

418 i(!
s
->
quybyhdl
)

419  -
PAL_ERROR_NOTSUPPORT
;

421  
s
->
	`quybyhdl
(
hdl
, 

);

422 
	}
}

427 
PAL_BOL


428 
	$DkSmAribusQuybyHd
 (
PAL_HANDLE
 
hd
, 
PAL_STREAM_ATTR
 * 

)

430 
	`e_ame
(
SmAribusQuybyHd
);

432 i(!
hd
 || !

) {

433 
	`nify_u
(
PAL_ERROR_INVAL
);

434  
PAL_FALSE
;

437 
t
 = 
	`_DkSmAribusQuybyHd
(
hd
, 

);

439 i(
t
 < 0) {

440 
	`nify_u
 (-
t
);

441  
PAL_FALSE
;

444  
PAL_TRUE
;

445 
	}
}

450 
PAL_BOL


451 
	$DkSmAribusSbyHd
 (
PAL_HANDLE
 
hd
, 
PAL_STREAM_ATTR
 * 

)

453 
	`e_ame
(
SmAribusSbyHd
);

455 i(!
hd
 || !

) {

456 
	`nify_u
(
PAL_ERROR_INVAL
);

457  
PAL_FALSE
;

460 i(
	`UNKNOWN_HANDLE
(
hd
)) {

461 
	`nify_u
(
PAL_ERROR_BADHANDLE
);

462  
PAL_FALSE
;

465 cڡ 
hd_s
 * 
s
 = 
	`HANDLE_OPS
(
hd
);

467 
	`as
(
s
);

469 i(!
s
->
tbyhdl
) {

470 
	`nify_u
(
PAL_ERROR_NOTSUPPORT
);

471  
PAL_FALSE
;

474 
t
 = 
s
->
	`tbyhdl
(
hd
, 

);

476 i(
t
 < 0) {

477 
	`nify_u
 (-
t
);

478  
PAL_FALSE
;

481  
PAL_TRUE
;

482 
	}
}

487 
PAL_NUM
 
	$DkSmGName
 (
PAL_HANDLE
 
hd
, 
PAL_BUF
 
bufr
, 
PAL_NUM
 
size
)

489 
	`e_ame
(
SmGName
);

491 i(!
hd
 || !
bufr
 || !
size
) {

492 
	`nify_u
(
PAL_ERROR_INVAL
);

496 i(
	`UNKNOWN_HANDLE
(
hd
)) {

497 
	`nify_u
(
PAL_ERROR_BADHANDLE
);

501 cڡ 
hd_s
 * 
s
 = 
	`HANDLE_OPS
(
hd
);

503 
	`as
(
s
);

506 i(!
s
->
gme
) {

507 
	`nify_u
(
PAL_ERROR_NOTSUPPORT
);

511 
t
 = 
s
->
	`gme
(
hd
, 
bufr
, 
size
 - 1);

513 i(
t
 < 0) {

514 
	`nify_u
(-
t
);

518 ((*)
bufr
)[
t
] = 0;

519  
t
;

520 
	}
}

524 
	$_DkSmM
 (
PAL_HANDLE
 
hd
, ** 
ddr
, 

, 
offt
,

525 
size_t
 
size
)

527 * 
addr
 = *
ddr
;

528 
t
;

530 cڡ 
hd_s
 * 
s
 = 
	`HANDLE_OPS
(
hd
);

533 i(!
s
 || !s->
m
)

534  -
PAL_ERROR_NOTSUPPORT
;

536 i((
t
 = 
s
->
	`m
(
hd
, &
addr
, 

, 
offt
, 
size
)) < 0)

537  
t
;

539 *
ddr
 = 
addr
;

541 
	}
}

543 
bo
 
check_memy_ovp
 (* 
addr
, 
size_t
 
size
);

549 
PAL_BUF


550 
	$DkSmM
 (
PAL_HANDLE
 
hd
, 
PAL_BUF
 
addr
, 
PAL_FLG
 

, 
PAL_NUM
 
offt
,

551 
PAL_NUM
 
size
)

553 
	`e_ame
(
SmM
);

555 i(!
hd
) {

556 
	`nify_u
(
PAL_ERROR_INVAL
);

557  
NULL
;

560 i((
addr
 && !
	`ALLOC_ALIGNED
ddr)|| !
size
 || !ALLOC_ALIGNED(size) ||

561 !
	`ALLOC_ALIGNED
(
offt
)) {

562 
	`nify_u
(
PAL_ERROR_INVAL
);

563  
NULL
;

566 i(
	`check_memy_ovp
(
addr
, 
size
)) {

567 
	`nify_u
(
PAL_ERROR_DENIED
);

568  
NULL
;

571 
t
 = 
	`_DkSmM
(
hd
, &
addr
, 

, 
offt
, 
size
);

573 i(
t
 < 0) {

574 
	`nify_u
(-
t
);

575  
NULL
;

578  
addr
;

579 
	}
}

584 
	$DkSmUnm
 (
PAL_BUF
 
addr
, 
PAL_NUM
 
size
)

586 
	`e_ame
(
SmUnm
);

588 i(!
addr
) {

589 
	`nify_u
 (
PAL_ERROR_INVAL
);

593 i(
	`check_memy_ovp
(
addr
, 
size
)) {

594 
	`nify_u
(
PAL_ERROR_DENIED
);

598 
t
 = 
	`_DkSmUnm
(
addr
, 
size
);

600 i(
t
 < 0)

601 
	`nify_u
(
t
);

602 
	}
}

606 
	$_DkSmSLgth
 (
PAL_HANDLE
 
hd
, 
size_t
 
ngth
)

608 i(
	`UNKNOWN_HANDLE
(
hd
))

609  -
PAL_ERROR_BADHANDLE
;

611 cڡ 
hd_s
 * 
s
 = 
	`HANDLE_OPS
(
hd
);

613 i(!
s
 || !s->
gth
)

614  -
PAL_ERROR_NOTSUPPORT
;

616  
s
->
	`gth
(
hd
, 
ngth
);

617 
	}
}

621 
PAL_NUM


622 
	$DkSmSLgth
 (
PAL_HANDLE
 
hd
, 
PAL_NUM
 
ngth
)

624 
	`e_ame
(
SmSLgth
);

626 i(!
hd
) {

627 
	`nify_u
(
PAL_ERROR_INVAL
);

631 
t
 = 
	`_DkSmSLgth
(
hd
, 
ngth
);

633 i(
t
 < 0) {

634 
	`nify_u
(-
t
);

638  
t
;

639 
	}
}

643 
	$_DkSmFlush
 (
PAL_HANDLE
 
hd
)

645 i(
	`UNKNOWN_HANDLE
(
hd
))

646  -
PAL_ERROR_BADHANDLE
;

648 cڡ 
hd_s
 * 
s
 = 
	`HANDLE_OPS
(
hd
);

650 i(!
s
 || !s->
ush
)

651  -
PAL_ERROR_NOTSUPPORT
;

653  
s
->
	`ush
(
hd
);

654 
	}
}

658 
PAL_BOL
 
	$DkSmFlush
 (
PAL_HANDLE
 
hd
)

660 
	`e_ame
(
SmFlush
);

662 i(!
hd
) {

663 
	`nify_u
(
PAL_ERROR_INVAL
);

664  
PAL_FALSE
;

667 
t
 = 
	`_DkSmFlush
(
hd
);

669 i(
t
 < 0) {

670 
	`nify_u
(-
t
);

671  
PAL_FALSE
;

674  
PAL_TRUE
;

675 
	}
}

679 
PAL_BOL
 
	$DkSdHd
(
PAL_HANDLE
 
hd
, PAL_HANDLE 
rgo
)

681 
	`e_ame
(
SdHd
);

684 i(!
hd
 || !
rgo
) {

685 
	`nify_u
(
PAL_ERROR_INVAL
);

686  
PAL_FALSE
;

690 
t
 = 
	`_DkSdHd
(
hd
, 
rgo
);

692 i(
t
 < 0) {

693 
	`nify_u
(-
t
);

694  
PAL_FALSE
;

697  
PAL_TRUE
;

698 
	}
}

713 
PAL_HANDLE
 
	$DkReiveHd
 (
PAL_HANDLE
 
hd
)

715 
	`e_ame
(
ReiveHd
);

718 if(
hd
 =
NULL
) {

719 
	`nify_u
(
PAL_ERROR_INVAL
);

724 
l_hd
 
rgo
;

727 
t
 = 
	`_DkReiveHd
(
hd
, &
rgo
);

730 if(
t
 < 0) {

731  
NULL
;

734  
	`mloc
(&
rgo
, 
	`hd_size
(&cargo));

735 
	}
}

737 
PAL_BOL
 
	$DkSmChgeName
 (
PAL_HANDLE
 
hdl
, 
PAL_STR
 
uri
)

739 
hd_s
 * 
s
 = 
NULL
;

740 cڡ * 
ty
 = 
NULL
;

741 
t
;

743 i(
uri
) {

744 
t
 = 
	`r_am_uri
(&
uri
, &
ty
, &
s
);

746 i(
t
 < 0) {

747 
	`nify_u
(-
t
);

748  
PAL_FALSE
;

752 cڡ 
hd_s
 * 
hs
 = 
	`HANDLE_OPS
(
hdl
);

754 i(!
hs
 || !hs->
me
 || (
s
 && hops != ops)) {

755 
	`nify_u
(
PAL_ERROR_NOTSUPPORT
);

756  
PAL_FALSE
;

759 
t
 = 
hs
->
	`me
(
hdl
, 
ty
, 
uri
);

761 i(
t
 < 0) {

762 
	`nify_u
(-
t
);

763  
PAL_FALSE
;

766  
PAL_TRUE
;

767 
	}
}

771 cڡ * 
	$_DkSmRͩh
 (
PAL_HANDLE
 
hdl
)

773 cڡ 
hd_s
 * 
s
 = 
	`HANDLE_OPS
(
hdl
);

775 i(!
s
 || !s->
gth
)

776  
NULL
;

778  
s
->
	`gth
(
hdl
);

779 
	}
}

	@db_threading.c

26 
	~"l_defs.h
"

27 
	~"l.h
"

28 
	~"l_.h
"

29 
	~"l_r.h
"

30 
	~"l_debug.h
"

31 
	~"i.h
"

35 
PAL_HANDLE


36 
	$DkThadCe
 (
PAL_PTR
 
addr
, PAL_PTR 
m
, 
PAL_FLG
 
ags
)

38 
	`e_ame
(
ThadCe
);

40 
PAL_HANDLE
 
hd
 = 
NULL
;

41 
t
 = 
	`_DkThadCe
 (&
hd
, ((*)(*)
addr
,

42 
m
, 
ags
);

43 i(
t
 < 0) {

44 
	`nify_u
 (-
t
);

45  
NULL
;

48  
hd
;

49 
	}
}

51 
PAL_BUF
 
	$DkThadPrive
 (
PAL_BUF
 
addr
)

53 * 
t
 = 
	`_DkThadPrive
(
addr
);

55 i(
t
 =
NULL
)

56 
	`nify_u
(
PAL_ERROR_DENIED
);

58  
t
;

59 
	}
}

63 
PAL_NUM


64 
	$DkThadDayExecuti
 (
PAL_NUM
 
duti
)

66 
	`e_ame
(
ThadDayExecuti
);

68 
dur
 = 
duti
;

69 
t
 = 
	`_DkThadDayExecuti
(&
dur
);

71 i(
t
 < 0)

72 
	`nify_u
(
PAL_ERROR_INTERRUPTED
);

74  
dur
;

75 
	}
}

79 
	$DkThadYldExecuti
 ()

81 
	`_DkThadYldExecuti
();

82 
	}
}

86 
	$DkThadEx
 ()

88 
	`e_ame
(
ThadEx
);

90 
	`_DkThadEx
(0);

92 
	`nify_u
(
PAL_ERROR_NOTKILLABLE
);

93 
	}
}

97 
PAL_BOL
 
	$DkThadResume
 (
PAL_HANDLE
 
thadHd
)

99 
	`e_ame
(
ThadResume
);

101 i(!
thadHd
 ||

102 !
	`IS_HANDLE_TYPE
(
thadHd
, 
thad
)) {

103 
	`nify_u
(
PAL_ERROR_INVAL
);

104  
PAL_FALSE
;

107 
t
 = 
	`_DkThadResume
(
thadHd
);

109 i(
t
 < 0) {

110 
	`nify_u
(
PAL_ERROR_DENIED
);

111  
PAL_FALSE
;

114  
PAL_TRUE
;

115 
	}
}

	@dl-machine-x86_64.h

28 #ide
dl_mache_h


29 
	#dl_mache_h


	)

31 
	#ELF_MACHINE_NAME
 "x86_64"

	)

33 
	~<sys/m.h
>

34 
	~<sysd.h
>

35 
	~<sysds/gic/ldsodefs.h
>

36 
	~"l_.h
"

39 
	#ELF_MACHINE_NO_REL
 1

	)

46 #ifde
__lux__


49 
le
 

51 
	$f_mache_
 (
Elf64_Dyn
 **
l_fo
, 
Elf64_Addr
 
l_addr
,

52 
Elf64_Ra
 *
loc
, 
Elf64_Sym
 *
sym
, *cڡ 
loc_addr_g
,

53 
bo
 
l
, bo 
l_tive
)

55 
Elf64_Addr
 *cڡ 
loc_addr
 = 
loc_addr_g
;

56 cڡ 
r_ty
 = 
	`ELF64_R_TYPE
 (
loc
->
r_fo
);

58 cڡ * 
	`__ibu__
 ((
unud
)
ab
 =

59 (cڡ *
	`D_PTR
 (
l_fo
[
DT_STRTAB
]);

61 #ifde
DEBUG_RELOC


62 
	#f_mache__debug
(
r_ty
, 
sym
, 
vue
) \

63 ({ i(
ab
 && 
sym
 && sym->
_me
) \

64 
	`tf
(#r_ty "(%p): %=> %p\n", 
loc_addr
, 
ab
 + 
sym
->
_me
, 
vue
); \

65 i(
vue
) \

66 
	`tf
(#r_ty "(%p): %p\n", 
loc_addr
, 
vue
); \

68 
	`tf
(#r_ty "(%p)\n", 
loc_addr
); \

69 })

	)

71 
	#f_mache__debug
(...({})

	)

74 i(
	`__but_ex
 (
r_ty
 =
R_X86_64_RELATIVE
, 0))

83 i(
l_tive
)

85 #ide
RTLD_BOOTSTRAP


86 
	`f_mache__debug
 (
R_X86_64_RELATIVE
, 
sym
, 0);

87 *
loc_addr
 = 
l_addr
 + 
loc
->
r_addd
;

93 i(
	`__but_ex
 (
r_ty
 =
R_X86_64_NONE
, 0))

95 
	`f_mache__debug
 (
R_X86_64_NONE
, 
sym
, 0);

99 #ifde
RTLD_BOOTSTRAP


100 
Elf64_Addr
 
vue
 = (
sym
 =
NULL
 ? 0 : 
l_addr
 + sym->
_vue
);

101 
	#SYM
 (
sym
)

	)

103 
Elf64_Sym
 *
fsym
 = 
sym
;

104 
Elf64_Addr
 
vue
;

105 
Elf64_Addr
 
sym_m
 = 0;

107 
vue
 = 
	`RESOLVE_MAP_IN_RTLD
(
sym
);

109 i(
vue
) {

112 i(
r_ty
 =
R_X86_64_IRELATIVE
)

115 
sym_m
 = 
	`RESOLVE_MAP
(&
ab
, &
sym
? : 
l_addr
;

116 
vue
 = 
sym_m
 + (
sym
 ? sym->
_vue
 : 
fsym
->st_value);

119 
	#SYM
 (
sym
 ? : 
fsym
)

	)

122 i(!
l
) {

123 i(
sym
 && 
fsym
 &&efsym != sym) {

124 
fsym
->
_fo
 = 
sym
->st_info;

125 
fsym
->
_size
 = 
sym
->st_size;

127 i(
	`__but_ex
 (
	`ELFW
(
ST_TYPE
(
sym
->
_fo
)

128 =
STT_GNU_IFUNC
, 0)

129 && 
	`__but_ex
 (
sym
->
_shndx
 !
SHN_UNDEF
, 1))

131 
vue
 = ((
	`Elf64_Addr
 (*) ()) value) ();

133 
fsym
->
_fo
 ^
	`ELFW
(
ST_TYPE
)(
sym
->st_info);

134 
fsym
->
_fo
 |
STT_FUNC
;

137 
fsym
->
_vue
 = 
vue
 - 
l_addr
;

144 i(
sym
 !
NULL


145 && 
	`__but_ex
 (
	`ELFW
(
ST_TYPE
(
sym
->
_fo
)

146 =
STT_GNU_IFUNC
, 0)

147 && 
	`__but_ex
 (
sym
->
_shndx
 !
SHN_UNDEF
, 1))

148 
vue
 = ((
	`Elf64_Addr
 (*) ()) value) ();

154 
r_ty
)

156 
R_X86_64_GLOB_DAT
:

157 
	`f_mache__debug
 (
R_X86_64_GLOB_DAT
, 
SYM
, 
vue
);

158 *
loc_addr
 = 
vue
 + 
loc
->
r_addd
;

161 
R_X86_64_JUMP_SLOT
:

162 
	`f_mache__debug
 (
R_X86_64_JUMP_SLOT
, 
SYM
, 
vue
);

163 *
loc_addr
 = 
vue
 + 
loc
->
r_addd
;

166 #ide
RTLD_BOOTSTRAP


167 
R_X86_64_64
:

168 
	`f_mache__debug
 (
R_X86_64_64
, 
SYM
, 
vue
);

169 *
loc_addr
 = 
vue
 + 
loc
->
r_addd
;

172 
R_X86_64_32
:

173 
	`f_mache__debug
 (
R_X86_64_32
, 
SYM
, 
vue
);

174 
vue
 +
loc
->
r_addd
;

175 *(
Elf64_Addr
 *
loc_addr
 = 
vue
;

179 
R_X86_64_PC32
:

180 
	`f_mache__debug
 (
R_X86_64_PC32
, 
SYM
, 
vue
);

181 
vue
 +
loc
->
r_addd
 - (
Elf64_Addr

loc_addr
;

182 *(
Elf64_Addr
 *
loc_addr
 = 
vue
;

185 
R_X86_64_COPY
:

186 
	`f_mache__debug
 (
R_X86_64_COPY
, 
SYM
, 
vue
);

187 
size_t
 
sym_size
 = 
sym
 ? sym->
_size
 : 0;

188 
size_t
 
f_size
 = 
fsym
 ?efsym->
_size
 : 0;

189 
	`memy
 (
loc_addr_g
, (*
vue
, 
	`MIN
 (
sym_size
,

190 
f_size
));

193 
R_X86_64_IRELATIVE
:

194 
	`f_mache__debug
 (
R_X86_64_IRELATIVE
, 
SYM
, 
vue
);

195 
vue
 = 
sym_m
 + 
loc
->
r_addd
;

196 
vue
 = ((
	`Elf64_Addr
 (*) ()) value) ();

197 *
loc_addr
 = 
vue
;

204 i(!
l
)

207 
loc
->
r_fo
 ^
	`ELF64_R_TYPE
 (reloc->r_info);

208 
	}
}

209 #ifde
__lux__


212 
le
 

214 
	$f_mache__tive
 (
Elf64_Addr
 
l_addr
, cڡ 
Elf64_Ra
 *
loc
,

215 *cڡ 
loc_addr_g
)

217 
Elf64_Addr
 *cڡ 
loc_addr
 = 
loc_addr_g
;

218 
	`as
 (
	`ELF64_R_TYPE
 (
loc
->
r_fo
=
R_X86_64_RELATIVE
);

219 *
loc_addr
 = 
l_addr
 + 
loc
->
r_addd
;

220 
	}
}

	@do-rel.h

28 
	~<l_ld.h
>

30 
	~"dl-mache-x86_64.h
"

32 
	#f_dymic_do_l
 
f_dymic_do_


	)

33 
	#RELCOUNT_IDX
 
	`VERSYMIDX
 (
DT_RELACOUNT
)

	)

34 
	#R
 
Ra


	)

35 
	#f_mache_l
 
f_mache_


	)

36 
	#f_mache_l_tive
 
f_mache__tive


	)

38 #ide
DO_ELF_MACHINE_REL_RELATIVE


39 
	#DO_ELF_MACHINE_REL_RELATIVE
(
l_addr
, 
tive
) \

40 
	`f_mache_l_tive
 (
l_addr
, 
tive
, \

41 (*(
l_addr
 + 
tive
->
r_offt
))

	)

44 
__ibu__
((
unud
))

45 
f_dymic_do_l
 (
ElfW
(
Dyn
**
l_fo
, 
	$ElfW
(
Addr

l_addr
,

46 
	$ElfW
(
Addr

ddr
, 
	$ElfW
(
Addr

lsize
,

47 
bo
 
do_l
, bo 
do_l_tive
)

49 
	`ElfW
(
R
*
r
 = (*
ddr
;

50 
	`ElfW
(
R
*
d
 = (*(
ddr
 + 
lsize
);

52 i(!
l_fo
[
DT_SYMTAB
])

56 
	`ElfW
(
Sym
*
symb
 = (*
	`D_PTR
 (
l_fo
[
DT_SYMTAB
]);

57 
	`ElfW
(
Wd

Ėive
 = (
l_fo
[
RELCOUNT_IDX
] =
NULL


58 ? 0 : 
l_fo
[
RELCOUNT_IDX
]->
d_un
.
d_v
);

59 
	`ElfW
(
R
*
tive
 = 
r
;

60 
r
 = + 
	`MIN
 (
Ėive
, 
lsize
 /  (
	`ElfW
(
R
)));

62 i(
do_l_tive
)

63 #ide
RTLD_BOOTSTRAP


70 #i!
defed
 
DO_RELA
 || defed 
ELF_MACHINE_REL_RELATIVE


76 i(
l_addr
 != 0)

79 i(
l_addr
 !0 || !
l_fo
[
	`VALIDX
(
DT_GNU_PRELINKED
)])

82 ; 
tive
 < 
r
; ++relative) {

84 
	`DO_ELF_MACHINE_REL_RELATIVE
 (
l_addr
, 
tive
);

86 ; 
r
 < 
d
; ++r) {

88 
	`f_mache_l
 (
l_fo
, 
l_addr
, 
r
,

89 &
symb
[
	`ELFW
(
R_SYM
(
r
->
r_fo
)],

90 (*(
l_addr
 + 
r
->
r_offt
),

91 
do_l
, 
do_l_tive
);

94 
	}
}

96 #unde
f_dymic_do_l


97 #unde
R


98 #unde
f_mache_l


99 #unde
f_mache_l_tive


100 #unde
DO_ELF_MACHINE_REL_RELATIVE


101 #unde
RELCOUNT_IDX


	@dynamic_link.h

27 
	~<l_ld.h
>

28 
	~<f/f.h
>

29 
	~<dl-mache-x86_64.h
>

41 #i! 
ELF_MACHINE_NO_REL


42 #ifde
__lux__


43 
__ibu__
((
ways_le
))

45 
__ways_le
 

47 
f_mache_l
 (
ElfW
(
Dyn
** 
l_fo
, 
	$ElfW
(
Addr

l_addr
,

48 
	`ElfW
(
R
*
loc
, ElfW(
Sym
*
sym
, *cڡ 
loc_addr
,

49 
bo
 
l
, bo 
l_tive
);

51 #ifde
__lux__


52 
	`__ibu__
((
ways_le
))

54 
__ways_le
 

56 
	`f_mache_l_tive
 (
	$ElfW
(
Addr

l_addr
, cڡ 
	`ElfW
(
R
*
loc
,

57 *cڡ 
loc_addr
);

60 #i! 
ELF_MACHINE_NO_RELA


61 #ifde
__lux__


62 
	`__ibu__
((
ways_le
))

64 
__ways_le
 

66 
	`f_mache_
 (
	`ElfW
(
Dyn
** 
l_fo
, 
	$ElfW
(
Addr

l_addr
,

67 
	`ElfW
(
Ra
*
loc
, ElfW(
Sym
*
sym
, *cڡ 
loc_addr
,

68 
bo
 
l
, bo 
l_tive
);

70 #ifde
__lux__


71 
	`__ibu__
((
ways_le
))

73 
	`__ibu__
((
__ways_le__
)) 

75 
	`f_mache__tive
 (
	$ElfW
(
Addr

l_addr
, cڡ 
	`ElfW
(
Ra
*
loc
,

76 *cڡ 
loc_addr
);

80 
le


81 
	`__ibu__
 ((
unud
, 
ways_le
))

82 
	`f_g_dymic_fo
 (
	`ElfW
(
Dyn
*
dyn
, ElfW(Dyn**
l_fo
, 
	$ElfW
(
Addr

l_addr
)

84 #i
__ELF_NATIVE_CLASS
 == 32

85 
Elf32_Wd
 
	td_g_uty
;

86 #i
__ELF_NATIVE_CLASS
 == 64

87 
Elf64_Xwd
 
	td_g_uty
;

90 
dyn
->
d_g
 !
DT_NULL
) {

91 i((
d_g_uty

dyn
->
d_g
 < 
DT_NUM
)

92 
l_fo
[
dyn
->
d_g
] = dyn;

94 i(
dyn
->
d_g
 >
DT_LOPROC
 &&

95 
dyn
->
d_g
 < 
DT_LOPROC
 + 
DT_THISPROCNUM
)

96 
l_fo
[
dyn
->
d_g
 - 
DT_LOPROC
 + 
DT_NUM
] = dyn;

98 i((
d_g_uty

	`DT_VERSIONTAGIDX
 (
dyn
->
d_g
< 
DT_VERSIONTAGNUM
)

99 
l_fo
[
	`VERSYMIDX
 (
dyn
->
d_g
)] = dyn;

101 i((
d_g_uty

	`DT_EXTRATAGIDX
 (
dyn
->
d_g
< 
DT_EXTRANUM
)

102 
l_fo
[
	`DT_EXTRATAGIDX
 (
dyn
->
d_g
+ 
DT_NUM
 + 
DT_THISPROCNUM


103 + 
DT_VERSIONTAGNUM
] = 
dyn
;

105 i((
d_g_uty

	`DT_VALTAGIDX
 (
dyn
->
d_g
< 
DT_VALNUM
)

106 
l_fo
[
	`DT_VALTAGIDX
 (
dyn
->
d_g
+ 
DT_NUM
 + 
DT_THISPROCNUM


107 + 
DT_VERSIONTAGNUM
 + 
DT_EXTRANUM
] = 
dyn
;

109 i((
d_g_uty

	`DT_ADDRTAGIDX
 (
dyn
->
d_g
< 
DT_ADDRNUM
)

110 
l_fo
[
	`DT_ADDRTAGIDX
 (
dyn
->
d_g
+ 
DT_NUM
 + 
DT_THISPROCNUM


111 + 
DT_VERSIONTAGNUM
 + 
DT_EXTRANUM
 + 
DT_VALNUM
] = 
dyn
;

113 ++
dyn
;

116 i(
l_addr
 != 0) {

117 
	#ADJUST_DYN_INFO
(
g
) \

119 i(
l_fo
[
g
]) { \

120 
l_fo
[
g
]->
d_un
.
d_r
 +
l_addr
; \

122 } 0);

	)

124 
	`ADJUST_DYN_INFO
 (
DT_HASH
);

125 
	`ADJUST_DYN_INFO
 (
DT_PLTGOT
);

126 
	`ADJUST_DYN_INFO
 (
DT_STRTAB
);

127 
	`ADJUST_DYN_INFO
 (
DT_SYMTAB
);

129 #i! 
ELF_MACHINE_NO_RELA


130 
	`ADJUST_DYN_INFO
 (
DT_RELA
);

133 #i! 
ELF_MACHINE_NO_REL


134 
	`ADJUST_DYN_INFO
 (
DT_REL
);

137 
	`ADJUST_DYN_INFO
 (
DT_JMPREL
);

138 
	`ADJUST_DYN_INFO
 (
	`VERSYMIDX
 (
DT_VERSYM
));

139 
	`ADJUST_DYN_INFO
 (
	`DT_ADDRTAGIDX
 (
DT_GNU_HASH
+ 
DT_NUM
 + 
DT_THISPROCNUM


140 + 
DT_VERSIONTAGNUM
 + 
DT_EXTRANUM
 + 
DT_VALNUM
);

141 #unde
ADJUST_DYN_INFO


145 i(
l_fo
[
DT_PLTREL
]) {

146 #i
ELF_MACHINE_NO_RELA


147 
	`as
 (
l_fo
[
DT_PLTREL
]->
d_un
.
d_v
 =
DT_REL
);

149 #i
ELF_MACHINE_NO_REL


150 
	`as
 (
l_fo
[
DT_PLTREL
]->
d_un
.
d_v
 =
DT_RELA
);

153 
	`as
 (
l_fo
[
DT_PLTREL
]->
d_un
.
d_v
 =
DT_REL


154 || 
l_fo
[
DT_PLTREL
]->
d_un
.
d_v
 =
DT_RELA
);

158 #i! 
ELF_MACHINE_NO_RELA


159 i(
l_fo
[
DT_RELA
])

160 
	`as
 (
l_fo
[
DT_RELAENT
]->
d_un
.
d_v
 = (
	`ElfW
(
Ra
)));

163 #i! 
ELF_MACHINE_NO_REL


164 i(
l_fo
[
DT_REL
])

165 
	`as
 (
l_fo
[
DT_RELENT
]->
d_un
.
d_v
 = (
	`ElfW
(
R
)));

168 #ifde
RTLD_BOOTSTRAP


170 
	`as
 (!
l_fo
[
	`VERSYMIDX
 (
DT_FLAGS_1
)]

171 || 
l_fo
[
	`VERSYMIDX
 (
DT_FLAGS_1
)]->
d_un
.
d_v
 =
DF_1_NOW
);

172 
	`as
 (!
l_fo
[
DT_FLAGS
]

173 || 
l_fo
[
DT_FLAGS
]->
d_un
.
d_v
 =
DF_BIND_NOW
);

175 
	`as
 (!
l_fo
[
DT_RUNPATH
]);

176 
	`as
 (!
l_fo
[
DT_RPATH
]);

178 
	}
}

180 #ifde
RTLD_BOOTSTRAP


181 
	#ELF_DURING_STARTUP
 (1)

	)

183 
	#ELF_DURING_STARTUP
 (0)

	)

196 #ifde
ELF_MACHINE_PLTREL_OVERLAP


201 
_f_dymic_do_loc
(
dt_loc
, 
dt_loc_sz
,

202 (*
do_loc
(
	`ElfW
(
Dyn
**, ElfW(
Addr
),

203 
	`ElfW
(
Addr
), ElfW(Addr),

204 
bo
, bool),

205 
	`ElfW
(
Dyn
**
l_fo
, 
	$ElfW
(
Addr

l_addr
,

206 
bo
 
l
, bo 
l_tive
)

208 ru { 
	`ElfW
(
Addr

t
, 
size
; } 
nges
[3];

209 
nges_dex
;

211 
nges
[0].
size
 =anges[1].size =anges[2].size = 0;

213 i(
l_fo
[
dt_loc
]) {

214 
nges
[0].
t
 = 
	`D_PTR
 (
l_fo
[
dt_loc
]);

215 
nges
[0].
size
 = 
l_fo
[
dt_loc_sz
]->
d_un
.
d_v
;

218 
nges_dex
 = 0;anges_index < 3; ++ranges_index)

219 (*
do_loc
(
l_fo
, 
l_addr
,

220 
nges
[
nges_dex
].
t
,

221 
nges
[
nges_dex
].
size
,

222 
zy
, 
l
, 
l_tive
);

223 
	}
}

227 
__ibu__
((
unud
))

228 
_f_dymic_do_loc
(
dt_loc
, 
dt_loc_sz
,

229 (*
do_loc
(
	`ElfW
(
Dyn
**, ElfW(
Addr
),

230 
	`ElfW
(
Addr
), ElfW(Addr),

231 
bo
, bool),

232 
	`ElfW
(
Dyn
**
l_fo
, 
	$ElfW
(
Addr

l_addr
,

233 
bo
 
l
, bo 
l_tive
)

235 ru { 
	`ElfW
(
Addr

t
, 
size
; } 
nges
[2];

236 
nges
[0].
size
 =anges[1].size = 0;

237 
nges
[0].
t
 =anges[1].start = 0;

239 i(
l_fo
[
dt_loc
]) {

240 
nges
[0].
t
 = 
	`D_PTR
 (
l_fo
[
dt_loc
]);

241 
nges
[0].
size
 = 
l_fo
[
dt_loc_sz
]->
d_un
.
d_v
;

244 i(
l_fo
[
DT_PLTREL
]

245 && 
l_fo
[
DT_PLTREL
]->
d_un
.
d_v
 =
dt_loc
) {

246 
	`ElfW
(
Addr

t
 = 
	`D_PTR
 (
l_fo
[
DT_JMPREL
]);

248 i(!
ELF_DURING_STARTUP
 &&

252 
nges
[0].
t
 +ges[0].
size
 != start) {

253 
nges
[1].
t
 = start;

254 
nges
[1].
size
 = 
l_fo
[
DT_PLTRELSZ
]->
d_un
.
d_v
;

257 
	`as
 (
nges
[0].
t
 +ges[0].
size
 == start);

258 
nges
[0].
size
 +
l_fo
[
DT_PLTRELSZ
]->
d_un
.
d_v
;

263 i(
ELF_DURING_STARTUP
) {

265 (*
do_loc
(
l_fo
, 
l_addr
,

266 
nges
[0].
t
,ges[0].
size
,

267 
l
, 
l_tive
);

269 
nges_dex
;

270 
nges_dex
 = 0;anges_index < 2; ++ranges_index) {

272 (*
do_loc
(
l_fo
, 
l_addr
,

273 
nges
[
nges_dex
].
t
,

274 
nges
[
nges_dex
].
size
,

275 
l
, 
l_tive
);

278 
	}
}

281 
	#_ELF_DYNAMIC_DO_RELOC
(
RELOC
, 
loc
, 
l_fo
, 
l_addr
, \

282 
do_l
, 
do_l_tive
) \

283 
	`_f_dymic_do_loc
(
DT_
##
RELOC
, DT_##RELOC##
SZ
, \

284 &
f_dymic_do_
##
loc
, \

285 
l_fo
, 
l_addr
, \

286 
do_l
, 
do_l_tive
)

	)

288 #i
ELF_MACHINE_NO_REL
 || 
ELF_MACHINE_NO_RELA


289 
	#_ELF_CHECK_REL
 0

	)

291 
	#_ELF_CHECK_REL
 1

	)

294 #i! 
ELF_MACHINE_NO_REL


295 
	~"do-l.h
"

296 
	#ELF_DYNAMIC_DO_REL
(
l_fo
, 
l_addr
, 
l
, 
l_tive
) \

297 
	`_ELF_DYNAMIC_DO_RELOC
 (
REL
, 
l
, 
l_fo
, 
l_addr
,, 
l_tive
)

	)

300 
	#ELF_DYNAMIC_DO_REL
(
l_fo
, 
l_addr
, 
l
, 
l_tive
)

	)

303 #i! 
ELF_MACHINE_NO_RELA


304 
	#DO_RELA


	)

305 
	~"do-l.h
"

306 
	#ELF_DYNAMIC_DO_RELA
(
l_fo
, 
l_addr
, 
l
, 
l_tive
) \

307 
	`_ELF_DYNAMIC_DO_RELOC
 (
RELA
, 

, 
l_fo
, 
l_addr
, 
l
, 
l_tive
)

	)

310 
	#ELF_DYNAMIC_DO_RELA
(
l_fo
, 
l_addr
, 
l
, 
tive
)

	)

315 
	#ELF_DYNAMIC_RELOCATE
(
l_fo
, 
l_addr
) \

317 
	`ELF_DYNAMIC_DO_REL
 (
l_fo
, 
l_addr
, 
ue
,rue); \

318 
	`ELF_DYNAMIC_DO_RELA
(
l_fo
, 
l_addr
, 
ue
,rue); \

319 } 0)

	)

321 
	#ELF_DYNAMIC_SCAN
(
l_fo
, 
l_addr
) \

323 
	`ELF_DYNAMIC_DO_REL
 (
l_fo
, 
l_addr
, 
l
, false); \

324 
	`ELF_DYNAMIC_DO_RELA
(
l_fo
, 
l_addr
, 
l
, false); \

325 } 0)

	)

	@pal.h

26 #ide
PAL_H


27 
	#PAL_H


	)

29 
	~<dt.h
>

30 
	~<dbo.h
>

31 
	~<ddef.h
>

33 #ifde
__x86_64__


34 
	tPAL_NUM
;

36 cڡ * 
	tPAL_STR
;

37 cڡ * 
	tPAL_PTR
;

38 * 
	tPAL_BUF
;

39 
	tPAL_FLG
;

40 
	tPAL_IDX
;

41 
	tPAL_CHR
;

42 
bo
 
	tPAL_BOL
;

45 #ifde
__x86_64__


46 
ut64_t
 
	mr8
, 
	mr9
, 
	mr10
, 
	mr11
, 
	mr12
, 
	mr13
, 
	mr14
, 
	mr15
, 
	mrdi
, 
	mrsi
, 
	mrbp
, 
	mrbx
, 
	mrdx
, 
	mx
,

47 
	mrcx
, 
	mr
, 
	mr
, 
	me
, 
	mcsgsfs
, 
	mr
, 
	mno
, 
	mdmask
, 
	m2
;

49 } 
	tPAL_CONTEXT
;

51 
	#PAL_TRUE
 
ue


	)

52 
	#PAL_FALSE
 
l


	)

56 
	ml_ty_ne
 = 0,

57 
	ml_ty_fe
,

58 
	ml_ty_pe
,

59 
	ml_ty_pev
,

60 
	ml_ty_pei
,

61 
	ml_ty_prv
,

62 
	ml_ty_dev
,

63 
	ml_ty_d
,

64 
	ml_ty_t
,

65 
	ml_ty_tv
,

66 
	ml_ty_udp
,

67 
	ml_ty_udpv
,

68 
	ml_ty_oss
,

69 
	ml_ty_m
,

70 
	ml_ty_thad
,

71 
	ml_ty_mhe
,

72 
	ml_ty_evt
,

73 
	ml_ty_gc
,

74 
	mPAL_HANDLE_TYPE_BOUND
,

77 #ifde
IN_PAL


78 
	somic_t
 {

79 vީ
t32_t
 
	mcou
;

80 } 
__ibu__
((
igd
(())));

82 
omic_t
 
	tPAL_REF
;

85 
PAL_IDX
 
	mty
;

86 
PAL_REF
 
	mf
;

87 
PAL_FLG
 
	mags
;

88 } 
	tPAL_HDR
;

93 
	smux_hd
 {

94 
omic_t
 
	mvue
;

95 #ifde
DEBUG_MUTEX


96 
	mowr
;

100 
	~"l_ho.h
"

102 
	#SET_HANDLE_TYPE
(
hd
, 
t
) \

104 (
hd
)->
__
.
ty
 = 
l_ty_
##
t
; \

105 (
hd
)->
__
.
f
.
cou
 = 0; \

106 (
hd
)->
__
.
ags
 = 0; \

107 } 0)

	)

109 
	#IS_HANDLE_TYPE
(
hd
, 
t
) \

110 ((
hd
)->
__
.
ty
 =
l_ty_
##
t
)

	)

113 
	ul_hd


116 
PAL_IDX
 
	mty
;

117 } 
	m__
;

118 } * 
	tPAL_HANDLE
;

122 
	#PAL_IDX_POISON
 ((
PAL_IDX
-1)

	)

123 
	#__PAL_GET_TYPE
(
h
((h)->
__
.
ty
)

	)

124 
	#__PAL_CHECK_TYPE
(
h
, 
t
(
	`__PAL_GET_TYPE
(h=
l_ty_
##t)

	)

129 
PAL_HANDLE
 
	mmi_hd
;

131 
PAL_STR
 
	mexecub
;

133 
PAL_BUF
 
	mexecub_beg
;

134 
PAL_BUF
 
	mexecub_d
;

136 
PAL_BUF
 
	mlibry_beg
;

137 
PAL_BUF
 
	mlibry_d
;

139 
PAL_NUM
 
	mgesize
;

141 
PAL_NUM
 
	mloc_ign
;

143 
PAL_HANDLE
 
	m_oss
;

145 
PAL_HANDLE
 
	mf_thad
;

147 
PAL_HANDLE
 
	mdebug_am
;

149 
PAL_HANDLE
 
	mbrd_am
;

150 } 
	tPAL_CONTROL
;

152 
	#l_cڌ
 (*
	`l_cڌ_addr
())

	)

154 
PAL_CONTROL
 * 
l_cڌ_addr
 ();

163 
	#PAL_ALLOC_32BIT
 0x0001

	)

164 
	#PAL_ALLOC_RESERVE
 0x0002

	)

167 
	#PAL_PROT_NONE
 0x0

	)

168 
	#PAL_PROT_READ
 0x1

	)

169 
	#PAL_PROT_WRITE
 0x2

	)

170 
	#PAL_PROT_EXEC
 0x4

	)

171 
	#PAL_PROT_WRITECOPY
 0x8

	)

174 
PAL_BUF


175 
DkVtuMemyAoc
 (
PAL_BUF
 
addr
, 
PAL_NUM
 
size
, 
PAL_FLG
 
loc_ty
,

176 
PAL_FLG
 

);

179 
DkVtuMemyFe
 (
PAL_BUF
 
addr
, 
PAL_NUM
 
size
);

181 
PAL_BOL


182 
DkVtuMemyPre
 (
PAL_BUF
 
addr
, 
PAL_NUM
 
size
,

183 
PAL_FLG
 

);

195 
	#PAL_PROCESS_MASK
 0x0

	)

197 
PAL_HANDLE


198 
DkProssCe
 (
PAL_STR
 
uri
, 
PAL_FLG
 
ags
, PAL_STR * 
gs
);

201 
DkProssEx
 (
PAL_NUM
 
exCode
);

203 
	#PAL_SANDBOX_PIPE
 0x1

	)

205 
PAL_BOL


206 
DkProssSdboxCe
 (
PAL_STR
 
mi
, 
PAL_FLG
 
ags
);

225 
	#PAL_ACCESS_RDONLY
 00

	)

226 
	#PAL_ACCESS_WRONLY
 01

	)

227 
	#PAL_ACCESS_RDWR
 02

	)

228 
	#PAL_ACCESS_MASK
 03

	)

231 
	#PAL_SHARE_GLOBAL_X
 01

	)

232 
	#PAL_SHARE_GLOBAL_W
 02

	)

233 
	#PAL_SHARE_GLOBAL_R
 04

	)

234 
	#PAL_SHARE_GROUP_X
 010

	)

235 
	#PAL_SHARE_GROUP_W
 020

	)

236 
	#PAL_SHARE_GROUP_R
 040

	)

237 
	#PAL_SHARE_OWNER_X
 0100

	)

238 
	#PAL_SHARE_OWNER_W
 0200

	)

239 
	#PAL_SHARE_OWNER_R
 0400

	)

240 
	#PAL_SHARE_MASK
 0777

	)

247 
	#PAL_CREAT_TRY
 0200

	)

251 
	#PAL_CREAT_ALWAYS
 0x0800

	)

253 
	#PAL_CREAT_MASK
 0300

	)

256 
	#PAL_OPTION_NONBLOCK
 04000

	)

257 
	#PAL_OPTION_MASK
 04000

	)

259 
PAL_HANDLE


260 
DkSmOn
 (
PAL_STR
 
uri
, 
PAL_FLG
 
acss
, PAL_FLG 
she_ags
,

261 
PAL_FLG
 

, PAL_FLG 
tis
);

263 
PAL_HANDLE


264 
DkSmWaFCl
 (
PAL_HANDLE
 
hd
);

266 
PAL_NUM


267 
DkSmRd
 (
PAL_HANDLE
 
hd
, 
PAL_NUM
 
offt
, PAL_NUM 
cou
,

268 
PAL_BUF
 
bufr
, PAL_BUF 
sour
, 
PAL_NUM
 
size
);

270 
PAL_NUM


271 
DkSmWre
 (
PAL_HANDLE
 
hd
, 
PAL_NUM
 
offt
, PAL_NUM 
cou
,

272 
PAL_PTR
 
bufr
, 
PAL_STR
 
de
);

274 
	#PAL_DELETE_RD
 01

	)

275 
	#PAL_DELETE_WR
 02

	)

278 
DkSmDe
 (
PAL_HANDLE
 
hd
, 
PAL_FLG
 
acss
);

280 
PAL_BUF


281 
DkSmM
 (
PAL_HANDLE
 
hd
, 
PAL_BUF
 
addss
, 
PAL_FLG
 

,

282 
PAL_NUM
 
offt
, PAL_NUM 
size
);

285 
DkSmUnm
 (
PAL_BUF
 
addr
, 
PAL_NUM
 
size
);

287 
PAL_NUM


288 
DkSmSLgth
 (
PAL_HANDLE
 
hd
, 
PAL_NUM
 
ngth
);

290 
PAL_BOL


291 
DkSmFlush
 (
PAL_HANDLE
 
hd
);

293 
PAL_BOL


294 
DkSdHd
 (
PAL_HANDLE
 
hd
, PAL_HANDLE 
rgo
);

296 
PAL_HANDLE


297 
DkReiveHd
 (
PAL_HANDLE
 
hd
);

301 
PAL_IDX
 
	mty
;

302 
PAL_NUM
 
	mfe_id
;

303 
PAL_NUM
 
	msize
;

304 
PAL_NUM
 
	macss_time
;

305 
PAL_NUM
 
	mchge_time
;

306 
PAL_NUM
 
	m_time
;

307 
PAL_BOL
 
	mdisced
;

308 
PAL_BOL
 
	madab
;

309 
PAL_BOL
 
	mwrb
;

310 
PAL_BOL
 
	mruab
;

311 
PAL_FLG
 
	mshe_ags
;

312 
PAL_BOL
 
	mnblockg
;

313 
PAL_BOL
 
	muaddr
;

314 
PAL_NUM
 
	mlg
;

315 
PAL_NUM
 
	mivebuf
;

316 
PAL_NUM
 
	mndbuf
;

317 
PAL_NUM
 
	mivimeout
;

318 
PAL_NUM
 
	mndtimeout
;

319 
PAL_BOL
 
	mt_ck
;

320 
PAL_BOL
 
	mt_klive
;

321 
PAL_BOL
 
	mt_noday
;

322 } 
	tPAL_STREAM_ATTR
;

324 
PAL_BOL


325 
DkSmAribusQuy
 (
PAL_STR
 
uri
, 
PAL_STREAM_ATTR
 * 

);

327 
PAL_BOL


328 
DkSmAribusQuybyHd
 (
PAL_HANDLE
 
hd
,

329 
PAL_STREAM_ATTR
 * 

);

331 
PAL_BOL


332 
DkSmAribusSbyHd
 (
PAL_HANDLE
 
hd
, 
PAL_STREAM_ATTR
 * 

);

334 
PAL_NUM


335 
DkSmGName
 (
PAL_HANDLE
 
hd
, 
PAL_BUF
 
bufr
, 
PAL_NUM
 
size
);

337 
PAL_BOL


338 
DkSmChgeName
 (
PAL_HANDLE
 
hd
, 
PAL_STR
 
uri
);

346 
	#PAL_THREAD_PARENT
 0x00008000

	)

347 
	#PAL_THREAD_DETACHED
 0x00400000

	)

348 
	#PAL_THREAD_STOPPED
 0x02000000

	)

350 
	#PAL_THREAD_MASK
 0x02408000

	)

352 
PAL_HANDLE


353 
DkThadCe
 (
PAL_PTR
 
addr
, PAL_PTR 
m
, 
PAL_FLG
 
ags
);

355 
PAL_BUF


356 
DkThadPrive
 (
PAL_BUF
 
addr
);

359 
PAL_NUM


360 
DkThadDayExecuti
 (
PAL_NUM
 
duti
);

363 
DkThadYldExecuti
 ();

366 
DkThadEx
 ();

368 
PAL_BOL


369 
DkThadResume
 (
PAL_HANDLE
 
thad
);

373 
	#PAL_EVENT_DIVZERO
 1

	)

375 
	#PAL_EVENT_MEMFAULT
 2

	)

377 
	#PAL_EVENT_ILLEGAL
 3

	)

379 
	#PAL_EVENT_QUIT
 4

	)

381 
	#PAL_EVENT_SUSPEND
 5

	)

383 
	#PAL_EVENT_RESUME
 6

	)

385 
	#PAL_EVENT_FAILURE
 7

	)

387 
	#PAL_EVENT_NUM_BOUND
 8

	)

389 
	#PAL_EVENT_PRIVATE
 0x0001

	)

390 
	#PAL_EVENT_RESET
 0x0002

	)

392 
PAL_BOL


393 
DkSExiHdr
 ((*
hdr
(
PAL_PTR
 
evt
, 
PAL_NUM
 
g
,

394 
PAL_CONTEXT
 * 
cڋxt
),

395 
PAL_NUM
 
evt
, 
PAL_FLG
 
ags
);

398 
	`DkExiRu
 (
PAL_PTR
 
evt
);

406 
PAL_HANDLE


407 
	`DkSemheCe
 (
PAL_NUM
 
lCou
, PAL_NUM 
maxCou
);

419 
	`DkSemheR
 (
PAL_HANDLE
 
mheHd
, 
PAL_NUM
 
cou
);

423 
PAL_HANDLE


424 
	`DkNifitiEvtCe
 (
PAL_BOL
 
lS
);

426 
PAL_HANDLE


427 
	`DkSynchriziEvtCe
 (
PAL_BOL
 
lS
);

432 
	`DkEvtS
 (
PAL_HANDLE
 
evtHd
);

437 
	`DkEvtCˬ
 (
PAL_HANDLE
 
evtHd
);

439 
	#NO_TIMEOUT
 ((
PAL_NUM
-1)

	)

442 
PAL_HANDLE


443 
	`DkObjesWaAny
 (
PAL_NUM
 
cou
, 
PAL_HANDLE
 * 
hdAay
, PAL_NUM 
timeout
);

453 
PAL_NUM


454 
	`DkSyemTimeQuy
 ();

456 
PAL_NUM


457 
	`DkRdomBsRd
 (
PAL_BUF
 
bufr
, 
PAL_NUM
 
size
);

460 
	`DkObjeClo
 (
PAL_HANDLE
 
objeHd
);

462 
PAL_BOL


463 
	`DkInruiCacheFlush
 (
PAL_PTR
 
addr
, 
PAL_NUM
 
size
);

465 
PAL_HANDLE


466 
	`DkCePhysilMemyChl
 (
PAL_NUM
 * 
key
);

468 
PAL_NUM


469 
	`DkPhysilMemyComm
 (
PAL_HANDLE
 
chl
, 
PAL_NUM
 
s
, 
PAL_BUF
 * 
addrs
,

470 
PAL_NUM
 * 
sizes
, 
PAL_FLG
 
ags
);

472 
PAL_NUM


473 
	`DkPhysilMemyM
 (
PAL_HANDLE
 
chl
, 
PAL_NUM
 
s
, 
PAL_BUF
 * 
addrs
,

474 
PAL_NUM
 * 
sizes
, 
PAL_FLG
 * 
s
);

	@pal_debug.h

26 #ide
PAL_DEBUG_H


27 
	#PAL_DEBUG_H


	)

29 
	~"l.h
"

31 #ifde
IN_PAL


33 
__as
 ();

35 
	#as
(
v
) \

37 i(!(
v
)) { \

38 
	`tf
("Assertion failed (%s): %s: %d\n", #val, \

39 
__FILE__
, 
__LINE__
); \

40 
	`__as
(); \

41 
	`_DkProssEx
(1); \

43 } 0)

	)

45 
	#abt
(
msg
) \

47 i(!(
v
)) { \

48 
	`tf
("Asi faed (%s): %s: %d\n", 
msg
, \

49 
__FILE__
, 
__LINE__
); \

50 
	`__as
(); \

51 
	`_DkProssEx
(1); \

53 } 0)

	)

57 
l_tf
 (cڡ *
fmt
, ...);

58 
l_tf
 (*
buf
, 
size_t
 
n
, cڡ *
fmt
, ...);

59 
l_oi
 (cڡ *
Ō
);

60 
l_
 (cڡ *
Ō
);

	@pal_defs.h

4 #ide
PAL_DEFS_H


5 
	#PAL_DEFS_H


	)

8 
	#STATIC_SLAB
 0

	)

	@pal_error.h

26 #ide
PAL_ERROR_H


27 
	#PAL_ERROR_H


	)

29 
	#PAL_ERROR_NOTIMPLEMENTED
 1

	)

30 
	#PAL_ERROR_NOTDEFINED
 2

	)

31 
	#PAL_ERROR_NOTSUPPORT
 3

	)

32 
	#PAL_ERROR_INVAL
 4

	)

33 
	#PAL_ERROR_TOOLONG
 5

	)

34 
	#PAL_ERROR_DENIED
 6

	)

35 
	#PAL_ERROR_BADHANDLE
 7

	)

36 
	#PAL_ERROR_STREAMEXIST
 8

	)

37 
	#PAL_ERROR_STREAMNOTEXIST
 9

	)

38 
	#PAL_ERROR_STREAMISFILE
 10

	)

39 
	#PAL_ERROR_STREAMISDIR
 11

	)

40 
	#PAL_ERROR_STREAMISDEVICE
 12

	)

41 
	#PAL_ERROR_INTERRUPTED
 13

	)

42 
	#PAL_ERROR_OVERFLOW
 14

	)

43 
	#PAL_ERROR_BADADDR
 15

	)

44 
	#PAL_ERROR_NOMEM
 16

	)

45 
	#PAL_ERROR_NOTKILLABLE
 17

	)

46 
	#PAL_ERROR_INCONSIST
 18

	)

47 
	#PAL_ERROR_TRYAGAIN
 19

	)

48 
	#PAL_ERROR_ENDOFSTREAM
 20

	)

49 
	#PAL_ERROR_NOTSERVER
 21

	)

50 
	#PAL_ERROR_NOTCONNECTION
 22

	)

51 
	#PAL_ERROR_ZEROSIZE
 23

	)

52 
	#PAL_ERROR_CONNFAILED
 24

	)

53 
	#PAL_ERROR_ADDRNOTEXIST
 25

	)

55 
	#PAL_ERROR_BOUND
 25

	)

57 cڡ * 
	gl_rrg
[] 
__ibu__
((
unud
)) = {

86 
	#PAL_STRERROR
(
o
) \

87 ({ 
_e
 = -
o
; ((_> 0 && _<
PAL_ERROR_BOUND
) ? \

88 
l_rrg
[
_e
] : "Unknowr"); })

	)

90 #ifde
IN_PAL


91 
	~<asm-o.h
>

93 
le
 
__ibu__
((
unud
))

94 
	$unix_to_l_r
 (
unix_o
)

96 
unix_o
) {

97 
ENOENT
:

98  -
PAL_ERROR_STREAMNOTEXIST
;

99 
EINTR
:

100  -
PAL_ERROR_INTERRUPTED
;

101 
EBADF
:

102  -
PAL_ERROR_BADHANDLE
;

103 
ETIMEDOUT
:

104 
EAGAIN
:

105  -
PAL_ERROR_TRYAGAIN
;

106 
ENOMEM
:

107  -
PAL_ERROR_NOMEM
;

108 
EFAULT
:

109  -
PAL_ERROR_BADADDR
;

110 
EEXIST
:

111  -
PAL_ERROR_STREAMEXIST
;

112 
ENOTDIR
:

113  -
PAL_ERROR_STREAMISFILE
;

114 
EINVAL
:

115  -
PAL_ERROR_INVAL
;

116 
ENAMETOOLONG
:

117  -
PAL_ERROR_TOOLONG
;

118 
EISDIR
:

119  -
PAL_ERROR_STREAMISDIR
;

121  -
PAL_ERROR_DENIED
;

123 
	}
}

	@pal_internal.h

27 #ide
PAL_INTERNAL_H


28 
	#PAL_INTERNAL_H


	)

30 
	~"l_defs.h
"

31 
	~"l.h
"

32 
	~"omic.h
"

34 #ide
IN_PAL


38 
	#LIBRARY_NAME
 "libl.so"

	)

39 
	#LIBRARY_NAMELEN
 9

	)

44 
	shd_s
 {

46 cڡ * (*
	mgth
(
PAL_HANDLE
 
	mhd
);

50 (*
	mgme
(
PAL_HANDLE
 
	mhd
, * 
	mbufr
, 
	mcou
);

55 (*
	mݒ
(
PAL_HANDLE
 * 
	mhd
, cڡ * 
	mty
, cڡ * 
	muri
,

56 
	macss
, 
	mshe
, 
	m
, 
	mtis
);

60 (*
	mad
(
PAL_HANDLE
 
	mhd
, 
	mofft
, 
	mcou
, * 
	mbufr
);

61 (*
	mwre
(
PAL_HANDLE
 
	mhd
, 
	mofft
, 
	mcou
,

62 cڡ * 
	mbufr
);

66 (*
	madbyaddr
(
PAL_HANDLE
 
	mhd
, 
	mofft
, 
	mcou
, * 
	mbufr
,

67 * 
	maddr
, 
	madd
);

68 (*
	mwrebyaddr
(
PAL_HANDLE
 
	mhd
, 
	mofft
, 
	mcou
,

69 cڡ * 
	mbufr
, cڡ * 
	maddr
, 
	madd
);

74 (*
	mo
(
PAL_HANDLE
 
	mhd
);

75 (*
	mde
(
PAL_HANDLE
 
	mhd
, 
	macss
);

80 (*
	mm
(
PAL_HANDLE
 
	mhd
, ** 
	maddss
, 
	m
, 
	mofft
,

81 
	msize
);

85 (*
	mgth
(
PAL_HANDLE
 
	mhd
, 
	mngth
);

88 (*
	mush
(
PAL_HANDLE
 
	mhd
);

92 (*
	mwaf
(
PAL_HANDLE
 
	mrv
, PAL_HANDLE *
	m
);

96 (*
	mquy
(cڡ * 
	mty
, cڡ * 
	muri
,

97 
PAL_STREAM_ATTR
 * 
	m
);

101 (*
	mquybyhdl
(
PAL_HANDLE
 
	mhd
, 
PAL_STREAM_ATTR
 * 
	m
);

105 (*
	mtbyhdl
(
PAL_HANDLE
 
	mhd
, 
PAL_STREAM_ATTR
 * 
	m
);

108 (*
	mwa
(
PAL_HANDLE
 
	mhd
, 
	mtime
);

112 (*
	mme
(
PAL_HANDLE
 
	mhd
, cڡ * 
	mty
, cڡ * 
	muri
);

115 cڡ 
hd_s
 * 
l_hd_s
 [];

117 
	#HANDLE_OPS
(
hd
) \

118 ({ 
_ty
 = 
	`HANDLE_TYPE
(
hd
); \

119 (
_ty
 <0 || _ty >
PAL_HANDLE_TYPE_BOUND
) ? \

120 
NULL
 : 
l_hd_s
[
_ty
]; \

121 })

	)

123 
r_am_uri
 (cڡ ** 
uri
, cڡ ** 
efix
,

124 
hd_s
 ** 
s
);

129 
le
 
ut32_t
 
	$hash32
 (
ut32_t
 
key
)

131 
key
 = ~key + (key << 15);

132 
key
 = key ^ (key >> 12);

133 
key
 = key + (key << 2);

134 
key
 = key ^ (key >> 4);

135 
key
 = (key + (key << 3)) + (key << 11);

136 
key
 = key ^ (key >> 16);

137  
key
;

138 
	}
}

140 
le
 
ut64_t
 
	$hash64
 (
ut64_t
 
key
)

142 
key
 = (~key) + (key << 21);

143 
key
 = key ^ (key >> 24);

144 
key
 = (key + (key << 3)) + (key << 8);

145 
key
 = key ^ (key >> 14);

146 
key
 = (key + (key << 2)) + (key << 4);

147 
key
 = key ^ (key >> 28);

148 
key
 = key + (key << 31);

149  
key
;

150 
	}
}

154 
	#HANDLE_SIZE
(
ty
({ 
PAL_HANDLE
 
_h
; (_h->ty); })

	)

156 
	#UNKNOWN_HANDLE
(
hd
) \

157 (
	`HANDLE_TYPE
(
hd
=0 || HANDLE_TYPE(hd>
PAL_HANDLE_TYPE_BOUND
)

	)

159 
le
 
	$hd_size
 (
PAL_HANDLE
 
hd
)

161 
hd_sizes
[
PAL_HANDLE_TYPE_BOUND
]

163 (
hd
->
fe
),

164 (
hd
->
pe
),

165 (
hd
->
pe
),

166 (
hd
->
pe
),

167 (
hd
->
prv
),

168 (
hd
->
dev
),

169 (
hd
->
d
),

170 (
hd
->
sock
),

171 (
hd
->
sock
),

172 (
hd
->
sock
),

173 (
hd
->
sock
),

174 (
hd
->
oss
),

175 (
hd
->
m
),

176 (
hd
->
thad
),

177 (
hd
->
mhe
),

178 (
hd
->
evt
),

179 (
hd
->
gc
),

182 i(
	`UNKNOWN_HANDLE
(
hd
))

185  
hd_sizes
[
	`HANDLE_TYPE
(
hd
)];

186 
	}
}

188 #ifde
__x86_64__


190 #ifde
OMIT_FRAME_POINTER


191 
	#e_ack
(
r
) \

192 * 
r
; \

194 
asm
 volatile ("movq %%rsp, %0\r\n" \

195 : "=g"(
r
) :: "memory"); \

196 } 0)

	)

198 
	#e_ack
(
r
, 
rbp
) \

199 * 
r
, * 
rbp
; \

201 
asm
 volatile ("movq %%rsp, %0\r\n" \

203 : "=g"(
r
), "=g"(
rbp
) :: "memory"); \

204 } 0)

	)

207 
	sch_ame
 {

208 
	mr
, 
	mrbp
, 
	mrbx
, 
	mrsi
, 
	mrdi
, 
	mr12
, 
	mr13
, 
	mr14
, 
	mr15
;

211 
	#e_gi
(
g
, 
v
) \

212 
asm
 vީ("movq %%" #g ", %0" : "=g" (
v
:: "memy");

	)

214 
	#e_gi__ame
(
g
, 
f

	`e_gi
eg, (f)->g)

	)

216 
	#ch_e_ame
(
f
) \

217 
	`e_gi__ame
(
r
, 
f
) \

218 
	`e_gi__ame
(
rbp
, 
f
) \

219 
	`e_gi__ame
(
rbx
, 
f
) \

220 
	`e_gi__ame
(
rsi
, 
f
) \

221 
	`e_gi__ame
(
rdi
, 
f
) \

222 
	`e_gi__ame
(
r12
, 
f
) \

223 
	`e_gi__ame
(
r13
, 
f
) \

224 
	`e_gi__ame
(
r14
, 
f
) \

225 
	`e_gi__ame
(
r15
, 
f
)

	)

227 
	#e_gi
(
g
, 
v
, 
obb
...) \

228 
asm
 vީ("movq %0, %%" #g :: "g" (
v
: "memy", ##
obb
);

	)

230 
	#e_gi__ame
(
g
, 
f
) \

231 
	`e_gi
(
g
, (
f
)->reg, \

232 "r15", "r14", "r13", "r12", "rdi", "rsi", "rbx")

	)

234 
	#ch_e_ame
(
f
) \

235 
	`e_gi__ame
(
r15
, 
f
) \

236 
	`e_gi__ame
(
r14
, 
f
) \

237 
	`e_gi__ame
(
r13
, 
f
) \

238 
	`e_gi__ame
(
r12
, 
f
) \

239 
	`e_gi__ame
(
rdi
, 
f
) \

240 
	`e_gi__ame
(
rsi
, 
f
) \

241 
	`e_gi__ame
(
rbx
, 
f
) \

242 
	`e_gi__ame
(
rbp
, 
f
) \

243 
	`e_gi__ame
(
r
, 
f
)

	)

247 
	sl_ame
 {

248 vީ
l_ame
 * 
	mlf
;

249 * 
	mfunc
;

250 cڡ * 
	mfuname
;

251 
ch_ame
 
	mch
;

252 
PAL_CONTEXT
 * 
	mcڋxt
;

253 * 
	mtv
;

256 
le


257 
	$__e_ame
 (
l_ame
 * 
ame
,

258 * 
func
, cڡ * 
funame
)

260 
ame
->
lf
 = frame;

261 
ame
->
func
 = func;

262 
ame
->
funame
 = funcname;

263 
ame
->
cڋxt
 = 
NULL
;

264 
ame
->
tv
 = 
NULL
;

265 
	`ch_e_ame
(&
ame
->
ch
)

266 
	}
}

268 
	#e_ame
(
f
) \

269 
l_ame
 
ame
; \

270 
	`__e_ame
(&
ame
, &
Dk
##
f
, "Dk" #f)

	)

278 
nify_u
 (
r
);

279 #ifde
__lux__


280 
	~"sigt.h
"

284 
	sl_cfig
 {

285 cڡ * 
mi
;

286 cڡ * 
exec
;

287 
PAL_HANDLE
 
mi_hd
;

288 
PAL_HANDLE
 
exec_hd
;

289 
cfig_e
 * 
ro_cfig
;

290 cڡ * 
lib_me
;

291 cڡ ** 
vmts
;

292 
gesize
;

293 
loc_ign
;

294 
bo
 
dmize
;

295 * 
hp_ba
;

296 * 
lib_xt_t
, * 
lib_xt_d
;

297 * 
lib_da_t
, * 
lib_da_d
;

298 
PAL_HANDLE
 
cse_ouut
;

299 cڡ * 
sys_sym_me
;

300 * 
sys_sym_addr
;

301 } 
l_cfig
;

303 
	#BREAK
() \

305 
asm
 volatile ("int $3"); \

306 } 0)

	)

308 
PAL_CONTROL
 
__l_cڌ
;

310 * 
xt_t
, * 
xt_d
;

311 * 
da_t
, * 
da_d
;

315 
locsize
, 
locshi
, 
locmask
;

317 
	#ALLOC_ALIGNDOWN
(
addr
) \

318 (
locsize
 ? (((
addr
)& 
locmask
 : (ddr))

	)

319 
	#ALLOC_ALIGNUP
(
addr
) \

320 (
locsize
 ? ((((
addr
)+ 
locshi
& 
locmask
 : (ddr))

	)

321 
	#ALLOC_ALIGNED
(
addr
) \

322 (
locsize
 && (((
addr
)=(((ddr)& 
locmask
))

	)

325 
l_ma
 (
gc
, cڡ ** 
gv
, cڡ ** 
vp
);

326 
_DkGPagesize
 ();

327 
_DkGAotiAlignmt
 ();

328 
_DkInHo
 (* 
rgc
, cڡ *** 
rgv
);

330 
	~<omic.h
>

333 
	#MUTEX_HANDLE_INIT
 { .
vue
 = { .
cou
 = 1 } }

	)

334 
	#INIT_MUTEX_HANDLE
(
mut
) \

335 d{ 
	`omic_t
(&(
mut
)->
vue
, 1); } 0)

	)

338 
_DkMuxLock
 (
mux_hd
 * 
mut
);

339 
_DkMuxLockTimeout
 (
mux_hd
 * 
mut
, 
timeout
);

340 
_DkMuxUock
 (
mux_hd
 * 
mut
);

344 
_DkSmOn
 (
PAL_HANDLE
 * 
hd
, cڡ * 
uri
,

345 
acss
, 
she
, 

, 
tis
);

346 
_DkSmDe
 (
PAL_HANDLE
 
hd
, 
acss
);

347 
_DkSmRd
 (
PAL_HANDLE
 
hd
, 
offt
, 
cou
, * 
buf
,

348 * 
addr
, 
add
);

349 
_DkSmWre
 (
PAL_HANDLE
 
hd
, 
offt
, 
cou
,

350 cڡ * 
buf
, cڡ * 
addr
, 
add
);

351 
_DkSmAribusQuy
 (
PAL_STR
 
uri
, 
PAL_STREAM_ATTR
 * 

);

352 
_DkSmAribusQuybyHd
 (
PAL_HANDLE
 
hdl
, 
PAL_STREAM_ATTR
 * 

);

353 
_DkSmM
 (
PAL_HANDLE
 
hd
, ** 
addr
, 

, 
offt
,

354 
size_t
 
size
);

355 
_DkSmUnm
 (* 
addr
, 
size_t
 
size
);

356 
_DkSmSLgth
 (
PAL_HANDLE
 
hd
, 
size_t
 
ngth
);

357 
_DkSmFlush
 (
PAL_HANDLE
 
hd
);

358 cڡ * 
_DkSmRͩh
 (
PAL_HANDLE
 
hdl
);

359 
_DkSdHd
(
PAL_HANDLE
 
hdl
, PAL_HANDLE 
rgo
);

360 
_DkReiveHd
(
PAL_HANDLE
 
hdl
, PAL_HANDLE 
rgo
);

361 
PAL_HANDLE
 
_DkBrdSmOn
 (
pt
);

364 
_DkThadCe
 (
PAL_HANDLE
 * 
hd
, (*
back
) (*),

365 cڡ * 
m
, 
ags
);

366 * 
	`_DkThadPrive
 (* 
addr
);

367 
	`_DkThadEx
 (
excode
);

368 
	`_DkThadDayExecuti
 (* 
duti
);

369 
	`_DkThadYldExecuti
 ();

370 
	`_DkThadResume
 (
PAL_HANDLE
 
thadHd
);

371 
	`_DkProssCe
 (
PAL_HANDLE
 * 
hd
, cڡ * 
uri
,

372 
ags
, cڡ ** 
gs
);

373 
	`_DkProssEx
 (
exCode
);

374 
	`_DkProssSdboxCe
 (cڡ * 
mi
, 
ags
);

377 
	`_DkSemheCe
 (
PAL_HANDLE
 
hd
, 
lCou
, 
maxCou
);

378 
	`_DkSemheDeroy
 (
PAL_HANDLE
 
mheHd
);

379 
	`_DkSemheAcque
 (
PAL_HANDLE
 
m
, 
cou
);

380 
	`_DkSemheAcqueTimeout
 (
PAL_HANDLE
 
m
, 
cou
, 
timeout
);

381 
	`_DkSemheR
 (
PAL_HANDLE
 
m
, 
cou
);

382 
	`_DkSemheGCutCou
 (
PAL_HANDLE
 
m
);

385 
	`_DkEvtCe
 (
PAL_HANDLE
 * 
evt
, 
bo
 
lS
,

386 
bo
 
iifiti
);

387 
	`_DkEvtDeroy
 (
PAL_HANDLE
 
hd
);

388 
	`_DkEvtS
 (
PAL_HANDLE
 
evt
);

389 
	`_DkEvtWaTimeout
 (
PAL_HANDLE
 
evt
, 
timeout
);

390 
	`_DkEvtWa
 (
PAL_HANDLE
 
evt
);

391 
	`_DkEvtCˬ
 (
PAL_HANDLE
 
evt
);

394 
	`_DkVtuMemyAoc
 (** 
ddr
, 
size_t
 
size
, 
loc_ty
,

395 

);

396 
	`_DkVtuMemyFe
 (* 
addr
, 
size_t
 
size
);

397 
	`_DkVtuMemyPre
 (* 
addr
, 
size_t
 
size
, 

);

400 
	`_DkObjeRen
 (
PAL_HANDLE
 
objeHd
);

401 
	`_DkObjeClo
 (
PAL_HANDLE
 
objeHd
);

402 
	`_DkObjesWaAny
 (
cou
, 
PAL_HANDLE
 * 
hdAay
, 
timeout
,

403 
PAL_HANDLE
 * 
pd
);

406 (*
	tPAL_UPCALL
(
	tPAL_PTR
, 
	tPAL_NUM
, 
	tPAL_CONTEXT
 *);

407 (*
_DkExiHdrs
[
PAL_EVENT_NUM_BOUND
 + 1](, 
PAL_UPCALL
, );

408 
	`_DkExiRu
 (cڡ * 
evt
);

411 
	`_DkSyemTimeQuy
 ();

412 
	`_DkRdomBsRd
 (* 
bufr
, 
size
);

413 
	`_DkInruiCacheFlush
 (cڡ * 
addr
, 
size_t
 
size
);

414 
	`_DkCePhysilMemyChl
 (
PAL_HANDLE
 * 
hd
, * 
key
);

415 
	`_DkPhysilMemyComm
 (
PAL_HANDLE
 
chl
, 
s
, ** 
addrs
,

416 * 
sizes
, 
ags
);

417 
	`_DkPhysilMemyM
 (
PAL_HANDLE
 
chl
, 
s
, ** 
addrs
,

418 * 
sizes
, * 
s
);

422 
	`sigl_tup
 ();

425 
	`gnd
 (* 
bufr
, 
size
);

428 
	`block_sigls
 (* 
sigs
, 
nsig
);

429 
	`unblock_sigls
 (* 
sigs
, 
nsig
);

431 * 
	`fd_addss
 (* 
addr
);

434 
	eobje_ty
 { 
OBJECT_RTLD
, 
OBJECT_EXEC
, 
OBJECT_PRELOAD
 };

436 
	`check_f_obje
 (
PAL_HANDLE
 
hd
);

437 
	`ld_f_obje
 (cڡ * 
uri
, 
obje_ty
 
ty
);

438 
	`ld_f_obje_by_hd
 (
PAL_HANDLE
 
hd
, 
obje_ty
 
ty
);

440 
	`_ab_mgr
 ();

441 * 
	`mloc
 (
size
);

442 * 
	`mloc
 (cڡ * 
mem
, 
size
);

443 * 
	`oc
 (
nmem
, 
size
);

444 
	`
 (* 
mem
);

446 
	#ibu_hidd
 
	`__ibu__
 ((
	`visiby
 ("hidd")))

	)

448 
	#s_r
(
me
#me

	)

450 
	#ex_s
(
me
) \

451 
	`__tyof
(
me

l_
##m
	`__ibu
 ((
	`s
 (
	`s_r
ame))))

	)

453 
	`_DkPrtCse
 (cڡ * 
buf
, 
size
);

454 
	`tf
 (cڡ *
fmt
, ...);

455 
	`tf
 (* 
buf
, 
size_t
 
n
, cڡ * 
fmt
, ...);

	@pal_rtld.h

24 #ide
PAL_RTLD_H


25 
	#PAL_RTLD_H


	)

27 
	~"l_.h
"

28 
	~"l_r.h
"

29 
	~"l_cury.h
"

30 
	~"i.h
"

32 
	~<sysds/gic/ldsodefs.h
>

33 
	~<f/f.h
>

34 
	~<bs/dlf.h
>

36 #ide
DT_THISPROCNUM


37 
	#DT_THISPROCNUM
 0

	)

40 
	$ElfW
(
	tWd

	tElf_Symndx
;

53 
	slk_m
 {

57 
	`ElfW
(
Addr

l_addr
;

58 cڡ * 
l_me
;

59 
	`ElfW
(
Dyn
* 
l__ld
;

60 
lk_m
 * 
l_xt
, * 
l_ev
;

64 
obje_ty
 
l_ty
;

66 
	`ElfW
(
Dyn
* 
l_ld
;

67 * 
l_same
;

68 
bo
 
l_lod
;

69 
bo
 
l_lookup_symb
;

71 
	`ElfW
(
Dyn
* 
l_fo
[
DT_NUM
 + 
DT_THISPROCNUM
 + 
DT_VERSIONTAGNUM


72 + 
DT_EXTRANUM
 + 
DT_VALNUM
 + 
DT_ADDRNUM
];

73 cڡ 
	`ElfW
(
Phdr
* 
l_phdr
;

74 
	`ElfW
(
Addr

l_y
;

75 
	`ElfW
(
Hf

l_phnum
;

76 
	`ElfW
(
Hf

l_ldnum
;

79 
	`ElfW
(
Addr

l_xt_t
, 
l_xt_d
;

80 
	`ElfW
(
Addr

l_da_t
, 
l_da_d
;

84 
	`ElfW
(
Addr

l_m_t
, 
l_m_d
;

88 
	`ElfW
(
Addr

l_o_addr
;

89 
size_t
 
l_o_size
;

91 
Elf_Symndx
 
l_nbucks
;

94 cڡ 
Elf_Symndx
 *
l_bucks
;

95 cڡ 
Elf_Symndx
 *
l_cha
;

98 
Elf32_Wd
 
l_gnu_bmask_idxbs
;

99 
Elf32_Wd
 
l_gnu_shi
;

100 cڡ 
	`ElfW
(
Addr
* 
l_gnu_bmask
;

101 cڡ 
Elf32_Wd
 * 
l_gnu_bucks
;

102 cڡ 
Elf32_Wd
 * 
l_gnu_cha_zo
;

105 
lk_m
 * 
lded_librs
;

106 
lk_m
 * 
ld_m
;

107 
lk_m
 * 
exec_m
;

113 
	sr_debug
 {

114 
r_vsi
;

116 
lk_m
 * 
r_m
;

123 
	`ElfW
(
Addr

r_brk
;

127 
RT_CONSISTENT
,

128 
RT_ADD
,

129 
RT_DELETE


130 } 
r_e
;

132 
	`ElfW
(
Addr

r_ldba
;

135 
	`l_dl_debug_e
 ();

141 
r_debug
 
l_r_debug
;

148 #ide
MAP_BASE_ADDR


149 
	#MAP_BASE_ADDR
(
l
0

	)

154 #ifde
ELF_PREFERRED_ADDRESS_DATA


155 
ELF_PREFERRED_ADDRESS_DATA
;

158 #ide
ELF_PREFERRED_ADDRESS


159 
	#ELF_PREFERRED_ADDRESS
(
ld
, 
mngth
, 
mf
(mf)

	)

162 #ide
ELF_FIXED_ADDRESS


163 
	#ELF_FIXED_ADDRESS
(
ld
, 
mt
((0)

	)

166 #ide
VERSYMIDX


167 
	#VERSYMIDX
(
sym
(
DT_NUM
 + 
DT_THISPROCNUM
 + 
	`DT_VERSIONTAGIDX
 (sym))

	)

170 #ide
VALIDX


171 
	#VALIDX
(
g
(
DT_NUM
 + 
DT_THISPROCNUM
 + 
DT_VERSIONTAGNUM
 \

172 + 
DT_EXTRANUM
 + 
	`DT_VALTAGIDX
 (
g
))

	)

175 #i
OS
 =
Lux


176 
	~<dn.h
>

178 
	~<sys/dn.h
>

181 #i
BYTE_ORDER
 =
BIG_ENDIAN


182 
	#byd
 
ELFDATA2MSB


	)

183 #i
BYTE_ORDER
 =
LITTLE_ENDIAN


184 
	#byd
 
ELFDATA2LSB


	)

186 #r "UnknowBYTE_ORDER " 
BYTE_ORDER


187 
	#byd
 
ELFDATANONE


	)

190 #i
__WORDSIZE
 == 32

191 
	#FILEBUF_SIZE
 512

	)

193 
	#FILEBUF_SIZE
 832

	)

196 
lk_m
 *

197 
	`w_f_obje
 (cڡ * 
me
, 
obje_ty
 
ty
);

198 
	`_f_obje
 (
lk_m
 * 
m
);

200 
le
 
ut_32_t
 
	$f__hash
 (cڡ *
s
)

202 
ut_32_t
 
h
 = 5381;

203 
c
 = *
s
; c != '\0'; c = *++s)

204 
h
 = h * 33 + 
c
;

205  
h
 & 0xffffffff;

206 
	}
}

208 
f_hash
 (cڡ *
me_g
);

210 
ElfW
(
Sym
) *

211 
do_lookup_m
 (
ElfW
(
Sym
* 
f
, cڡ * 
undef_me
,

212 cڡ 
ut_32_t
 
hash
, 
f_hash
,

213 cڡ 
lk_m
 * 
m
);

	@printf.c

20 
	~"l_.h
"

21 
	~"i.h
"

29 
	#PRINTBUF_SIZE
 256

	)

31 
	stbuf
 {

32 
	midx
;

33 
	mt
;

34 
	mbuf
[
PRINTBUF_SIZE
];

37 
	srtbuf
 {

38 * 
	mbuf
;

39 * 
	mebuf
;

40 
	mt
;

44 
	$utch
(* 
f
, 
ch
, 
tbuf
 * 
b
)

46 
b
->
buf
[b->
idx
++] = 
ch
;

47 i(
b
->
idx
 =
PRINTBUF_SIZE
-1) {

48 
	`_DkPrtCse
(
b
->
buf
, b->
idx
);

49 
b
->
idx
 = 0;

51 
b
->
t
++;

52 
	}
}

55 
	$vtf
(cڡ * 
fmt
, 
va_li
 

)

57 
tbuf
 
b
;

59 
b
.
idx
 = 0;

60 
b
.
t
 = 0;

61 
	`vrtfmt
((*&
utch
, 
NULL
, &
b
, 
fmt
, 

);

62 
	`_DkPrtCse
(
b
.
buf
, b.
idx
);

64  
b
.
t
;

65 
	}
}

68 
	$tf
(cڡ * 
fmt
, ...)

70 
va_li
 

;

71 
t
;

73 
	`va_t
(

, 
fmt
);

74 
t
 = 
	`vtf
(
fmt
, 

);

75 
	`va_d
(

);

77  
t
;

78 
	}
}

79 
ex_s
(
tf
);

82 
	$rutch
(* 
f
, 
ch
, 
rtbuf
 * 
b
)

84 
b
->
t
++;

85 i(
b
->
buf
 < b->
ebuf
)

86 *
b
->
buf
++ = 
ch
;

87 
	}
}

90 
	$vrtf
(* 
buf
, 
n
, cڡ * 
fmt
, 
va_li
 

)

92 
rtbuf
 
b
 = {
buf
, bu+ 
n
 - 1, 0};

94 i(
buf
 =
NULL
 || 
n
 < 1) {

99 
	`vrtfmt
((*
rutch
, (*0, &
b
, 
fmt
, 

);

102 *
b
.
buf
 = '\0';

104  
b
.
t
;

105 
	}
}

108 
	$tf
(* 
buf
, 
size_t
 
n
, cڡ * 
fmt
, ...)

110 
va_li
 

;

111 
rc
;

113 
	`va_t
(

, 
fmt
);

114 
rc
 = 
	`vrtf
(
buf
, 
n
, 
fmt
, 

);

115 
	`va_d
(

);

117  
rc
;

118 
	}
}

119 
ex_s
(
tf
);

	@slab.c

26 
	~"l_defs.h
"

27 
	~"l_.h
"

28 
	~"l_debug.h
"

29 
	~"lux_li.h
"

30 
	~"i.h
"

32 
mux_hd
 
	gab_mgr_lock
 = 
MUTEX_HANDLE_INIT
;

34 
	#syem_lock
(
	`_DkMuxLock
(&
ab_mgr_lock
)

	)

35 
	#syem_uock
(
	`_DkMuxUock
(&
ab_mgr_lock
)

	)

37 #i
STATIC_SLAB
 == 1

38 
	#POOL_SIZE
 4096 * 20480

	)

39 
	gmem_po
[
POOL_SIZE
];

40 *
	gbump
 = 
mem_po
;

41 *
	gmem_po_d
 = &
mem_po
[
POOL_SIZE
];

43 
	#PAGE_SIZE
 4096

	)

46 
le
 * 
	$__mloc
 (
size_t
 
size
)

48 #i
STATIC_SLAB
 == 1

49 * 
addr
 = (*
bump
;

51 
bump
 +
size
;

52 i(
bump
 >
mem_po_d
) {

53 
	`tf
("Pal out of internal memory!\n");

54 
	`DkProssEx
(-1);

55  
NULL
;

58 * 
addr
 = 
NULL
;

59 
	`_DkVtuMemyAoc
(&
addr
, 
size
, 0, 
PAL_PROT_READ
|
PAL_PROT_WRITE
);

62  
addr
;

63 
	}
}

65 
	#syem_mloc
(
size

	`__mloc
(size)

	)

67 
le
 
	$__
 (* 
addr
, 
size_t
 
size
)

69 
	`_DkVtuMemyFe
(
addr
, 
size
);

70 
	}
}

72 
	#syem_
(
addr
, 
size

	`__
ddr, size)

	)

74 
	~"abmgr.h
"

76 
SLAB_MGR
 
	gab_mgr
 = 
NULL
;

78 
	$_ab_mgr
 ()

80 i(!
ab_mgr
) {

81 
ab_mgr
 = 
	`_ab_mgr
();

83 
	}
}

85 * 
	$mloc
 (
size
)

87 * 
r
 = 
	`ab_loc
(
ab_mgr
, 
size
);

92 i(
r
)

93 *(((*
r
) - 1) = 0;

95  
r
;

96 
	}
}

98 * 
	$mloc
 (cڡ * 
mem
, 
size
)

100 * 
nmem
 = 
	`mloc
(
size
);

102 i(
nmem
)

103 
	`memy
(
nmem
, 
mem
, 
size
);

105  
nmem
;

106 
	}
}

108 * 
	$oc
 (
nmem
, 
size
)

110 * 
r
 = 
	`mloc
(
nmem
 * 
size
 + size);

111 * 
d_r
 = 
r
;

113 i(
r
) {

115 
r
 +
size
 - 1 - ((
u_t
)tr + size - 1) % size;

116 *(((*
r
- 1- 
d_r
;

119  
r
;

120 
	}
}

122 
	$
 (* 
r
)

124 
r
 -= *(((*)tr) - 1);

125 
	`ab_
(
ab_mgr
, 
r
);

126 
	}
}

	@test.c

1 
	~<dio.h
>

3 
	$ma
() {

4 
l_y
 = 0x400480, 
gc
 = 1;

5 cڡ **
gv
 = (*)0x7fffffffe868;

6 cڡ **
l
 = (*)0x7fffffffe878;

8 
x
 = (((*) (, const **, const **))

9 
l_y
(
gc
, 
gv
, 
l
);

10 
	`tf
("%d",
x
);

11 
	}
}

	@/usr/include/endian.h

29 #ide
_SYS_ENDIAN_H_


30 
	#_SYS_ENDIAN_H_


	)

32 
	~<sys/cdefs.h
>

33 
	~<sys/_tys.h
>

34 
	~<mache/dn.h
>

36 #ide
_UINT8_T_DECLARED


37 
__ut8_t
 
	tut8_t
;

38 
	#_UINT8_T_DECLARED


	)

41 #ide
_UINT16_T_DECLARED


42 
__ut16_t
 
	tut16_t
;

43 
	#_UINT16_T_DECLARED


	)

46 #ide
_UINT32_T_DECLARED


47 
__ut32_t
 
	tut32_t
;

48 
	#_UINT32_T_DECLARED


	)

51 #ide
_UINT64_T_DECLARED


52 
__ut64_t
 
	tut64_t
;

53 
	#_UINT64_T_DECLARED


	)

59 
	#bsw16
(
x

	`__bsw16
(x)

	)

60 
	#bsw32
(
x

	`__bsw32
(x)

	)

61 
	#bsw64
(
x

	`__bsw64
(x)

	)

67 #i
_BYTE_ORDER
 =
_LITTLE_ENDIAN


68 
	#htobe16
(
x

	`bsw16
((x))

	)

69 
	#htobe32
(
x

	`bsw32
((x))

	)

70 
	#htobe64
(
x

	`bsw64
((x))

	)

71 
	#hte16
(
x
((
ut16_t
)(x))

	)

72 
	#hte32
(
x
((
ut32_t
)(x))

	)

73 
	#hte64
(
x
((
ut64_t
)(x))

	)

75 
	#be16toh
(
x

	`bsw16
((x))

	)

76 
	#be32toh
(
x

	`bsw32
((x))

	)

77 
	#be64toh
(
x

	`bsw64
((x))

	)

78 
	#16toh
(
x
((
ut16_t
)(x))

	)

79 
	#32toh
(
x
((
ut32_t
)(x))

	)

80 
	#64toh
(
x
((
ut64_t
)(x))

	)

82 
	#htobe16
(
x
((
ut16_t
)(x))

	)

83 
	#htobe32
(
x
((
ut32_t
)(x))

	)

84 
	#htobe64
(
x
((
ut64_t
)(x))

	)

85 
	#hte16
(
x

	`bsw16
((x))

	)

86 
	#hte32
(
x

	`bsw32
((x))

	)

87 
	#hte64
(
x

	`bsw64
((x))

	)

89 
	#be16toh
(
x
((
ut16_t
)(x))

	)

90 
	#be32toh
(
x
((
ut32_t
)(x))

	)

91 
	#be64toh
(
x
((
ut64_t
)(x))

	)

92 
	#16toh
(
x

	`bsw16
((x))

	)

93 
	#32toh
(
x

	`bsw32
((x))

	)

94 
	#64toh
(
x

	`bsw64
((x))

	)

99 
__le
 
ut16_t


100 
	$be16dec
(cڡ *

)

102 
ut8_t
 cڡ *
p
 = (ut8_cڡ *)

;

104  ((
p
[0] << 8) |[1]);

105 
	}
}

107 
__le
 
ut32_t


108 
	$be32dec
(cڡ *

)

110 
ut8_t
 cڡ *
p
 = (ut8_cڡ *)

;

112  ((()
p
[0] << 24) | (p[1] << 16) | (p[2] << 8) |[3]);

113 
	}
}

115 
__le
 
ut64_t


116 
	$be64dec
(cڡ *

)

118 
ut8_t
 cڡ *
p
 = (ut8_cڡ *)

;

120  (((
ut64_t
)
	`be32dec
(
p
) << 32) | be32dec(p + 4));

121 
	}
}

123 
__le
 
ut16_t


124 
	$16dec
(cڡ *

)

126 
ut8_t
 cڡ *
p
 = (ut8_cڡ *)

;

128  ((
p
[1] << 8) |[0]);

129 
	}
}

131 
__le
 
ut32_t


132 
	$32dec
(cڡ *

)

134 
ut8_t
 cڡ *
p
 = (ut8_cڡ *)

;

136  ((()
p
[3] << 24) | (p[2] << 16) | (p[1] << 8) |[0]);

137 
	}
}

139 
__le
 
ut64_t


140 
	$64dec
(cڡ *

)

142 
ut8_t
 cڡ *
p
 = (ut8_cڡ *)

;

144  (((
ut64_t
)
	`32dec
(
p
 + 4) << 32) |e32dec(p));

145 
	}
}

147 
__le
 

148 
	$be16c
(*

, 
ut16_t
 
u
)

150 
ut8_t
 *
p
 = (ut8_*)

;

152 
p
[0] = (
u
 >> 8) & 0xff;

153 
p
[1] = 
u
 & 0xff;

154 
	}
}

156 
__le
 

157 
	$be32c
(*

, 
ut32_t
 
u
)

159 
ut8_t
 *
p
 = (ut8_*)

;

161 
p
[0] = (
u
 >> 24) & 0xff;

162 
p
[1] = (
u
 >> 16) & 0xff;

163 
p
[2] = (
u
 >> 8) & 0xff;

164 
p
[3] = 
u
 & 0xff;

165 
	}
}

167 
__le
 

168 
	$be64c
(*

, 
ut64_t
 
u
)

170 
ut8_t
 *
p
 = (ut8_*)

;

172 
	`be32c
(
p
, (
ut32_t
)(
u
 >> 32));

173 
	`be32c
(
p
 + 4, (
ut32_t
)(
u
 & 0xffffffffU));

174 
	}
}

176 
__le
 

177 
	$16c
(*

, 
ut16_t
 
u
)

179 
ut8_t
 *
p
 = (ut8_*)

;

181 
p
[0] = 
u
 & 0xff;

182 
p
[1] = (
u
 >> 8) & 0xff;

183 
	}
}

185 
__le
 

186 
	$32c
(*

, 
ut32_t
 
u
)

188 
ut8_t
 *
p
 = (ut8_*)

;

190 
p
[0] = 
u
 & 0xff;

191 
p
[1] = (
u
 >> 8) & 0xff;

192 
p
[2] = (
u
 >> 16) & 0xff;

193 
p
[3] = (
u
 >> 24) & 0xff;

194 
	}
}

196 
__le
 

197 
	$64c
(*

, 
ut64_t
 
u
)

199 
ut8_t
 *
p
 = (ut8_*)

;

201 
	`32c
(
p
, (
ut32_t
)(
u
 & 0xffffffffU));

202 
	`32c
(
p
 + 4, (
ut32_t
)(
u
 >> 32));

203 
	}
}

	@/usr/include/stdbool.h

29 #ide
__bo_ue_l_e_defed


30 
	#__bo_ue_l_e_defed
 1

	)

32 #ide
__lulus


34 
	#l
 0

	)

35 
	#ue
 1

	)

37 
	#bo
 
_Bo


	)

38 #i
__STDC_VERSION__
 < 199901L && 
__GNUC__
 < 3 && !
defed
(
__INTEL_COMPILER
)

39 
	t_Bo
;

	@/usr/include/stddef.h

29 #ide
_SYS_STDDEF_H_


30 
	#_SYS_STDDEF_H_


	)

32 
	~<sys/cdefs.h
>

33 
	~<sys/_nu.h
>

34 
	~<mache/_tys.h
>

36 #ide
_PTRDIFF_T_DECLARED


37 
__rdiff_t
 
	trdiff_t
;

38 
	#_PTRDIFF_T_DECLARED


	)

41 
	#offtof
(
ty
, 
fld

	`__offtof
y, fld)

	)

	@/usr/include/stdint.h

29 #ide
_SYS_STDINT_H_


30 
	#_SYS_STDINT_H_


	)

32 
	~<sys/cdefs.h
>

33 
	~<sys/_tys.h
>

35 
	~<mache/_dt.h
>

36 
	~<sys/_dt.h
>

38 
__t_a8_t
 
	tt_a8_t
;

39 
__t_a16_t
 
	tt_a16_t
;

40 
__t_a32_t
 
	tt_a32_t
;

41 
__t_a64_t
 
	tt_a64_t
;

43 
__ut_a8_t
 
	tut_a8_t
;

44 
__ut_a16_t
 
	tut_a16_t
;

45 
__ut_a32_t
 
	tut_a32_t
;

46 
__ut_a64_t
 
	tut_a64_t
;

48 
__t_8_t
 
	tt_8_t
;

49 
__t_16_t
 
	tt_16_t
;

50 
__t_32_t
 
	tt_32_t
;

51 
__t_64_t
 
	tt_64_t
;

53 
__ut_8_t
 
	tut_8_t
;

54 
__ut_16_t
 
	tut_16_t
;

55 
__ut_32_t
 
	tut_32_t
;

56 
__ut_64_t
 
	tut_64_t
;

58 #ide
_INTMAX_T_DECLARED


59 
__tmax_t
 
	ttmax_t
;

60 
	#_INTMAX_T_DECLARED


	)

62 #ide
_UINTMAX_T_DECLARED


63 
__utmax_t
 
	tutmax_t
;

64 
	#_UINTMAX_T_DECLARED


	)

68 #i
defed
(
UINTPTR_MAX
&& defed(
UINT64_MAX
) && (UINTPTR_MAX == UINT64_MAX)

69 
	#__WORDSIZE
 64

	)

71 
	#__WORDSIZE
 32

	)

75 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

76 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

	@/usr/include/stdio.h

36 #idef 
_STDIO_H_


37 
	#_STDIO_H_


	)

39 
	~<sys/cdefs.h
>

40 
	~<sys/_nu.h
>

41 
	~<sys/_tys.h
>

43 
__off_t
 
	tos_t
;

45 #ide
_SIZE_T_DECLARED


46 
__size_t
 
	tsize_t
;

47 
	#_SIZE_T_DECLARED


	)

50 #i
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 >= 200809

51 #ide
_OFF_T_DECLARED


52 
	#_OFF_T_DECLARED


	)

53 
__off_t
 
	toff_t
;

55 #ide
_SSIZE_T_DECLARED


56 
	#_SSIZE_T_DECLARED


	)

57 
__ssize_t
 
	tssize_t
;

61 #i
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 >200112 || 
__XSI_VISIBLE


62 #ide
_VA_LIST_DECLARED


63 
__va_li
 
	tva_li
;

64 
	#_VA_LIST_DECLARED


	)

68 
	#_FSTDIO


	)

77 
	s__sbuf
 {

78 *
	m_ba
;

79 
	m_size
;

110 
	s__sFILE
 {

111 *
	m_p
;

112 
	m_r
;

113 
	m_w
;

114 
	m_ags
;

115 
	m_fe
;

116 
__sbuf
 
	m_bf
;

117 
	m_lbfsize
;

120 *
	m_cook
;

121 (*
	m_o
)(*);

122 (*
	m_ad
)(*, *, );

123 
os_t
 (*
_ek
)(*, 
	mos_t
, );

124 (*
	m_wre
)(*, const *, );

127 
__sbuf
 
	m_ub
;

128 *
	m_up
;

129 
	m_ur
;

132 
	m_ubuf
[3];

133 
	m_nbuf
[1];

136 
__sbuf
 
	m_lb
;

139 
	m_blksize
;

140 
os_t
 
	m_offt
;

142 
had_mux
 *
	m__mux
;

143 
had
 *
	m__owr
;

144 
	m__cou
;

145 
	m_ܛi
;

146 
__mbe_t
 
	m_mbe
;

148 #ide
_STDFILE_DECLARED


149 
	#_STDFILE_DECLARED


	)

150 
__sFILE
 
	tFILE
;

152 #ide
_STDSTREAM_DECLARED


153 
__BEGIN_DECLS


154 
FILE
 *
__dp
;

155 
FILE
 *
__dou
;

156 
FILE
 *
__d
;

157 
	g__END_DECLS


158 
	#_STDSTREAM_DECLARED


	)

161 
	#__SLBF
 0x0001

	)

162 
	#__SNBF
 0x0002

	)

163 
	#__SRD
 0x0004

	)

164 
	#__SWR
 0x0008

	)

166 
	#__SRW
 0x0010

	)

167 
	#__SEOF
 0x0020

	)

168 
	#__SERR
 0x0040

	)

169 
	#__SMBF
 0x0080

	)

170 
	#__SAPP
 0x0100

	)

171 
	#__SSTR
 0x0200

	)

172 
	#__SOPT
 0x0400

	)

173 
	#__SNPT
 0x0800

	)

174 
	#__SOFF
 0x1000

	)

175 
	#__SMOD
 0x2000

	)

176 
	#__SALC
 0x4000

	)

177 
	#__SIGN
 0x8000

	)

188 
	#_IOFBF
 0

	)

189 
	#_IOLBF
 1

	)

190 
	#_IONBF
 2

	)

192 
	#BUFSIZ
 1024

	)

193 
	#EOF
 (-1)

	)

201 #ide
FOPEN_MAX


202 
	#FOPEN_MAX
 20

	)

204 
	#FILENAME_MAX
 1024

	)

207 #i
__XSI_VISIBLE


208 
	#P_tmpd
 "/tmp/"

	)

210 
	#L_tmam
 1024

	)

211 
	#TMP_MAX
 308915776

	)

213 #ide
SEEK_SET


214 
	#SEEK_SET
 0

	)

216 #ide
SEEK_CUR


217 
	#SEEK_CUR
 1

	)

219 #ide
SEEK_END


220 
	#SEEK_END
 2

	)

223 
	#d
 
__dp


	)

224 
	#dout
 
__dou


	)

225 
	#dr
 
__d


	)

227 
	g__BEGIN_DECLS


228 #ifde
_XLOCALE_H_


229 
	~<xlo/_dio.h
>

234 

(
FILE
 *);

235 
fo
(
FILE
 *);

236 
of
(
FILE
 *);

237 

(
FILE
 *);

238 
fush
(
FILE
 *);

239 
fgc
(
FILE
 *);

240 
fgpos
(
FILE
 * 
__ri
, 
os_t
 * __restrict);

241 *
fgs
(* 
__ri
, , 
FILE
 * __restrict);

242 
FILE
 *
fݒ
(cڡ * 
__ri
, const * __restrict);

243 
rtf
(
FILE
 * 
__ri
, const * __restrict, ...);

244 
utc
(, 
FILE
 *);

245 
uts
(cڡ * 
__ri
, 
FILE
 * __restrict);

246 
size_t
 
d
(* 
__ri
, size_t, size_t, 
FILE
 * __restrict);

247 
FILE
 *
eݒ
(cڡ * 
__ri
, const * __restrict, FILE * __restrict);

248 
fsnf
(
FILE
 * 
__ri
, const * __restrict, ...);

249 
fek
(
FILE
 *, , );

250 
fos
(
FILE
 *, cڡ 
os_t
 *);

251 
l
(
FILE
 *);

252 
size_t
 
fwre
(cڡ * 
__ri
, size_t, size_t, 
FILE
 * __restrict);

253 
gc
(
FILE
 *);

254 
gch
();

255 *
gs
(*);

256 

(const *);

257 
tf
(cڡ * 
__ri
, ...);

258 
putc
(, 
FILE
 *);

259 
putch
();

260 
puts
(const *);

261 
move
(const *);

262 
me
(const *, const *);

263 
wd
(
FILE
 *);

264 
snf
(cڡ * 
__ri
, ...);

265 
tbuf
(
FILE
 * 
__ri
, * __restrict);

266 
tvbuf
(
FILE
 * 
__ri
, * __ri, , 
size_t
);

267 
rtf
(* 
__ri
, const * __restrict, ...);

268 
ssnf
(cڡ * 
__ri
, const * __restrict, ...);

269 
FILE
 *
tmpfe
();

270 *
tmam
(*);

271 
ungc
(, 
FILE
 *);

272 
vrtf
(
FILE
 * 
__ri
, const * __restrict,

273 
__va_li
);

274 
vtf
(cڡ * 
__ri
, 
__va_li
);

275 
vrtf
(* 
__ri
, const * __restrict,

276 
__va_li
);

278 #i
__ISO_C_VISIBLE
 >= 1999

279 
	$tf
(* 
__ri
, 
size_t
, const * __restrict,

280 ...
	`__tike
(3, 4);

281 
	$vfsnf
(
FILE
 * 
__ri
, cڡ * __ri, 
__va_li
)

282 
	`__snike
(2, 0);

283 
	$vsnf
(cڡ * 
__ri
, 
__va_li

	`__snike
(1, 0);

284 
	$vtf
(* 
__ri
, 
size_t
, const * __restrict,

285 
__va_li

	`__tike
(3, 0);

286 
	$vssnf
(cڡ * 
__ri
, cڡ * __ri, 
__va_li
)

287 
	`__snike
(2, 0);

293 #i
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 <= 199506

294 
	#L_curid
 17

	)

297 #i
__POSIX_VISIBLE


298 
	#L_mid
 1024

	)

300 *
	`mid
(*);

301 
FILE
 *
	`fdݒ
(, const *);

302 
	`fo
(
FILE
 *);

305 #i
__POSIX_VISIBLE
 >= 199209

306 
	`po
(
FILE
 *);

307 
FILE
 *
	`pݒ
(const *, const *);

310 #i
__POSIX_VISIBLE
 >= 199506

311 
	`rylockfe
(
FILE
 *);

312 
	`ockfe
(
FILE
 *);

313 
	`fuockfe
(
FILE
 *);

319 
	`gc_uocked
(
FILE
 *);

320 
	`gch_uocked
();

321 
	`putc_uocked
(, 
FILE
 *);

322 
	`putch_uocked
();

324 #i
__BSD_VISIBLE


325 
	`_uocked
(
FILE
 *);

326 
	`of_uocked
(
FILE
 *);

327 
	`_uocked
(
FILE
 *);

328 
	`fo_uocked
(
FILE
 *);

331 #i
__POSIX_VISIBLE
 >= 200112

332 
	`feko
(
FILE
 *, 
__off_t
, );

333 
__off_t
 
	`lo
(
FILE
 *);

336 #i
__BSD_VISIBLE
 || 
__XSI_VISIBLE
 > 0 && __XSI_VISIBLE < 600

337 
	`gw
(
FILE
 *);

338 
	`putw
(, 
FILE
 *);

341 #i
__XSI_VISIBLE


342 *
	`mam
(const *, const *);

345 #i
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 >= 200809

346 
FILE
 *
	`fmemݒ
(* 
__ri
, 
size_t
, const * __restrict);

347 
ssize_t
 
	`gdim
(** 
__ri
, 
size_t
 * __restrict, ,

348 
FILE
 * 
__ri
);

349 
FILE
 *
	`ݒ_memam
(**, 
size_t
 *);

350 
	`mt
(, const *, , const *);

351 
	`vdtf
(, cڡ * 
__ri
, 
__va_li
);

362 #ide
_WITH_GETLINE


363 #i
	`defed
(
_BSD_SOURCE
|| defed(
_GNU_SOURCE
)

364 
	#_WITH_GETLINE


	)

365 #i
	`defed
(
_POSIX_C_SOURCE
)

366 #i
_POSIX_C_SOURCE
 >= 200809

367 
	#_WITH_GETLINE


	)

372 #ifde
_WITH_GETLINE


373 
ssize_t
 
	`gle
(** 
__ri
, 
size_t
 * __ri, 
FILE
 * __restrict);

376 #ide
_WITH_DPRINTF


377 #i
	`defed
(
_BSD_SOURCE
|| defed(
_GNU_SOURCE
)

378 
	#_WITH_DPRINTF


	)

379 #i
	`defed
(
_POSIX_C_SOURCE
)

380 #i
_POSIX_C_SOURCE
 >= 200809

381 
	#_WITH_DPRINTF


	)

386 #ifde
_WITH_DPRINTF


387 (
dtf
)(, cڡ * 
__ri
, ...);

395 #i
__BSD_VISIBLE


396 
	$artf
(**, cڡ *, ...
	`__tike
(2, 3);

397 *
	`mid_r
(*);

398 
	`fol
();

399 *
	`fg
(
FILE
 *, 
size_t
 *);

400 cڡ *
	$fmtcheck
(cڡ *, cڡ *
	`__fm_g
(2);

401 
	`urge
(
FILE
 *);

402 
	`tbufr
(
FILE
 *, *, );

403 
	`ebuf
(
FILE
 *);

404 
	$vartf
(**, cڡ *, 
__va_li
)

405 
	`__tike
(2, 0);

412 cڡ 
sys_ü
;

413 cڡ * cڡ 
sys_i
[];

418 
FILE
 *
	`funݒ
(const *,

421 
	$os_t
 (*)(*, 
os_t
, ),

423 
	#ݒ
(
cook
, 


	`funݒ
(cook, fn, 0, 0, 0)

	)

424 
	#fwݒ
(
cook
, 


	`funݒ
(cook, 0, fn, 0, 0)

	)

429 #ide
_FTRUNCATE_DECLARED


430 
	#_FTRUNCATE_DECLARED


	)

431 
	`run
(, 
__off_t
);

433 #ide
_LSEEK_DECLARED


434 
	#_LSEEK_DECLARED


	)

435 
__off_t
 
	`lek
(, __off_t, );

437 #ide
_MMAP_DECLARED


438 
	#_MMAP_DECLARED


	)

439 *
	`mm
(*, 
size_t
, , , , 
__off_t
);

441 #ide
_TRUNCATE_DECLARED


442 
	#_TRUNCATE_DECLARED


	)

443 
	`un
(cڡ *, 
__off_t
);

450 
	`__g
(
FILE
 *);

451 
	`__swbuf
(, 
FILE
 *);

457 
	#__sgc
(
p
(--)->
_r
 < 0 ? 
	`__g
: ()(*)->
_p
++))

	)

458 #i
	`defed
(
__GNUC__
&& defed(
__STDC__
)

459 
__le
 
	$__utc
(
_c
, 
FILE
 *
_p
) {

460 i(--
_p
->
_w
 >0 || (_p->_w >_p->
_lbfsize
 && ()
_c
 != '\n'))

461  (*
_p
->_p++ = 
_c
);

463  (
	`__swbuf
(
_c
, 
_p
));

464 
	}
}

469 
	#__utc
(
c
, 
p
) \

470 (--(
p
)->
_w
 < 0 ? \

471 (
p
)->
_w
 >)->
_lbfsize
 ? \

472 (*(
p
)->
_p
 = (
c
)), *(p)->_p != '\n' ? \

473 ()*(
p
)->
_p
++ : \

474 
	`__swbuf
('\n', 
p
) : \

475 
	`__swbuf
(()(
c
), 
p
) : \

476 (*(
p
)->
_p
 = (
c
), ()*)->_p++))

	)

479 
__ihaded
;

481 #ide
__lulus


483 
	#__sof
(
p
(()->
_ags
 & 
__SEOF
!0)

	)

484 
	#__s
(
p
(()->
_ags
 & 
__SERR
!0)

	)

485 
	#__s
(
p
(()()->
_ags
 &~(
__SERR
|
__SEOF
)))

	)

486 
	#__sfo
(
p
()->
_fe
)

	)

489 
	#of
(
p
(!
__ihaded
 ? 
	`__sof
: (
of
)))

	)

490 
	#
(
p
(!
__ihaded
 ? 
	`__s
: (

)))

	)

491 
	#
(
p
(!
__ihaded
 ? 
	`__s
: (

)))

	)

493 #i
__POSIX_VISIBLE


494 
	#fo
(
p
(!
__ihaded
 ? 
	`__sfo
: (
fo
)))

	)

497 
	#gc
(

(!
__ihaded
 ? 
	`__sgc
(: (
gc
)())

	)

498 
	#putc
(
x
, 

(!
__ihaded
 ? 
	`__utc
(x, fp: (
putc
)(x, fp))

	)

500 
	#gch
(
	`gc
(
d
)

	)

501 
	#putch
(
x

	`putc
(x, 
dout
)

	)

503 #i
__BSD_VISIBLE


508 
	#of_uocked
(
p

	`__sof
)

	)

509 
	#_uocked
(
p

	`__s
)

	)

510 
	#_uocked
(
p

	`__s
)

	)

511 
	#fo_uocked
(
p

	`__sfo
)

	)

513 #i
__POSIX_VISIBLE
 >= 199506

514 
	#gc_uocked
(


	`__sgc
()

	)

515 
	#putc_uocked
(
x
, 


	`__utc
(x, fp)

	)

517 
	#gch_uocked
(
	`gc_uocked
(
d
)

	)

518 
	#putch_uocked
(
x

	`putc_uocked
(x, 
dout
)

	)

522 
	g__END_DECLS


	@/usr/include/sys/endian.h

29 #ide
_SYS_ENDIAN_H_


30 
	#_SYS_ENDIAN_H_


	)

32 
	~<sys/cdefs.h
>

33 
	~<sys/_tys.h
>

34 
	~<mache/dn.h
>

36 #ide
_UINT8_T_DECLARED


37 
__ut8_t
 
	tut8_t
;

38 
	#_UINT8_T_DECLARED


	)

41 #ide
_UINT16_T_DECLARED


42 
__ut16_t
 
	tut16_t
;

43 
	#_UINT16_T_DECLARED


	)

46 #ide
_UINT32_T_DECLARED


47 
__ut32_t
 
	tut32_t
;

48 
	#_UINT32_T_DECLARED


	)

51 #ide
_UINT64_T_DECLARED


52 
__ut64_t
 
	tut64_t
;

53 
	#_UINT64_T_DECLARED


	)

59 
	#bsw16
(
x

	`__bsw16
(x)

	)

60 
	#bsw32
(
x

	`__bsw32
(x)

	)

61 
	#bsw64
(
x

	`__bsw64
(x)

	)

67 #i
_BYTE_ORDER
 =
_LITTLE_ENDIAN


68 
	#htobe16
(
x

	`bsw16
((x))

	)

69 
	#htobe32
(
x

	`bsw32
((x))

	)

70 
	#htobe64
(
x

	`bsw64
((x))

	)

71 
	#hte16
(
x
((
ut16_t
)(x))

	)

72 
	#hte32
(
x
((
ut32_t
)(x))

	)

73 
	#hte64
(
x
((
ut64_t
)(x))

	)

75 
	#be16toh
(
x

	`bsw16
((x))

	)

76 
	#be32toh
(
x

	`bsw32
((x))

	)

77 
	#be64toh
(
x

	`bsw64
((x))

	)

78 
	#16toh
(
x
((
ut16_t
)(x))

	)

79 
	#32toh
(
x
((
ut32_t
)(x))

	)

80 
	#64toh
(
x
((
ut64_t
)(x))

	)

82 
	#htobe16
(
x
((
ut16_t
)(x))

	)

83 
	#htobe32
(
x
((
ut32_t
)(x))

	)

84 
	#htobe64
(
x
((
ut64_t
)(x))

	)

85 
	#hte16
(
x

	`bsw16
((x))

	)

86 
	#hte32
(
x

	`bsw32
((x))

	)

87 
	#hte64
(
x

	`bsw64
((x))

	)

89 
	#be16toh
(
x
((
ut16_t
)(x))

	)

90 
	#be32toh
(
x
((
ut32_t
)(x))

	)

91 
	#be64toh
(
x
((
ut64_t
)(x))

	)

92 
	#16toh
(
x

	`bsw16
((x))

	)

93 
	#32toh
(
x

	`bsw32
((x))

	)

94 
	#64toh
(
x

	`bsw64
((x))

	)

99 
__le
 
ut16_t


100 
	$be16dec
(cڡ *

)

102 
ut8_t
 cڡ *
p
 = (ut8_cڡ *)

;

104  ((
p
[0] << 8) |[1]);

105 
	}
}

107 
__le
 
ut32_t


108 
	$be32dec
(cڡ *

)

110 
ut8_t
 cڡ *
p
 = (ut8_cڡ *)

;

112  ((()
p
[0] << 24) | (p[1] << 16) | (p[2] << 8) |[3]);

113 
	}
}

115 
__le
 
ut64_t


116 
	$be64dec
(cڡ *

)

118 
ut8_t
 cڡ *
p
 = (ut8_cڡ *)

;

120  (((
ut64_t
)
	`be32dec
(
p
) << 32) | be32dec(p + 4));

121 
	}
}

123 
__le
 
ut16_t


124 
	$16dec
(cڡ *

)

126 
ut8_t
 cڡ *
p
 = (ut8_cڡ *)

;

128  ((
p
[1] << 8) |[0]);

129 
	}
}

131 
__le
 
ut32_t


132 
	$32dec
(cڡ *

)

134 
ut8_t
 cڡ *
p
 = (ut8_cڡ *)

;

136  ((()
p
[3] << 24) | (p[2] << 16) | (p[1] << 8) |[0]);

137 
	}
}

139 
__le
 
ut64_t


140 
	$64dec
(cڡ *

)

142 
ut8_t
 cڡ *
p
 = (ut8_cڡ *)

;

144  (((
ut64_t
)
	`32dec
(
p
 + 4) << 32) |e32dec(p));

145 
	}
}

147 
__le
 

148 
	$be16c
(*

, 
ut16_t
 
u
)

150 
ut8_t
 *
p
 = (ut8_*)

;

152 
p
[0] = (
u
 >> 8) & 0xff;

153 
p
[1] = 
u
 & 0xff;

154 
	}
}

156 
__le
 

157 
	$be32c
(*

, 
ut32_t
 
u
)

159 
ut8_t
 *
p
 = (ut8_*)

;

161 
p
[0] = (
u
 >> 24) & 0xff;

162 
p
[1] = (
u
 >> 16) & 0xff;

163 
p
[2] = (
u
 >> 8) & 0xff;

164 
p
[3] = 
u
 & 0xff;

165 
	}
}

167 
__le
 

168 
	$be64c
(*

, 
ut64_t
 
u
)

170 
ut8_t
 *
p
 = (ut8_*)

;

172 
	`be32c
(
p
, (
ut32_t
)(
u
 >> 32));

173 
	`be32c
(
p
 + 4, (
ut32_t
)(
u
 & 0xffffffffU));

174 
	}
}

176 
__le
 

177 
	$16c
(*

, 
ut16_t
 
u
)

179 
ut8_t
 *
p
 = (ut8_*)

;

181 
p
[0] = 
u
 & 0xff;

182 
p
[1] = (
u
 >> 8) & 0xff;

183 
	}
}

185 
__le
 

186 
	$32c
(*

, 
ut32_t
 
u
)

188 
ut8_t
 *
p
 = (ut8_*)

;

190 
p
[0] = 
u
 & 0xff;

191 
p
[1] = (
u
 >> 8) & 0xff;

192 
p
[2] = (
u
 >> 16) & 0xff;

193 
p
[3] = (
u
 >> 24) & 0xff;

194 
	}
}

196 
__le
 

197 
	$64c
(*

, 
ut64_t
 
u
)

199 
ut8_t
 *
p
 = (ut8_*)

;

201 
	`32c
(
p
, (
ut32_t
)(
u
 & 0xffffffffU));

202 
	`32c
(
p
 + 4, (
ut32_t
)(
u
 >> 32));

203 
	}
}

	@/usr/include/sys/param.h

38 #ide
_SYS_PARAM_H_


39 
	#_SYS_PARAM_H_


	)

41 
	~<sys/_nu.h
>

43 
	#BSD
 199506

	)

44 
	#BSD4_3
 1

	)

45 
	#BSD4_4
 1

	)

60 #unde
__FeBSD_vsi


61 
	#__FeBSD_vsi
 1001000

	)

76 #unde
__FeBSD_kl__


77 
	#__FeBSD_kl__


	)

79 #ifde
_KERNEL


80 
	#P_OSREL_SIGWAIT
 700000

	)

81 
	#P_OSREL_SIGSEGV
 700004

	)

82 
	#P_OSREL_MAP_ANON
 800104

	)

84 
	#P_OSREL_MAJOR
(
x
((x/ 100000)

	)

87 #ide
LOCORE


88 
	~<sys/tys.h
>

97 
	~<sys/syims.h
>

99 
	#MAXCOMLEN
 19

	)

100 
	#MAXINTERP
 
PATH_MAX


	)

101 
	#MAXLOGNAME
 33

	)

102 
	#MAXUPRC
 
CHILD_MAX


	)

103 
	#NCARGS
 
ARG_MAX


	)

104 
	#NGROUPS
 (
NGROUPS_MAX
+1

	)

105 
	#NOFILE
 
OPEN_MAX


	)

106 
	#NOGROUP
 65535

	)

107 
	#MAXHOSTNAMELEN
 256

	)

108 
	#SPECNAMELEN
 63

	)

111 #ifde
_KERNEL


112 
	~<sys/cdefs.h
>

113 
	~<sys/o.h
>

114 #ide
LOCORE


115 
	~<sys/time.h
>

116 
	~<sys/iܙy.h
>

119 #ide
FALSE


120 
	#FALSE
 0

	)

122 #ide
TRUE


123 
	#TRUE
 1

	)

127 #ide
_KERNEL


129 
	~<sys/sigl.h
>

133 
	~<mache/m.h
>

134 #ide
_KERNEL


135 
	~<sys/lims.h
>

138 #ide
DEV_BSHIFT


139 
	#DEV_BSHIFT
 9

	)

141 
	#DEV_BSIZE
 (1<<
DEV_BSHIFT
)

	)

143 #ide
BLKDEV_IOSIZE


144 
	#BLKDEV_IOSIZE
 
PAGE_SIZE


	)

146 #ide
DFLTPHYS


147 
	#DFLTPHYS
 (64 * 1024

	)

149 #ide
MAXPHYS


150 
	#MAXPHYS
 (128 * 1024

	)

152 #ide
MAXDUMPPGS


153 
	#MAXDUMPPGS
 (
DFLTPHYS
/
PAGE_SIZE
)

	)

160 #idef 
MSIZE


161 
	#MSIZE
 256

	)

164 #idef 
MCLSHIFT


165 
	#MCLSHIFT
 11

	)

168 
	#MCLBYTES
 (1 << 
MCLSHIFT


	)

170 #i
PAGE_SIZE
 < 2048

171 
	#MJUMPAGESIZE
 
MCLBYTES


	)

172 #i
PAGE_SIZE
 <= 8192

173 
	#MJUMPAGESIZE
 
PAGE_SIZE


	)

175 
	#MJUMPAGESIZE
 (8 * 1024)

	)

178 
	#MJUM9BYTES
 (9 * 1024

	)

179 
	#MJUM16BYTES
 (16 * 1024

	)

186 #ide
ob


187 
	#ob
(
x
((x)<<
PAGE_SHIFT
)

	)

191 #ide
btoc


192 
	#btoc
(
x
(((
vm_offt_t
)(x)+
PAGE_MASK
)>>
PAGE_SHIFT
)

	)

201 #ide
btodb


202 
	#btodb
(
bys
) \

203 ( (
bys
) > () \

204 ? (
daddr_t
)(()(
bys
>> 
DEV_BSHIFT
) \

205 : (
daddr_t
)(()(
bys
>> 
DEV_BSHIFT
))

	)

208 #ide
dbtob


209 
	#dbtob
(
db
) \

210 ((
off_t
)(
db
<< 
DEV_BSHIFT
)

	)

213 
	#PRIMASK
 0x0ff

	)

214 
	#PCATCH
 0x100

	)

215 
	#PDROP
 0x200

	)

217 
	#NZERO
 0

	)

219 
	#NBBY
 8

	)

220 
	#NBPW
 (

	)

222 
	#CMASK
 022

	)

224 
	#NODEV
 (
dev_t
)(-1

	)

249 
	#MAXBSIZE
 65536

	)

250 
	#BKVASIZE
 16384

	)

251 
	#BKVAMASK
 (
BKVASIZE
-1)

	)

262 
	#MAXPATHLEN
 
PATH_MAX


	)

263 
	#MAXSYMLINKS
 32

	)

266 
	#tb
(
a
,
i
(((*)))[(i)/
NBBY
] |1<<((i)%NBBY))

	)

267 
	#rb
(
a
,
i
(((*)))[(i)/
NBBY
] &~(1<<((i)%NBBY)))

	)

268 
	#ist
(
a
,
i
) \

269 (((cڡ *)(
a
))[(
i
)/
NBBY
] & (1<<((i)%NBBY)))

	)

270 
	#isr
(
a
,
i
) \

271 ((((cڡ *)(
a
))[(
i
)/
NBBY
] & (1<<((i)%NBBY))=0)

	)

274 #ide
howmy


275 
	#howmy
(
x
, 
y
(((x)+((y)-1))/(y))

	)

277 
	#nems
(
x
(((x)/ ((x)[0]))

	)

278 
	#rounddown
(
x
, 
y
(((x)/(y))*(y))

	)

279 
	#rounddown2
(
x
, 
y
((x)&(~((y)-1))

	)

280 
	#roundup
(
x
, 
y
((((x)+((y)-1))/(y))*(y)

	)

281 
	#roundup2
(
x
, 
y
(((x)+((y)-1))&(~((y)-1))

	)

282 
	#powof2
(
x
((((x)-1)&(x))==0)

	)

285 
	#MIN
(
a
,
b
(()<(b))?):(b))

	)

286 
	#MAX
(
a
,
b
(()>(b))?):(b))

	)

288 #ifde
_KERNEL


292 #ide
LOCORE


293 #ide
_BYTEORDER_PROTOTYPED


294 
	#_BYTEORDER_PROTOTYPED


	)

295 
__BEGIN_DECLS


296 
__ut32_t
 
htl
(__uint32_t);

297 
__ut16_t
 
hts
(__uint16_t);

298 
__ut32_t
 
ohl
(__uint32_t);

299 
__ut16_t
 
ohs
(__uint16_t);

300 
	g__END_DECLS


304 #ide
lt


305 #ide
_BYTEORDER_FUNC_DEFINED


306 
	#_BYTEORDER_FUNC_DEFINED


	)

307 
	#htl
(
x

	`__htl
(x)

	)

308 
	#hts
(
x

	`__hts
(x)

	)

309 
	#ohl
(
x

	`__ohl
(x)

	)

310 
	#ohs
(
x

	`__ohs
(x)

	)

326 
	#FSHIFT
 11

	)

327 
	#FSCALE
 (1<<
FSHIFT
)

	)

329 
	#dbtoc
(
db
) \

330 ((
db
 + (
	`odb
(1- 1)>> (
PAGE_SHIFT
 - 
DEV_BSHIFT
))

	)

332 
	#odb
(
db
) \

333 ((
db
<< (
PAGE_SHIFT
 - 
DEV_BSHIFT
))

	)

338 
	#memb2ru
(
s
, 
m
, 
x
) \

339 ((
s
 *)(*)((*)(
x
- 
	`offtof
(s, 
m
)))

	)

345 
	#__PAST_END
(
y
, 
offt
(((
	`__tyof__
(*׼ay)*)׼ay))[offt])

	)

	@/usr/include/machine/_stdint.h

6 
	~<x86/_dt.h
>

	@/usr/include/machine/_types.h

6 
	~<x86/_tys.h
>

	@/usr/include/machine/endian.h

6 
	~<x86/dn.h
>

	@/usr/include/machine/param.h

43 #ide
_AMD64_INCLUDE_PARAM_H_


44 
	#_AMD64_INCLUDE_PARAM_H_


	)

46 
	~<mache/_ign.h
>

53 
	#__HAVE_ACPI


	)

54 
	#__PCI_REROUTE_INTERRUPT


	)

56 #ide
MACHINE


57 
	#MACHINE
 "amd64"

	)

59 #ide
MACHINE_ARCH


60 
	#MACHINE_ARCH
 "amd64"

	)

62 #ide
MACHINE_ARCH32


63 
	#MACHINE_ARCH32
 "i386"

	)

66 #i
defed
(
SMP
|| defed(
KLD_MODULE
)

67 #ide
MAXCPU


68 
	#MAXCPU
 64

	)

71 
	#MAXCPU
 1

	)

74 #ide
MAXMEMDOM


75 
	#MAXMEMDOM
 1

	)

78 
	#ALIGNBYTES
 
_ALIGNBYTES


	)

79 
	#ALIGN
(
p

	`_ALIGN
)

	)

86 
	#ALIGNED_POINTER
(
p
, 
t
1

	)

92 
	#CACHE_LINE_SHIFT
 7

	)

93 
	#CACHE_LINE_SIZE
 (1 << 
CACHE_LINE_SHIFT
)

	)

96 
	#NPTEPG
 (
PAGE_SIZE
/( (
_y_t
)))

	)

97 
	#NPTEPGSHIFT
 9

	)

98 
	#PAGE_SHIFT
 12

	)

99 
	#PAGE_SIZE
 (1<<
PAGE_SHIFT


	)

100 
	#PAGE_MASK
 (
PAGE_SIZE
-1)

	)

102 
	#NPDEPG
 (
PAGE_SIZE
/( (
pd_y_t
)))

	)

103 
	#NPDEPGSHIFT
 9

	)

104 
	#PDRSHIFT
 21

	)

105 
	#NBPDR
 (1<<
PDRSHIFT


	)

106 
	#PDRMASK
 (
NBPDR
-1)

	)

108 
	#NPDPEPG
 (
PAGE_SIZE
/( (
pdp_y_t
)))

	)

109 
	#NPDPEPGSHIFT
 9

	)

110 
	#PDPSHIFT
 30

	)

111 
	#NBPDP
 (1<<
PDPSHIFT


	)

112 
	#PDPMASK
 (
NBPDP
-1)

	)

114 
	#NPML4EPG
 (
PAGE_SIZE
/( (
pml4_y_t
)))

	)

115 
	#NPML4EPGSHIFT
 9

	)

116 
	#PML4SHIFT
 39

	)

117 
	#NBPML4
 (1UL<<
PML4SHIFT
)

	)

118 
	#PML4MASK
 (
NBPML4
-1)

	)

120 
	#MAXPAGESIZES
 3

	)

122 
	#IOPAGES
 2

	)

124 #idef 
KSTACK_PAGES


125 
	#KSTACK_PAGES
 4

	)

127 
	#KSTACK_GUARD_PAGES
 1

	)

132 
	#round_ge
(
x
(((()(x)+ 
PAGE_MASK
& ~(PAGE_MASK))

	)

133 
	#unc_ge
(
x
(()(x& ~(
PAGE_MASK
))

	)

134 
	#unc_2mge
(
x
(()(x& ~
PDRMASK
)

	)

135 
	#round_2mge
(
x
(((()(x)+ 
PDRMASK
& ~PDRMASK)

	)

136 
	#unc_1gge
(
x
(()(x& ~
PDPMASK
)

	)

138 
	#
(
x
(()(x>> 
PAGE_SHIFT
)

	)

139 
	#
(
x
(()(x<< 
PAGE_SHIFT
)

	)

141 
	#amd64_bt
(
x
(()(x>> 
PAGE_SHIFT
)

	)

142 
	#amd64_ob
(
x
(()(x<< 
PAGE_SHIFT
)

	)

144 
	#pgtok
(
x
(()(x* (
PAGE_SIZE
 / 1024))

	)

	@/usr/include/sys/_null.h

29 #ide
NULL


31 #i!
defed
(
__lulus
)

32 
	#NULL
 ((*)0)

	)

34 #i
__lulus
 >= 201103L

35 
	#NULL
 
nuαr


	)

36 #i
defed
(
__GNUG__
&& defed(
__GNUC__
) && __GNUC__ >= 4

37 
	#NULL
 
__nu


	)

39 #i
defed
(
__LP64__
)

40 
	#NULL
 (0L)

	)

42 
	#NULL
 0

	)

	@/usr/include/sys/_stdint.h

30 #ide
_SYS__STDINT_H_


31 
	#_SYS__STDINT_H_


	)

33 #ide
_INT8_T_DECLARED


34 
__t8_t
 
	tt8_t
;

35 
	#_INT8_T_DECLARED


	)

38 #ide
_INT16_T_DECLARED


39 
__t16_t
 
	tt16_t
;

40 
	#_INT16_T_DECLARED


	)

43 #ide
_INT32_T_DECLARED


44 
__t32_t
 
	tt32_t
;

45 
	#_INT32_T_DECLARED


	)

48 #ide
_INT64_T_DECLARED


49 
__t64_t
 
	tt64_t
;

50 
	#_INT64_T_DECLARED


	)

53 #ide
_UINT8_T_DECLARED


54 
__ut8_t
 
	tut8_t
;

55 
	#_UINT8_T_DECLARED


	)

58 #ide
_UINT16_T_DECLARED


59 
__ut16_t
 
	tut16_t
;

60 
	#_UINT16_T_DECLARED


	)

63 #ide
_UINT32_T_DECLARED


64 
__ut32_t
 
	tut32_t
;

65 
	#_UINT32_T_DECLARED


	)

68 #ide
_UINT64_T_DECLARED


69 
__ut64_t
 
	tut64_t
;

70 
	#_UINT64_T_DECLARED


	)

73 #ide
_INTPTR_T_DECLARED


74 
___t
 
	t_t
;

75 
	#_INTPTR_T_DECLARED


	)

77 #ide
_UINTPTR_T_DECLARED


78 
__u_t
 
	tu_t
;

79 
	#_UINTPTR_T_DECLARED


	)

	@/usr/include/sys/_types.h

29 #ide
_SYS__TYPES_H_


30 
	#_SYS__TYPES_H_


	)

32 
	~<sys/cdefs.h
>

33 
	~<mache/_tys.h
>

38 
__ut32_t
 
	t__blksize_t
;

39 
__t64_t
 
	t__blkt_t
;

40 
__t32_t
 
	t__ockid_t
;

41 
__ut32_t
 
	t__fags_t
;

42 
__ut64_t
 
	t__fsblkt_t
;

43 
__ut64_t
 
	t__fsft_t
;

44 
__ut32_t
 
	t__gid_t
;

45 
__t64_t
 
	t__id_t
;

46 
__ut32_t
 
	t__o_t
;

47 
	t__key_t
;

48 
__t32_t
 
	t__lwpid_t
;

49 
__ut16_t
 
	t__mode_t
;

50 
	t__accmode_t
;

51 
	t___em
;

52 
__ut16_t
 
	t__ƚk_t
;

53 
__t64_t
 
	t__off_t
;

54 
__t32_t
 
	t__pid_t
;

55 
__t64_t
 
	t__im_t
;

58 
__ut8_t
 
	t___my_t
;

59 
__ut32_t
 
	t__sockn_t
;

60 
	t__sucds_t
;

61 
__tim
 *
	t__tim_t
;

62 
__mq
 *
	t__mqd_t
;

63 
__ut32_t
 
	t__uid_t
;

64 
	t__ucds_t
;

65 
	t__uwhich_t
;

66 
	t__uv_t
;

67 
	t__utid_t
;

87 
	t___ru_t
;

88 
___ru_t
 
	t__ru_t
;

89 
___ru_t
 
	t__wt_t
;

92 #i!
defed
(
__g__
|| !defed(
__lulus
)

93 
__ut_a16_t
 
	t__ch16_t
;

94 
__ut_a32_t
 
	t__ch32_t
;

97 #i
defed
(
__lulus
) && __cplusplus >= 201103L

98 
	#_CHAR16_T_DECLARED


	)

99 
	#_CHAR32_T_DECLARED


	)

102 
__ut32_t
 
	t__dev_t
;

104 
__ut32_t
 
	t__fix_t
;

111 
	m__mbe8
[128];

112 
__t64_t
 
	m_mbeL
;

113 } 
	t__mbe_t
;

	@/usr/include/sys/cdefs.h

36 #idef 
_SYS_CDEFS_H_


37 
	#_SYS_CDEFS_H_


	)

43 #idef 
__has_exnsi


44 
	#__has_exnsi
 
__has_u


	)

46 #idef 
__has_u


47 
	#__has_u
(
x
0

	)

49 #idef 
__has_ude


50 
	#__has_ude
(
x
0

	)

52 #idef 
__has_but


53 
	#__has_but
(
x
0

	)

56 #i
defed
(
__lulus
)

57 
	#__BEGIN_DECLS
 "C" {

	)

58 
	#__END_DECLS
 }

	)

60 
	#__BEGIN_DECLS


	)

61 
	#__END_DECLS


	)

70 #i
defed
(
__GNUC__
|| defed(
__INTEL_COMPILER
)

72 #i
__GNUC__
 >3 || 
defed
(
__INTEL_COMPILER
)

73 
	#__GNUCLIKE_ASM
 3

	)

74 
	#__GNUCLIKE_MATH_BUILTIN_CONSTANTS


	)

76 
	#__GNUCLIKE_ASM
 2

	)

78 
	#__GNUCLIKE___TYPEOF
 1

	)

79 
	#__GNUCLIKE___OFFSETOF
 1

	)

80 
	#__GNUCLIKE___SECTION
 1

	)

82 #ide
__INTEL_COMPILER


83 
	#__GNUCLIKE_CTOR_SECTION_HANDLING
 1

	)

86 
	#__GNUCLIKE_BUILTIN_CONSTANT_P
 1

	)

87 #i
defed
(
__INTEL_COMPILER
&& defed(
__lulus
) \

88 && 
__INTEL_COMPILER
 < 800

89 #unde
__GNUCLIKE_BUILTIN_CONSTANT_P


92 #i(
__GNUC_MINOR__
 > 95 || 
__GNUC__
 >3&& !
defed
(
__INTEL_COMPILER
)

93 
	#__GNUCLIKE_BUILTIN_VARARGS
 1

	)

94 
	#__GNUCLIKE_BUILTIN_STDARG
 1

	)

95 
	#__GNUCLIKE_BUILTIN_VAALIST
 1

	)

98 #i
defed
(
__GNUC__
)

99 
	#__GNUC_VA_LIST_COMPATIBILITY
 1

	)

105 #i
defed
(
__GNUC__
)

106 
	#__comp_memb
(
__asm
 
	`__vީe
(" " : : : "memy")

	)

109 #ide
__INTEL_COMPILER


110 
	#__GNUCLIKE_BUILTIN_NEXT_ARG
 1

	)

111 
	#__GNUCLIKE_MATH_BUILTIN_RELOPS


	)

114 
	#__GNUCLIKE_BUILTIN_MEMCPY
 1

	)

117 
	#__CC_SUPPORTS_INLINE
 1

	)

118 
	#__CC_SUPPORTS___INLINE
 1

	)

119 
	#__CC_SUPPORTS___INLINE__
 1

	)

121 
	#__CC_SUPPORTS___FUNC__
 1

	)

122 
	#__CC_SUPPORTS_WARNING
 1

	)

124 
	#__CC_SUPPORTS_VARADIC_XXX
 1

	)

126 
	#__CC_SUPPORTS_DYNAMIC_ARRAY_INIT
 1

	)

133 #i
defed
(
__GNUC__
&& !defed(
__INTEL_COMPILER
)

134 
	#__GNUC_PREREQ__
(
ma
, 
mi
) \

135 (
__GNUC__
 > (
ma
|| __GNUC__ =(ma&& 
__GNUC_MINOR__
 >(
mi
))

	)

137 
	#__GNUC_PREREQ__
(
ma
, 
mi
0

	)

152 #i
defed
(
__STDC__
|| defed(
__lulus
)

153 
	#__P
(
os
o

	)

154 
	#__CONCAT1
(
x
,
y
x ## 
	)
y

155 
	#__CONCAT
(
x
,
y

	`__CONCAT1
(x,y)

	)

156 
	#__STRING
(
x
#x

	)

157 
	#__XSTRING
(
x

	`__STRING
(x

	)

159 
	#__cڡ
 cڡ

	)

160 
	#__sigd
 sigd

	)

161 
	#__vީe
 vީe

	)

162 #i
defed
(
__lulus
)

163 
	#__le
 
le


	)

165 #i!(
defed
(
__CC_SUPPORTS___INLINE
))

166 
	#__le


	)

171 
	#__P
(
os
(

	)

172 
	#__CONCAT
(
x
,
y
x 
	)
y

173 
	#__STRING
(
x
"x"

	)

175 #i!
defed
(
__CC_SUPPORTS___INLINE
)

176 
	#__cڡ


	)

177 
	#__le


	)

178 
	#__sigd


	)

179 
	#__vީe


	)

188 #idef 
NO_ANSI_KEYWORDS


189 cڡ

	)

190 
	#le


	)

191 sigd

	)

192 vީe

	)

206 #ifde
lt


207 
	#__dd2


	)

208 
	#__pu2


	)

209 
	#__unud


	)

210 
	#__cked


	)

211 
	#__igd
(
x
)

	)

212 
	#__i
(
x
)

	)

214 #i!
__GNUC_PREREQ__
(2, 5&& !
defed
(
__INTEL_COMPILER
)

215 
	#__dd2


	)

216 
	#__pu2


	)

217 
	#__unud


	)

219 #i
__GNUC__
 =2 && 
__GNUC_MINOR__
 >5 && __GNUC_MINOR__ < 7 && !
defed
(
__INTEL_COMPILER
)

220 
	#__dd2
 
	`__ibu__
((
__nܑu__
))

	)

221 
	#__pu2
 
	`__ibu__
((
__cڡ__
))

	)

222 
	#__unud


	)

225 #i
__GNUC_PREREQ__
(2, 7)

226 
	#__dd2
 
	`__ibu__
((
__nܑu__
))

	)

227 
	#__pu2
 
	`__ibu__
((
__cڡ__
))

	)

228 
	#__unud
 
	`__ibu__
((
__unud__
))

	)

229 
	#__ud
 
	`__ibu__
((
__ud__
))

	)

230 
	#__cked
 
	`__ibu__
((
__cked__
))

	)

231 
	#__igd
(
x

	`__ibu__
((
	`__igd__
(x)))

	)

232 
	#__i
(
x

	`__ibu__
((
	`__i__
(x)))

	)

234 #i
defed
(
__INTEL_COMPILER
)

235 
	#__dd2
 
	`__ibu__
((
__nܑu__
))

	)

236 
	#__pu2
 
	`__ibu__
((
__cڡ__
))

	)

237 
	#__unud
 
	`__ibu__
((
__unud__
))

	)

238 
	#__ud
 
	`__ibu__
((
__ud__
))

	)

239 
	#__cked
 
	`__ibu__
((
__cked__
))

	)

240 
	#__igd
(
x

	`__ibu__
((
	`__igd__
(x)))

	)

241 
	#__i
(
x

	`__ibu__
((
	`__i__
(x)))

	)

245 #i!
__GNUC_PREREQ__
(2, 95)

246 
	#__ignof
(
x

	`__offtof
(ru { 
__a
; x 
__b
; }, __b)

	)

253 #i!
defed
(
__STDC_VERSION__
) || __STDC_VERSION__ < 201112L

255 #i!
__has_exnsi
(
c_igs
)

256 #i(
defed
(
__lulus
) && __cplusplus >= 201103L) || \

257 
	$__has_exnsi
(
cxx_igs
)

258 
	#_Aligs
(
x

	`igs
(x)

	)

261 
	#_Aligs
(
x

	`__igd
(x)

	)

265 #i
	`defed
(
__lulus
) && __cplusplus >= 201103L

266 
	#_Alignof
(
x

	`ignof
(x)

	)

268 
	#_Alignof
(
x

	`__ignof
(x)

	)

271 #i!
	`__has_exnsi
(
c_omic
&& !__has_exnsi(
cxx_omic
)

276 
	#_Atomic
(
T
ru { T vީ
__v
; }

	)

279 #i
	`defed
(
__lulus
) && __cplusplus >= 201103L

280 
	#_Nܑu
 [[
nܑu
]]

	)

282 
	#_Nܑu
 
__dd2


	)

285 #i!
	`__has_exnsi
(
c_ic_as
)

286 #i(
	`defed
(
__lulus
) && __cplusplus >= 201103L) || \

287 
	$__has_exnsi
(
cxx_ic_as
)

288 
	#_Stic_as
(
x
, 
y

	`ic_as
(x, y)

	)

289 #i
	`defed
(
__COUNTER__
)

290 
	#_Stic_as
(
x
, 
y

	`__Stic_as
(x, 
__COUNTER__
)

	)

291 
	#__Stic_as
(
x
, 
y

	`___Stic_as
(x, y)

	)

292 
	#___Stic_as
(
x
, 
y

	t__as_
 ## 
	ty
[(x? 1 : -1]

	)

294 
	t_Stic_as
(
	tx
, 
	ty

	t__hack


	)

298 #i!
	t__has_exnsi
(
	tc_thad_lol
)

301 
	t__has_exnsi
(
	tcxx_thad_lol
)

302 
	t_Thad_lol
 
	tthad_lol


	)

304 
	t_Thad_lol
 
	t__thad


	)

319 #i
	tdefed
(
	t__STDC_VERSION__
) && __STDC_VERSION__ >= 201112L

320 
	t__gic
(
	tex
, 
	tt
, 
	tyes
, 
	tno
) \

321 
	t_Gic
(
	tex
, 
	tt
: 
	tyes
, : 
	tno
)

	)

322 #i
	t__GNUC_PREREQ__
(3, 1&& !
	tdefed
(
	t__lulus
)

323 
	t__gic
(
	tex
, 
	tt
, 
	tyes
, 
	tno
) \

324 
	t__but_choo_ex
( \

325 
	t__but_tys_comtib_p
(
	t__tyof
(
	tex
), 
	tt
), 
	tyes
, 
	tno
)

	)

328 #i
	t__GNUC_PREREQ__
(2, 96)

329 
	t__mloc_like
 
	t__ibu__
((
	t__mloc__
))

	)

330 
	t__pu
 
	t__ibu__
((
	t__pu__
))

	)

332 
	t__mloc_like


	)

333 
	t__pu


	)

336 #i
	t__GNUC_PREREQ__
(3, 1|| (
	tdefed
(
	t__INTEL_COMPILER
) && __INTEL_COMPILER >= 800)

337 
	t__ways_le
 
	t__ibu__
((
	t__ways_le__
))

	)

339 
	t__ways_le


	)

342 #i
	t__GNUC_PREREQ__
(3, 1)

343 
	t__nole
 
	t__ibu__
 ((
	t__nole__
))

	)

345 
	t__nole


	)

348 #i
	t__GNUC_PREREQ__
(3, 3)

349 
	t__nnu
(
	tx

	t__ibu__
((
	t__nnu__
(x)))

	)

351 
	t__nnu
(
	tx
)

	)

354 #i
	t__GNUC_PREREQ__
(3, 4)

355 
	t__
 
	t__ibu__
((
	t____
))

	)

357 
	t__


	)

360 #i
	t__GNUC_PREREQ__
(4, 1)

361 
	t__tus_twi
 
	t__ibu__
((
	t__tus_twi__
))

	)

363 
	t__tus_twi


	)

367 #i!
	t__GNUC_PREREQ__
(2, 7&& !
	tdefed
(
	t__INTEL_COMPILER
)

368 
	t__func__
 
	tNULL


	)

371 #i(
	tdefed
(
	t__INTEL_COMPILER
|| (defed(
	t__GNUC__
&& __GNUC__ >2)&& !defed(
	t__STRICT_ANSI__
|| 
	t__STDC_VERSION__
 >= 199901

372 
	t__LONG_LONG_SUPPORTED


	)

376 #i
	tdefed
(
	t__lulus
) && __cplusplus >= 201103L

377 
	t__LONG_LONG_SUPPORTED


	)

378 #idef 
	t__STDC_LIMIT_MACROS


379 
	t__STDC_LIMIT_MACROS


	)

381 #idef 
	t__STDC_CONSTANT_MACROS


382 
	t__STDC_CONSTANT_MACROS


	)

392 #i!(
	t__GNUC__
 =2 && 
	t__GNUC_MINOR__
 == 95)

393 #i!
	tdefed
(
	t__STDC_VERSION__
|| __STDC_VERSION__ < 199901 || defed(
	tlt
)

394 
	t__ri


	)

396 
	t__ri
 
	tri


	)

428 #i
	t__GNUC_PREREQ__
(2, 96)

429 
	t__edi_ue
(
	texp

	t__but_ex
(xp), 1)

	)

430 
	t__edi_l
(
	texp

	t__but_ex
(xp), 0)

	)

432 
	t__edi_ue
(
	texp
xp)

	)

433 
	t__edi_l
(
	texp
xp)

	)

436 #i
	t__GNUC_PREREQ__
(4, 2)

437 
	t__hidd
 
	t__ibu__
((
	t__visiby__
("hidd")))

	)

438 
	t__exp܋d
 
	t__ibu__
((
	t__visiby__
("deu")))

	)

440 
	t__hidd


	)

441 
	t__exp܋d


	)

448 #i
	t__GNUC_PREREQ__
(4, 1)

449 
	t__offtof
(
	tty
, 
	tfld

	t__but_offtof
y, fld)

	)

451 #ide
	t__lulus


452 
	t__offtof
(
	tty
, 
	tfld
) \

453 ((
	t__size_t
)(
	t__u_t
)((cڡ vީ*)&((
	tty
 *)0)->
	tfld
))

	)

455 
	t__offtof
(
	tty
, 
	tfld
) \

456 (
	t__offtof__
 (
	tt_
 <
	t__size_t
> \

457 (&
	tt_
 <const volatile &> \

458 (
	tic_
<
	tty
 *> (0)->
	tfld
))))

	)

461 
	t__ngeof
(
	tty
, 
	tt
, 
	td
) \

462 (
	t__offtof
(
	tty
, 
	td
- __offtofy, 
	tt
))

	)

470 #i
	t__GNUC_PREREQ__
(3, 1)

471 
	t__cڏof
(
	tx
, 
	ts
, 
	tm
) ({ \

472 cڡ vީ
	`__tyof
(((
s
 *)0)->
m
*
__x
 = (
x
); \

473 
	`__DEQUALIFY
(
s
 *, (cڡ vީ*)
__x
 - 
	`__offtof
(s, 
m
));\

474 
	}
})

	)

476 
	t__cڏof
(
	tx
, 
	ts
, 
	tm
) \

477 
	t__DEQUALIFY
(
	ts
 *, (cڡ vީ*)(
	tx
- 
	t__offtof
(s, 
	tm
))

	)

486 #i!
	t__GNUC_PREREQ__
(2, 7&& !
	tdefed
(
	t__INTEL_COMPILER
)

487 
	t__tike
(
	tfmrg
, 
	tfvg
)

	)

488 
	t__snike
(
	tfmrg
, 
	tfvg
)

	)

489 
	t__fm_g
(
	tfmrg
)

	)

490 
	t__rfmlike
(
	tfmrg
, 
	tfvg
)

	)

491 
	t__rimike
(
	tfmrg
, 
	tfvg
)

	)

493 
	t__tike
(
	tfmrg
, 
	tfvg
) \

494 
	t__ibu__
((
	t__fm__
 (
	t__tf__
, 
	tfmrg
, 
	tfvg
)))

	)

495 
	t__snike
(
	tfmrg
, 
	tfvg
) \

496 
	t__ibu__
((
	t__fm__
 (
	t__snf__
, 
	tfmrg
, 
	tfvg
)))

	)

497 
	t__fm_g
(
	tfmrg

	t__ibu__
((
	t__fm_g__
 (fmrg)))

	)

498 
	t__rfmlike
(
	tfmrg
, 
	tfvg
) \

499 
	t__ibu__
((
	t__fm__
 (
	t__rfm__
, 
	tfmrg
, 
	tfvg
)))

	)

500 
	t__rimike
(
	tfmrg
, 
	tfvg
) \

501 
	t__ibu__
((
	t__fm__
 (
	t__rime__
, 
	tfmrg
, 
	tfvg
)))

	)

505 #i
	tdefed
(
	t__FeBSD_cc_vsi
) && __FreeBSD_cc_version >= 300001 && \

506 
	tdefed
(
	t__GNUC__
&& !defed(
	t__INTEL_COMPILER
)

507 
	t__tf0like
(
	tfmrg
, 
	tfvg
) \

508 
	t__ibu__
((
	t__fm__
 (
	t__tf0__
, 
	tfmrg
, 
	tfvg
)))

	)

510 
	t__tf0like
(
	tfmrg
, 
	tfvg
)

	)

513 #i
	tdefed
(
	t__GNUC__
|| defed(
	t__INTEL_COMPILER
)

514 #ide
	t__INTEL_COMPILER


515 
	t__rg_n
(
	tsym
,
	tssym
) \

516 
	t__tyof
 (
	tsym

	tssym
 
	t__ibu__
 ((
	t__s__
 (#sym)))

	)

518 #ifde
	t__STDC__


519 
	t__wk_n
(
	tsym
,
	ts
) \

520 
	t__asm__
(".weak " #alias); \

521 
	`__asm__
(".equ " #", " #sym)

	)

522 
	#__wn_ns
(
sym
,
msg
) \

523 
	`__asm__
(".section .gnu.warning." #sym); \

524 
	`__asm__
(".asciz \"" 
msg
 "\""); \

525 
	`__asm__
(".evious")

	)

526 
	#__sym_comt
(
sym
,
im
,
vid
) \

527 
	`__asm__
(".symv " #im ", " #sym "@" #vid)

	)

528 
	#__sym_deu
(
sym
,
im
,
vid
) \

529 
	`__asm__
(".symv " #im ", " #sym "@@" #vid)

	)

531 
	#__wk_n
(
sym
,
s
) \

532 
	`__asm__
(".weaklias"); \

533 
	`__asm__
(".equls, sym")

	)

534 
	#__wn_ns
(
sym
,
msg
) \

535 
	`__asm__
(".section .gnu.warning.sym"); \

536 
	`__asm__
(".asciz \"msg\""); \

537 
	`__asm__
(".evious")

	)

538 
	#__sym_comt
(
sym
,
im
,
vid
) \

539 
	`__asm__
(".symv im, sym@vid")

	)

540 
	#__sym_deu
(
im
,
sym
,
vid
) \

541 
	`__asm__
(".symv im, sym@@vid")

	)

545 
	#__GLOBL1
(
sym

	`__asm__
(".glob" #sym)

	)

546 
	#__GLOBL
(
sym

	`__GLOBL1
(sym)

	)

548 #i
	`defed
(
__GNUC__
|| defed(
__INTEL_COMPILER
)

549 
	#__IDSTRING
(
me
,
rg

	`__asm__
(".idt\t\"" sg "\"")

	)

557 
	#__IDSTRING
(
me
,
rg
cڡ me[] 
__unud
 = 
	)
string

566 #idef 
__FBSDID


567 #i!
	`defed
(
lt
&& !defed(
STRIP_FBSDID
)

568 
	#__FBSDID
(
s

	`__IDSTRING
(
	`__CONCAT
(
__rcsid_
,
__LINE__
),s)

	)

570 
	#__FBSDID
(
s

__hack


	)

574 #idef 
__RCSID


575 #idef 
NO__RCSID


576 
	#__RCSID
(
s

	`__IDSTRING
(
	`__CONCAT
(
__rcsid_
,
__LINE__
),s)

	)

578 
	#__RCSID
(
s

__hack


	)

582 #idef 
__RCSID_SOURCE


583 #idef 
NO__RCSID_SOURCE


584 
	#__RCSID_SOURCE
(
s

	`__IDSTRING
(
	`__CONCAT
(
__rcsid_sour_
,
__LINE__
),s)

	)

586 
	#__RCSID_SOURCE
(
s

__hack


	)

590 #idef 
__SCCSID


591 #idef 
NO__SCCSID


592 
	#__SCCSID
(
s

	`__IDSTRING
(
	`__CONCAT
(
__sccsid_
,
__LINE__
),s)

	)

594 
	#__SCCSID
(
s

__hack


	)

598 #idef 
__COPYRIGHT


599 #idef 
NO__COPYRIGHT


600 
	#__COPYRIGHT
(
s

	`__IDSTRING
(
	`__CONCAT
(
__cyright_
,
__LINE__
),s)

	)

602 
	#__COPYRIGHT
(
s

__hack


	)

606 #idef 
__DECONST


607 
	#__DECONST
(
ty
, 
v
(y)(
__u_t
)(cڡ *)(v))

	)

610 #idef 
__DEVOLATILE


611 
	#__DEVOLATILE
(
ty
, 
v
(y)(
__u_t
)(vީ*)(v))

	)

614 #idef 
__DEQUALIFY


615 
	#__DEQUALIFY
(
ty
, 
v
(y)(
__u_t
)(cڡ vީ*)(v))

	)

642 #i
	`defed
(
_POSIX_C_SOURCE
) && _POSIX_C_SOURCE == 1

643 #unde
_POSIX_C_SOURCE


644 
	#_POSIX_C_SOURCE
 199009

	)

648 #i
	`defed
(
_POSIX_C_SOURCE
) && _POSIX_C_SOURCE == 2

649 #unde
_POSIX_C_SOURCE


650 
	#_POSIX_C_SOURCE
 199209

	)

654 #ifde
_XOPEN_SOURCE


655 #i
_XOPEN_SOURCE
 - 0 >= 700

656 
	#__XSI_VISIBLE
 700

	)

657 #unde
_POSIX_C_SOURCE


658 
	#_POSIX_C_SOURCE
 200809

	)

659 #i
_XOPEN_SOURCE
 - 0 >= 600

660 
	#__XSI_VISIBLE
 600

	)

661 #unde
_POSIX_C_SOURCE


662 
	#_POSIX_C_SOURCE
 200112

	)

663 #i
_XOPEN_SOURCE
 - 0 >= 500

664 
	#__XSI_VISIBLE
 500

	)

665 #unde
_POSIX_C_SOURCE


666 
	#_POSIX_C_SOURCE
 199506

	)

674 #i
	`defed
(
_POSIX_SOURCE
&& !defed(
_POSIX_C_SOURCE
)

675 
	#_POSIX_C_SOURCE
 198808

	)

677 #ifde
_POSIX_C_SOURCE


678 #i
_POSIX_C_SOURCE
 >= 200809

679 
	#__POSIX_VISIBLE
 200809

	)

680 
	#__ISO_C_VISIBLE
 1999

	)

681 #i
_POSIX_C_SOURCE
 >= 200112

682 
	#__POSIX_VISIBLE
 200112

	)

683 
	#__ISO_C_VISIBLE
 1999

	)

684 #i
_POSIX_C_SOURCE
 >= 199506

685 
	#__POSIX_VISIBLE
 199506

	)

686 
	#__ISO_C_VISIBLE
 1990

	)

687 #i
_POSIX_C_SOURCE
 >= 199309

688 
	#__POSIX_VISIBLE
 199309

	)

689 
	#__ISO_C_VISIBLE
 1990

	)

690 #i
_POSIX_C_SOURCE
 >= 199209

691 
	#__POSIX_VISIBLE
 199209

	)

692 
	#__ISO_C_VISIBLE
 1990

	)

693 #i
_POSIX_C_SOURCE
 >= 199009

694 
	#__POSIX_VISIBLE
 199009

	)

695 
	#__ISO_C_VISIBLE
 1990

	)

697 
	#__POSIX_VISIBLE
 198808

	)

698 
	#__ISO_C_VISIBLE
 0

	)

713 #i
	`defed
(
_ANSI_SOURCE
)

714 
	#__POSIX_VISIBLE
 0

	)

715 
	#__XSI_VISIBLE
 0

	)

716 
	#__BSD_VISIBLE
 0

	)

717 
	#__ISO_C_VISIBLE
 1990

	)

718 #i
	`defed
(
_C99_SOURCE
)

719 
	#__POSIX_VISIBLE
 0

	)

720 
	#__XSI_VISIBLE
 0

	)

721 
	#__BSD_VISIBLE
 0

	)

722 
	#__ISO_C_VISIBLE
 1999

	)

723 #i
	`defed
(
_C11_SOURCE
)

724 
	#__POSIX_VISIBLE
 0

	)

725 
	#__XSI_VISIBLE
 0

	)

726 
	#__BSD_VISIBLE
 0

	)

727 
	#__ISO_C_VISIBLE
 2011

	)

729 
	#__POSIX_VISIBLE
 200809

	)

730 
	#__XSI_VISIBLE
 700

	)

731 
	#__BSD_VISIBLE
 1

	)

732 
	#__ISO_C_VISIBLE
 2011

	)

736 #i
	`defed
(
__ms
|| defed(
__powpc64__
)

737 
	#__NO_TLS
 1

	)

	@/usr/include/sys/errno.h

38 #ide
_SYS_ERRNO_H_


39 
	#_SYS_ERRNO_H_


	)

41 #ide
_KERNEL


42 
	~<sys/cdefs.h
>

43 
__BEGIN_DECLS


44 * 
__r
();

45 
	g__END_DECLS


46 
	#o
 (* 
	`__r
())

	)

49 
	#EPERM
 1

	)

50 
	#ENOENT
 2

	)

51 
	#ESRCH
 3

	)

52 
	#EINTR
 4

	)

53 
	#EIO
 5

	)

54 
	#ENXIO
 6

	)

55 
	#E2BIG
 7

	)

56 
	#ENOEXEC
 8

	)

57 
	#EBADF
 9

	)

58 
	#ECHILD
 10

	)

59 
	#EDEADLK
 11

	)

61 
	#ENOMEM
 12

	)

62 
	#EACCES
 13

	)

63 
	#EFAULT
 14

	)

64 #ide
_POSIX_SOURCE


65 
	#ENOTBLK
 15

	)

67 
	#EBUSY
 16

	)

68 
	#EEXIST
 17

	)

69 
	#EXDEV
 18

	)

70 
	#ENODEV
 19

	)

71 
	#ENOTDIR
 20

	)

72 
	#EISDIR
 21

	)

73 
	#EINVAL
 22

	)

74 
	#ENFILE
 23

	)

75 
	#EMFILE
 24

	)

76 
	#ENOTTY
 25

	)

77 #ide
_POSIX_SOURCE


78 
	#ETXTBSY
 26

	)

80 
	#EFBIG
 27

	)

81 
	#ENOSPC
 28

	)

82 
	#ESPIPE
 29

	)

83 
	#EROFS
 30

	)

84 
	#EMLINK
 31

	)

85 
	#EPIPE
 32

	)

88 
	#EDOM
 33

	)

89 
	#ERANGE
 34

	)

92 
	#EAGAIN
 35

	)

93 #ide
_POSIX_SOURCE


94 
	#EWOULDBLOCK
 
EAGAIN


	)

95 
	#EINPROGRESS
 36

	)

96 
	#EALREADY
 37

	)

99 
	#ENOTSOCK
 38

	)

100 
	#EDESTADDRREQ
 39

	)

101 
	#EMSGSIZE
 40

	)

102 
	#EPROTOTYPE
 41

	)

103 
	#ENOPROTOOPT
 42

	)

104 
	#EPROTONOSUPPORT
 43

	)

105 
	#ESOCKTNOSUPPORT
 44

	)

106 
	#EOPNOTSUPP
 45

	)

107 
	#ENOTSUP
 
EOPNOTSUPP


	)

108 
	#EPFNOSUPPORT
 46

	)

109 
	#EAFNOSUPPORT
 47

	)

110 
	#EADDRINUSE
 48

	)

111 
	#EADDRNOTAVAIL
 49

	)

114 
	#ENETDOWN
 50

	)

115 
	#ENETUNREACH
 51

	)

116 
	#ENETRESET
 52

	)

117 
	#ECONNABORTED
 53

	)

118 
	#ECONNRESET
 54

	)

119 
	#ENOBUFS
 55

	)

120 
	#EISCONN
 56

	)

121 
	#ENOTCONN
 57

	)

122 
	#ESHUTDOWN
 58

	)

123 
	#ETOOMANYREFS
 59

	)

124 
	#ETIMEDOUT
 60

	)

125 
	#ECONNREFUSED
 61

	)

127 
	#ELOOP
 62

	)

129 
	#ENAMETOOLONG
 63

	)

132 #ide
_POSIX_SOURCE


133 
	#EHOSTDOWN
 64

	)

134 
	#EHOSTUNREACH
 65

	)

136 
	#ENOTEMPTY
 66

	)

139 #ide
_POSIX_SOURCE


140 
	#EPROCLIM
 67

	)

141 
	#EUSERS
 68

	)

142 
	#EDQUOT
 69

	)

145 
	#ESTALE
 70

	)

146 
	#EREMOTE
 71

	)

147 
	#EBADRPC
 72

	)

148 
	#ERPCMISMATCH
 73

	)

149 
	#EPROGUNAVAIL
 74

	)

150 
	#EPROGMISMATCH
 75

	)

151 
	#EPROCUNAVAIL
 76

	)

154 
	#ENOLCK
 77

	)

155 
	#ENOSYS
 78

	)

157 #ide
_POSIX_SOURCE


158 
	#EFTYPE
 79

	)

159 
	#EAUTH
 80

	)

160 
	#ENEEDAUTH
 81

	)

161 
	#EIDRM
 82

	)

162 
	#ENOMSG
 83

	)

163 
	#EOVERFLOW
 84

	)

164 
	#ECANCELED
 85

	)

165 
	#EILSEQ
 86

	)

166 
	#ENOATTR
 87

	)

168 
	#EDOOFUS
 88

	)

171 
	#EBADMSG
 89

	)

172 
	#EMULTIHOP
 90

	)

173 
	#ENOLINK
 91

	)

174 
	#EPROTO
 92

	)

176 #ide
_POSIX_SOURCE


177 
	#ENOTCAPABLE
 93

	)

178 
	#ECAPMODE
 94

	)

179 
	#ENOTRECOVERABLE
 95

	)

180 
	#EOWNERDEAD
 96

	)

183 #ide
_POSIX_SOURCE


184 
	#ELAST
 96

	)

187 #ifde
_KERNEL


189 
	#ERESTART
 (-1

	)

190 
	#EJUSTRETURN
 (-2

	)

191 
	#ENOIOCTL
 (-3

	)

192 
	#EDIRIOCTL
 (-4

	)

	@/usr/include/sys/limits.h

32 #ide
_SYS_LIMITS_H_


33 
	#_SYS_LIMITS_H_


	)

35 
	~<sys/cdefs.h
>

36 
	~<mache/_lims.h
>

38 
	#CHAR_BIT
 
__CHAR_BIT


	)

40 
	#SCHAR_MAX
 
__SCHAR_MAX


	)

41 
	#SCHAR_MIN
 
__SCHAR_MIN


	)

43 
	#UCHAR_MAX
 
__UCHAR_MAX


	)

45 #ifde
__CHAR_UNSIGNED__


46 
	#CHAR_MAX
 
UCHAR_MAX


	)

47 
	#CHAR_MIN
 0

	)

49 
	#CHAR_MAX
 
SCHAR_MAX


	)

50 
	#CHAR_MIN
 
SCHAR_MIN


	)

53 
	#USHRT_MAX
 
__USHRT_MAX


	)

54 
	#SHRT_MAX
 
__SHRT_MAX


	)

55 
	#SHRT_MIN
 
__SHRT_MIN


	)

57 
	#UINT_MAX
 
__UINT_MAX


	)

58 
	#INT_MAX
 
__INT_MAX


	)

59 
	#INT_MIN
 
__INT_MIN


	)

61 
	#ULONG_MAX
 
__ULONG_MAX


	)

62 
	#LONG_MAX
 
__LONG_MAX


	)

63 
	#LONG_MIN
 
__LONG_MIN


	)

65 #ifde
__LONG_LONG_SUPPORTED


66 
	#ULLONG_MAX
 
__ULLONG_MAX


	)

67 
	#LLONG_MAX
 
__LLONG_MAX


	)

68 
	#LLONG_MIN
 
__LLONG_MIN


	)

71 #i
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


72 
	#SSIZE_MAX
 
__SSIZE_MAX


	)

75 #i
__POSIX_VISIBLE
 >200112 || 
__XSI_VISIBLE


76 
	#SIZE_T_MAX
 
__SIZE_T_MAX


	)

78 
	#OFF_MAX
 
__OFF_MAX


	)

79 
	#OFF_MIN
 
__OFF_MIN


	)

82 #i
__BSD_VISIBLE


83 
	#GID_MAX
 
UINT_MAX


	)

84 
	#UID_MAX
 
UINT_MAX


	)

86 
	#UQUAD_MAX
 (
__UQUAD_MAX


	)

87 
	#QUAD_MAX
 (
__QUAD_MAX


	)

88 
	#QUAD_MIN
 (
__QUAD_MIN


	)

91 #i
__XSI_VISIBLE
 || 
__POSIX_VISIBLE
 >= 200809

92 
	#LONG_BIT
 
__LONG_BIT


	)

93 
	#WORD_BIT
 
__WORD_BIT


	)

96 #i
__POSIX_VISIBLE


97 
	#MQ_PRIO_MAX
 64

	)

	@/usr/include/sys/priority.h

34 #ide
_SYS_PRIORITY_H_


35 
	#_SYS_PRIORITY_H_


	)

45 
	#PRI_ITHD
 1

	)

46 
	#PRI_REALTIME
 2

	)

47 
	#PRI_TIMESHARE
 3

	)

48 
	#PRI_IDLE
 4

	)

54 
	#PRI_FIFO_BIT
 8

	)

55 
	#PRI_FIFO
 (
PRI_FIFO_BIT
 | 
PRI_REALTIME
)

	)

57 
	#PRI_BASE
(
P
((P& ~
PRI_FIFO_BIT
)

	)

58 
	#PRI_IS_REALTIME
(
P
(
	`PRI_BASE
(P=
PRI_REALTIME
)

	)

59 
	#PRI_NEED_RR
(
P
((P!
PRI_FIFO
)

	)

80 
	#PRI_MIN
 (0

	)

81 
	#PRI_MAX
 (255

	)

83 
	#PRI_MIN_ITHD
 (
PRI_MIN
)

	)

84 
	#PRI_MAX_ITHD
 (
PRI_MIN_REALTIME
 - 1)

	)

86 
	#PI_REALTIME
 (
PRI_MIN_ITHD
 + 0)

	)

87 
	#PI_AV
 (
PRI_MIN_ITHD
 + 4)

	)

88 
	#PI_NET
 (
PRI_MIN_ITHD
 + 8)

	)

89 
	#PI_DISK
 (
PRI_MIN_ITHD
 + 12)

	)

90 
	#PI_TTY
 (
PRI_MIN_ITHD
 + 16)

	)

91 
	#PI_DULL
 (
PRI_MIN_ITHD
 + 20)

	)

92 
	#PI_SOFT
 (
PRI_MIN_ITHD
 + 24)

	)

93 
	#PI_SWI
(
x
(
PI_SOFT
 + (x* 
RQ_PPQ
)

	)

95 
	#PRI_MIN_REALTIME
 (48)

	)

96 
	#PRI_MAX_REALTIME
 (
PRI_MIN_KERN
 - 1)

	)

98 
	#PRI_MIN_KERN
 (80)

	)

99 
	#PRI_MAX_KERN
 (
PRI_MIN_TIMESHARE
 - 1)

	)

101 
	#PSWP
 (
PRI_MIN_KERN
 + 0)

	)

102 
	#PVM
 (
PRI_MIN_KERN
 + 4)

	)

103 
	#PINOD
 (
PRI_MIN_KERN
 + 8)

	)

104 
	#PRIBIO
 (
PRI_MIN_KERN
 + 12)

	)

105 
	#PVFS
 (
PRI_MIN_KERN
 + 16)

	)

106 
	#PZERO
 (
PRI_MIN_KERN
 + 20)

	)

107 
	#PSOCK
 (
PRI_MIN_KERN
 + 24)

	)

108 
	#PWAIT
 (
PRI_MIN_KERN
 + 28)

	)

109 
	#PLOCK
 (
PRI_MIN_KERN
 + 32)

	)

110 
	#PPAUSE
 (
PRI_MIN_KERN
 + 36)

	)

112 
	#PRI_MIN_TIMESHARE
 (120)

	)

113 
	#PRI_MAX_TIMESHARE
 (
PRI_MIN_IDLE
 - 1)

	)

115 
	#PUSER
 (
PRI_MIN_TIMESHARE
)

	)

117 
	#PRI_MIN_IDLE
 (224)

	)

118 
	#PRI_MAX_IDLE
 (
PRI_MAX
)

	)

120 #ifde
_KERNEL


122 
	#PRI_USER
 -2

	)

123 
	#PRI_UNCHANGED
 -1

	)

126 
	siܙy
 {

127 
u_ch
 
	mi_ass
;

128 
u_ch
 
	mi_v
;

129 
u_ch
 
	mi_tive
;

130 
u_ch
 
	mi_ur
;

	@/usr/include/sys/signal.h

38 #ide
_SYS_SIGNAL_H_


39 
	#_SYS_SIGNAL_H_


	)

41 
	~<sys/cdefs.h
>

42 
	~<sys/_tys.h
>

43 
	~<sys/_sigt.h
>

45 
	~<mache/_lims.h
>

46 
	~<mache/sigl.h
>

51 #i
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


52 
	#SIGHUP
 1

	)

54 
	#SIGINT
 2

	)

55 #i
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


56 
	#SIGQUIT
 3

	)

58 
	#SIGILL
 4

	)

59 #i
__XSI_VISIBLE


60 
	#SIGTRAP
 5

	)

62 
	#SIGABRT
 6

	)

63 #i
__BSD_VISIBLE


64 
	#SIGIOT
 
SIGABRT


	)

65 
	#SIGEMT
 7

	)

67 
	#SIGFPE
 8

	)

68 #i
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


69 
	#SIGKILL
 9

	)

71 #i
__POSIX_VISIBLE
 >200112 || 
__XSI_VISIBLE


72 
	#SIGBUS
 10

	)

74 
	#SIGSEGV
 11

	)

75 #i
__POSIX_VISIBLE
 >200112 || 
__XSI_VISIBLE


76 
	#SIGSYS
 12

	)

78 #i
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


79 
	#SIGPIPE
 13

	)

80 
	#SIGALRM
 14

	)

82 
	#SIGTERM
 15

	)

83 #i
__POSIX_VISIBLE
 >200112 || 
__XSI_VISIBLE


84 
	#SIGURG
 16

	)

86 #i
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


87 
	#SIGSTOP
 17

	)

88 
	#SIGTSTP
 18

	)

89 
	#SIGCONT
 19

	)

90 
	#SIGCHLD
 20

	)

91 
	#SIGTTIN
 21

	)

92 
	#SIGTTOU
 22

	)

94 #i
__BSD_VISIBLE


95 
	#SIGIO
 23

	)

97 #i
__XSI_VISIBLE


98 
	#SIGXCPU
 24

	)

99 
	#SIGXFSZ
 25

	)

100 
	#SIGVTALRM
 26

	)

101 
	#SIGPROF
 27

	)

103 #i
__BSD_VISIBLE


104 
	#SIGWINCH
 28

	)

105 
	#SIGINFO
 29

	)

107 #i
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


108 
	#SIGUSR1
 30

	)

109 
	#SIGUSR2
 31

	)

111 #i
__BSD_VISIBLE


112 
	#SIGTHR
 32

	)

113 
	#SIGLWP
 
SIGTHR


	)

114 
	#SIGLIBRT
 33

	)

117 
	#SIGRTMIN
 65

	)

118 
	#SIGRTMAX
 126

	)

120 
	#SIG_DFL
 ((
__sighdr_t
 *)0)

	)

121 
	#SIG_IGN
 ((
__sighdr_t
 *)1)

	)

122 
	#SIG_ERR
 ((
__sighdr_t
 *)-1)

	)

124 
	#SIG_HOLD
 ((
__sighdr_t
 *)3)

	)

142 
	t__sighdr_t
();

144 #i
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


145 #ide
_SIGSET_T_DECLARED


146 
	#_SIGSET_T_DECLARED


	)

147 
__sigt_t
 
	tsigt_t
;

151 #i
__POSIX_VISIBLE
 >199309 || 
__XSI_VISIBLE
 >= 500

152 
	usigv
 {

154 
	msiv_t
;

155 *
	msiv_r
;

157 
	msigv_t
;

158 *
	msigv_r
;

162 #i
__POSIX_VISIBLE
 >= 199309

163 
	ssigevt
 {

164 
	msigev_nify
;

165 
	msigev_signo
;

166 
sigv
 
	msigev_vue
;

168 
__lwpid_t
 
	m_thadid
;

170 (*
	m_funi
)(
	msigv
);

171 *
	m_ibu
;

172 } 
	m_sigev_thad
;

173 
	m_kevt_ags
;

174 
	m__e__
[8];

175 } 
	m_sigev_un
;

178 #i
__BSD_VISIBLE


179 
	#sigev_nify_kqueue
 
sigev_signo


	)

180 
	#sigev_nify_kevt_ags
 
_sigev_un
.
_kevt_ags


	)

181 
	#sigev_nify_thad_id
 
_sigev_un
.
_thadid


	)

183 
	#sigev_nify_funi
 
_sigev_un
.
_sigev_thad
.
_funi


	)

184 
	#sigev_nify_ibus
 
_sigev_un
.
_sigev_thad
.
_ibu


	)

186 
	#SIGEV_NONE
 0

	)

187 
	#SIGEV_SIGNAL
 1

	)

188 
	#SIGEV_THREAD
 2

	)

189 #i
__BSD_VISIBLE


190 
	#SIGEV_KEVENT
 3

	)

191 
	#SIGEV_THREAD_ID
 4

	)

195 #i
__POSIX_VISIBLE
 >199309 || 
__XSI_VISIBLE


196 
	s__sigfo
 {

197 
	msi_signo
;

198 
	msi_o
;

205 
	msi_code
;

206 
__pid_t
 
	msi_pid
;

207 
__uid_t
 
	msi_uid
;

208 
	msi_us
;

209 *
	msi_addr
;

210 
sigv
 
	msi_vue
;

213 
	m_no
;

214 } 
	m_u
;

216 
	m_timid
;

217 
	m_ovrun
;

218 } 
	m_tim
;

220 
	m_mqd
;

221 } 
	m_mesgq
;

223 
	m_bd
;

224 } 
	m_pl
;

226 
	m__e1__
;

227 
	m__e2__
[7];

228 } 
	m__e__
;

229 } 
	m_as
;

230 } 
	tsigfo_t
;

232 
	#si_no
 
_as
.
_u
.
_no


	)

233 
	#si_timid
 
_as
.
_tim
.
_timid


	)

234 
	#si_ovrun
 
_as
.
_tim
.
_ovrun


	)

235 
	#si_mqd
 
_as
.
_mesgq
.
_mqd


	)

236 
	#si_bd
 
_as
.
_pl
.
_bd


	)

240 
	#ILL_ILLOPC
 1

	)

241 
	#ILL_ILLOPN
 2

	)

242 
	#ILL_ILLADR
 3

	)

243 
	#ILL_ILLTRP
 4

	)

244 
	#ILL_PRVOPC
 5

	)

245 
	#ILL_PRVREG
 6

	)

246 
	#ILL_COPROC
 7

	)

247 
	#ILL_BADSTK
 8

	)

250 
	#BUS_ADRALN
 1

	)

251 
	#BUS_ADRERR
 2

	)

252 
	#BUS_OBJERR
 3

	)

255 
	#SEGV_MAPERR
 1

	)

256 
	#SEGV_ACCERR
 2

	)

260 
	#FPE_INTOVF
 1

	)

261 
	#FPE_INTDIV
 2

	)

262 
	#FPE_FLTDIV
 3

	)

263 
	#FPE_FLTOVF
 4

	)

264 
	#FPE_FLTUND
 5

	)

265 
	#FPE_FLTRES
 6

	)

266 
	#FPE_FLTINV
 7

	)

267 
	#FPE_FLTSUB
 8

	)

270 
	#TRAP_BRKPT
 1

	)

271 
	#TRAP_TRACE
 2

	)

272 
	#TRAP_DTRACE
 3

	)

275 
	#CLD_EXITED
 1

	)

276 
	#CLD_KILLED
 2

	)

278 
	#CLD_DUMPED
 3

	)

280 
	#CLD_TRAPPED
 4

	)

281 
	#CLD_STOPPED
 5

	)

282 
	#CLD_CONTINUED
 6

	)

285 
	#POLL_IN
 1

	)

286 
	#POLL_OUT
 2

	)

287 
	#POLL_MSG
 3

	)

288 
	#POLL_ERR
 4

	)

289 
	#POLL_PRI
 5

	)

290 
	#POLL_HUP
 6

	)

294 #i
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


295 
	g__sigfo
;

300 
	ssigai
 {

302 (*
	m___hdr
)();

303 (*
	m___sigai
)(, 
	m__sigfo
 *, *);

304 } 
	m__sigai_u
;

305 
	m_ags
;

306 
sigt_t
 
	m_mask
;

309 
	#_hdr
 
__sigai_u
.
___hdr


	)

312 #i
__XSI_VISIBLE


314 
	#_sigai
 
__sigai_u
.
___sigai


	)

317 #i
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


318 
	#SA_NOCLDSTOP
 0x0008

	)

321 #i
__XSI_VISIBLE


322 
	#SA_ONSTACK
 0x0001

	)

323 
	#SA_RESTART
 0x0002

	)

324 
	#SA_RESETHAND
 0x0004

	)

325 
	#SA_NODEFER
 0x0010

	)

326 
	#SA_NOCLDWAIT
 0x0020

	)

327 
	#SA_SIGINFO
 0x0040

	)

330 #i
__BSD_VISIBLE


331 
	#NSIG
 32

	)

334 #i
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


335 
	#SI_NOINFO
 0

	)

336 
	#SI_USER
 0x10001

	)

337 
	#SI_QUEUE
 0x10002

	)

338 
	#SI_TIMER
 0x10003

	)

340 
	#SI_ASYNCIO
 0x10004

	)

342 
	#SI_MESGQ
 0x10005

	)

344 
	#SI_KERNEL
 0x10006

	)

345 
	#SI_LWP
 0x10007

	)

347 #i
__BSD_VISIBLE


348 
	#SI_UNDEFINED
 0

	)

351 #i
__BSD_VISIBLE


352 
__sighdr_t
 *
	tsig_t
;

353 
	t__sigfohdr_t
(, 
	t__sigfo
 *, *);

356 #i
__XSI_VISIBLE


360 #i
__BSD_VISIBLE


361 
	ssigtack
 {

365 *
	mss_
;

366 
__size_t
 
	mss_size
;

367 
	mss_ags
;

368 } 
	tack_t
;

370 
	#SS_ONSTACK
 0x0001

	)

371 
	#SS_DISABLE
 0x0004

	)

372 
	#MINSIGSTKSZ
 
__MINSIGSTKSZ


	)

373 
	#SIGSTKSZ
 (
MINSIGSTKSZ
 + 32768

	)

376 #i
__BSD_VISIBLE


381 
	ssigvec
 {

382 
__sighdr_t
 *
	msv_hdr
;

383 
	msv_mask
;

384 
	msv_ags
;

387 
	#SV_ONSTACK
 
SA_ONSTACK


	)

388 
	#SV_INTERRUPT
 
SA_RESTART


	)

389 
	#SV_RESETHAND
 
SA_RESETHAND


	)

390 
	#SV_NODEFER
 
SA_NODEFER


	)

391 
	#SV_NOCLDSTOP
 
SA_NOCLDSTOP


	)

392 
	#SV_SIGINFO
 
SA_SIGINFO


	)

393 
	#sv_ڡack
 
sv_ags


	)

397 #i
defed
(
_KERNEL
&& defed(
COMPAT_43
) && \

398 !
	$defed
(
__i386__
)

399 
	sosigcڋxt
 {

400 
_n_ud
;

404 #i
__XSI_VISIBLE


408 
	ssigack
 {

410 *
ss_
;

411 
ss_ڡack
;

415 #i
__BSD_VISIBLE
 || 
__POSIX_VISIBLE
 > 0 && __POSIX_VISIBLE <= 200112

420 
	#sigmask
(
m
(1 << ((m)-1))

	)

423 #i
__BSD_VISIBLE


424 
	#BADSIG
 
SIG_ERR


	)

427 #i
__POSIX_VISIBLE
 || 
__XSI_VISIBLE


431 
	#SIG_BLOCK
 1

	)

432 
	#SIG_UNBLOCK
 2

	)

433 
	#SIG_SETMASK
 3

	)

440 
__BEGIN_DECLS


441 
__sighdr_t
 *
	`sigl
(, __sighandler_t *);

442 
__END_DECLS


	@/usr/include/sys/syslimits.h

33 #ide
_SYS_SYSLIMITS_H_


34 
	#_SYS_SYSLIMITS_H_


	)

36 #i!
defed
(
_KERNEL
&& !defed(
_LIMITS_H_
&& !defed(
_SYS_PARAM_H_
)

37 #ide
_SYS_CDEFS_H_


38 #r 
this
 
fe
 
eds
 
sys
/
cdefs
.
h
 
as
 
a
 
equise


40 #ifde
__CC_SUPPORTS_WARNING


49 
	#ARG_MAX
 262144

	)

50 #ide
CHILD_MAX


51 
	#CHILD_MAX
 40

	)

53 
	#LINK_MAX
 32767

	)

54 
	#MAX_CANON
 255

	)

55 
	#MAX_INPUT
 255

	)

56 
	#NAME_MAX
 255

	)

57 #ide
NGROUPS_MAX


58 
	#NGROUPS_MAX
 1023

	)

60 #ide
OPEN_MAX


61 
	#OPEN_MAX
 64

	)

63 
	#PATH_MAX
 1024

	)

64 
	#PIPE_BUF
 512

	)

65 
	#IOV_MAX
 1024

	)

	@/usr/include/sys/time.h

33 #ide
_SYS_TIME_H_


34 
	#_SYS_TIME_H_


	)

36 
	~<sys/_timev.h
>

37 
	~<sys/tys.h
>

38 
	~<sys/timeec.h
>

40 
	stimeze
 {

41 
	mtz_muswe
;

42 
	mtz_dtime
;

44 
	#DST_NONE
 0

	)

45 
	#DST_USA
 1

	)

46 
	#DST_AUST
 2

	)

47 
	#DST_WET
 3

	)

48 
	#DST_MET
 4

	)

49 
	#DST_EET
 5

	)

50 
	#DST_CAN
 6

	)

52 #i
__BSD_VISIBLE


53 
	sbtime
 {

54 
time_t
 
	mc
;

55 
ut64_t
 
	mac
;

58 
__le
 

59 
	$btime_addx
(
btime
 *
_bt
, 
ut64_t
 
_x
)

61 
ut64_t
 
_u
;

63 
_u
 = 
_bt
->
ac
;

64 
_bt
->
ac
 +
_x
;

65 i(
_u
 > 
_bt
->
ac
)

66 
_bt
->
c
++;

67 
	}
}

69 
__le
 

70 
	$btime_add
(
btime
 *
_bt
, cڡ btim*
_bt2
)

72 
ut64_t
 
_u
;

74 
_u
 = 
_bt
->
ac
;

75 
_bt
->
ac
 +
_bt2
->frac;

76 i(
_u
 > 
_bt
->
ac
)

77 
_bt
->
c
++;

78 
_bt
->
c
 +
_bt2
->sec;

79 
	}
}

81 
__le
 

82 
	$btime_sub
(
btime
 *
_bt
, cڡ btim*
_bt2
)

84 
ut64_t
 
_u
;

86 
_u
 = 
_bt
->
ac
;

87 
_bt
->
ac
 -
_bt2
->frac;

88 i(
_u
 < 
_bt
->
ac
)

89 
_bt
->
c
--;

90 
_bt
->
c
 -
_bt2
->sec;

91 
	}
}

93 
__le
 

94 
	$btime_mul
(
btime
 *
_bt
, 
u_t
 
_x
)

96 
ut64_t
 
_p1
, 
_p2
;

98 
_p1
 = (
_bt
->
ac
 & 0xffffffffu* 
_x
;

99 
_p2
 = (
_bt
->
ac
 >> 32* 
_x
 + (
_p1
 >> 32);

100 
_bt
->
c
 *
_x
;

101 
_bt
->
c
 +(
_p2
 >> 32);

102 
_bt
->
ac
 = (
_p2
 << 32| (
_p1
 & 0xffffffffull);

103 
	}
}

105 
__le
 

106 
	$btime_shi
(
btime
 *
_bt
, 
_exp
)

109 i(
_exp
 > 0) {

110 
_bt
->
c
 <<
_exp
;

111 
_bt
->
c
 |_bt->
ac
 >> (64 - 
_exp
);

112 
_bt
->
ac
 <<
_exp
;

113 } i(
_exp
 < 0) {

114 
_bt
->
ac
 >>-
_exp
;

115 
_bt
->
ac
 |(
ut64_t
)_bt->
c
 << (64 + 
_exp
);

116 
_bt
->
c
 >>-
_exp
;

118 
	}
}

120 
	#btime_r
(
a
()->
c
 = (a)->
ac
 = 0)

	)

121 
	#btime_ist
(
a
()->
c
 || (a)->
ac
)

	)

122 
	#btime_cmp
(
a
, 
b
, 
cmp
) \

123 (((
a
)->
c
 =(
b
)->sec) ? \

124 ((
a
)->
ac
 
	`cmp
 (
b
)->frac) : \

125 ((
a
)->
c
 
	`cmp
 (
b
)->c))

	)

127 
	#SBT_1S
 ((
sbtime_t
)1 << 32)

	)

128 
	#SBT_1M
 (
SBT_1S
 * 60)

	)

129 
	#SBT_1MS
 (
SBT_1S
 / 1000)

	)

130 
	#SBT_1US
 (
SBT_1S
 / 1000000)

	)

131 
	#SBT_1NS
 (
SBT_1S
 / 1000000000)

	)

132 
	#SBT_MAX
 0x7fffffffffffffff

	)

134 
__le
 

135 
	$sbtime_gc
(
sbtime_t
 
_sbt
)

138  (
_sbt
 >> 32);

139 
	}
}

141 
__le
 
sbtime_t


142 
	$bosbt
(cڡ 
btime
 
_bt
)

145  (((
sbtime_t
)
_bt
.
c
 << 32+ (_bt.
ac
 >> 32));

146 
	}
}

148 
__le
 
btime


149 
	$sbobt
(
sbtime_t
 
_sbt
)

151 
btime
 
_bt
;

153 
_bt
.
c
 = 
_sbt
 >> 32;

154 
_bt
.
ac
 = 
_sbt
 << 32;

155  (
_bt
);

156 
	}
}

172 
__le
 

173 
	$btime2timeec
(cڡ 
btime
 *
_bt
, 
timeec
 *
_ts
)

176 
_ts
->
tv_c
 = 
_bt
->
c
;

177 
_ts
->
tv_nc
 = ((
ut64_t
)1000000000 *

178 (
ut32_t
)(
_bt
->
ac
 >> 32)) >> 32;

179 
	}
}

181 
__le
 

182 
	$timeec2btime
(cڡ 
timeec
 *
_ts
, 
btime
 *
_bt
)

185 
_bt
->
c
 = 
_ts
->
tv_c
;

187 
_bt
->
ac
 = 
_ts
->
tv_nc
 * (
ut64_t
)18446744073LL;

188 
	}
}

190 
__le
 

191 
	$btime2timev
(cڡ 
btime
 *
_bt
, 
timev
 *
_tv
)

194 
_tv
->
tv_c
 = 
_bt
->
c
;

195 
_tv
->
tv_uc
 = ((
ut64_t
)1000000 * (
ut32_t
)(
_bt
->
ac
 >> 32)) >> 32;

196 
	}
}

198 
__le
 

199 
	$timev2btime
(cڡ 
timev
 *
_tv
, 
btime
 *
_bt
)

202 
_bt
->
c
 = 
_tv
->
tv_c
;

204 
_bt
->
ac
 = 
_tv
->
tv_uc
 * (
ut64_t
)18446744073709LL;

205 
	}
}

207 
__le
 
timeec


208 
	$sbs
(
sbtime_t
 
_sbt
)

210 
timeec
 
_ts
;

212 
_ts
.
tv_c
 = 
_sbt
 >> 32;

213 
_ts
.
tv_nc
 = ((
ut64_t
)1000000000 * (
ut32_t
)
_sbt
) >> 32;

214  (
_ts
);

215 
	}
}

217 
__le
 
sbtime_t


218 
	$tosbt
(
timeec
 
_ts
)

221  (((
sbtime_t
)
_ts
.
tv_c
 << 32) +

222 (
_ts
.
tv_nc
 * (((
ut64_t
)1 << 63) / 500000000) >> 32));

223 
	}
}

225 
__le
 
timev


226 
	$sbv
(
sbtime_t
 
_sbt
)

228 
timev
 
_tv
;

230 
_tv
.
tv_c
 = 
_sbt
 >> 32;

231 
_tv
.
tv_uc
 = ((
ut64_t
)1000000 * (
ut32_t
)
_sbt
) >> 32;

232  (
_tv
);

233 
	}
}

235 
__le
 
sbtime_t


236 
	$tvtosbt
(
timev
 
_tv
)

239  (((
sbtime_t
)
_tv
.
tv_c
 << 32) +

240 (
_tv
.
tv_uc
 * (((
ut64_t
)1 << 63) / 500000) >> 32));

241 
	}
}

244 #ifde
_KERNEL


247 
	#timeecr
(
tvp
(vp)->
tv_c
 = (tvp)->
tv_nc
 = 0)

	)

248 
	#timeecist
(
tvp
(vp)->
tv_c
 || (tvp)->
tv_nc
)

	)

249 
	#timeeccmp
(
tvp
, 
uvp
, 
cmp
) \

250 (((
tvp
)->
tv_c
 =(
uvp
)->tv_sec) ? \

251 ((
tvp
)->
tv_nc
 
	`cmp
 (
uvp
)->tv_nsec) : \

252 ((
tvp
)->
tv_c
 
	`cmp
 (
uvp
)->tv_c))

	)

253 
	#timeedd
(
vvp
, 
uvp
) \

255 (
vvp
)->
tv_c
 +(
uvp
)->tv_sec; \

256 (
vvp
)->
tv_nc
 +(
uvp
)->tv_nsec; \

257 i((
vvp
)->
tv_nc
 >= 1000000000) { \

258 (
vvp
)->
tv_c
++; \

259 (
vvp
)->
tv_nc
 -= 1000000000; \

261 } 0)

	)

262 
	#timeecsub
(
vvp
, 
uvp
) \

264 (
vvp
)->
tv_c
 -(
uvp
)->tv_sec; \

265 (
vvp
)->
tv_nc
 -(
uvp
)->tv_nsec; \

266 i((
vvp
)->
tv_nc
 < 0) { \

267 (
vvp
)->
tv_c
--; \

268 (
vvp
)->
tv_nc
 += 1000000000; \

270 } 0)

	)

274 
	#timevr
(
tvp
(vp)->
tv_c
 = (tvp)->
tv_uc
 = 0)

	)

275 
	#timevist
(
tvp
(vp)->
tv_c
 || (tvp)->
tv_uc
)

	)

276 
	#timevcmp
(
tvp
, 
uvp
, 
cmp
) \

277 (((
tvp
)->
tv_c
 =(
uvp
)->tv_sec) ? \

278 ((
tvp
)->
tv_uc
 
	`cmp
 (
uvp
)->tv_usec) : \

279 ((
tvp
)->
tv_c
 
	`cmp
 (
uvp
)->tv_c))

	)

285 #ide
_KERNEL


287 
	#timr
(
tvp
(vp)->
tv_c
 = (tvp)->
tv_uc
 = 0)

	)

288 
	#timist
(
tvp
(vp)->
tv_c
 || (tvp)->
tv_uc
)

	)

289 
	#timcmp
(
tvp
, 
uvp
, 
cmp
) \

290 (((
tvp
)->
tv_c
 =(
uvp
)->tv_sec) ? \

291 ((
tvp
)->
tv_uc
 
	`cmp
 (
uvp
)->tv_usec) : \

292 ((
tvp
)->
tv_c
 
	`cmp
 (
uvp
)->tv_c))

	)

293 
	#timadd
(
tvp
, 
uvp
, 
vvp
) \

295 (
vvp
)->
tv_c
 = (
tvp
)->tv_+ (
uvp
)->tv_sec; \

296 (
vvp
)->
tv_uc
 = (
tvp
)->tv_u+ (
uvp
)->tv_usec; \

297 i((
vvp
)->
tv_uc
 >= 1000000) { \

298 (
vvp
)->
tv_c
++; \

299 (
vvp
)->
tv_uc
 -= 1000000; \

301 } 0)

	)

302 
	#timsub
(
tvp
, 
uvp
, 
vvp
) \

304 (
vvp
)->
tv_c
 = (
tvp
)->tv_- (
uvp
)->tv_sec; \

305 (
vvp
)->
tv_uc
 = (
tvp
)->tv_u- (
uvp
)->tv_usec; \

306 i((
vvp
)->
tv_uc
 < 0) { \

307 (
vvp
)->
tv_c
--; \

308 (
vvp
)->
tv_uc
 += 1000000; \

310 } 0)

	)

317 
	#ITIMER_REAL
 0

	)

318 
	#ITIMER_VIRTUAL
 1

	)

319 
	#ITIMER_PROF
 2

	)

321 
	simv
 {

322 
timev
 
	m_rv
;

323 
timev
 
	m_vue
;

329 
	sockfo
 {

330 
	mhz
;

331 
	mtick
;

332 
	me
;

333 
	mhz
;

334 
	mofhz
;

338 #ide
CLOCK_REALTIME


339 
	#CLOCK_REALTIME
 0

	)

340 
	#CLOCK_VIRTUAL
 1

	)

341 
	#CLOCK_PROF
 2

	)

342 
	#CLOCK_MONOTONIC
 4

	)

343 
	#CLOCK_UPTIME
 5

	)

344 
	#CLOCK_UPTIME_PRECISE
 7

	)

345 
	#CLOCK_UPTIME_FAST
 8

	)

346 
	#CLOCK_REALTIME_PRECISE
 9

	)

347 
	#CLOCK_REALTIME_FAST
 10

	)

348 
	#CLOCK_MONOTONIC_PRECISE
 11

	)

349 
	#CLOCK_MONOTONIC_FAST
 12

	)

350 
	#CLOCK_SECOND
 13

	)

351 
	#CLOCK_THREAD_CPUTIME_ID
 14

	)

352 
	#CLOCK_PROCESS_CPUTIME_ID
 15

	)

355 #ide
TIMER_ABSTIME


356 
	#TIMER_RELTIME
 0x0

	)

357 
	#TIMER_ABSTIME
 0x1

	)

360 #i
__BSD_VISIBLE


361 
	#CPUCLOCK_WHICH_PID
 0

	)

362 
	#CPUCLOCK_WHICH_TID
 1

	)

365 #ifde
_KERNEL


370 
todr
(
time_t
 
ba
);

371 
odr
();

373 vީ
time_t
 
time_cd
;

374 vީ
time_t
 
time_uime
;

375 
btime
 
botimeb
;

376 
timev
 
botime
;

377 
btime
 
tc_tick_bt
;

378 
sbtime_t
 
tc_tick_sbt
;

379 
btime
 
tick_bt
;

380 
sbtime_t
 
tick_sbt
;

381 
tc_exp
;

382 
tc_timage
;

383 
btime
 
bt_timhshd
;

384 
btime
 
bt_tickthshd
;

385 
sbtime_t
 
sbt_timhshd
;

386 
sbtime_t
 
sbt_tickthshd
;

409 
buime
(
btime
 *
bt
);

410 
nouime
(
timeec
 *
t
);

411 
miouime
(
timev
 *
tvp
);

413 
__le
 
sbtime_t


414 
	$sbuime
()

416 
btime
 
_bt
;

418 
	`buime
(&
_bt
);

419  (
	`bosbt
(
_bt
));

420 
	}
}

422 
btime
(btim*
bt
);

423 
nime
(
timeec
 *
t
);

424 
miime
(
timev
 *
tvp
);

426 
gbuime
(
btime
 *
bt
);

427 
gnouime
(
timeec
 *
t
);

428 
gmiouime
(
timev
 *
tvp
);

430 
__le
 
sbtime_t


431 
	$gsbuime
()

433 
btime
 
_bt
;

435 
	`gbuime
(&
_bt
);

436  (
	`bosbt
(
_bt
));

437 
	}
}

439 
gbtime
(
btime
 *
bt
);

440 
gnime
(
timeec
 *
t
);

441 
gmiime
(
timev
 *
tvp
);

444 
imde
(
imv
 *
p
, 
uc
);

445 
imfix
(
timev
 *
tv
);

446 
echeck
(
timev
 *, *, );

447 
check
(
timev
 *, const timeval *);

448 
timevadd
(
timev
 *
t1
, cڡ timev *
t2
);

449 
timevsub
(
timev
 *
t1
, cڡ timev *
t2
);

450 
tvtohz
(
timev
 *
tv
);

452 
	#TC_DEFAULTPERC
 5

	)

454 
	#BT2FREQ
(
bt
) \

455 (((
ut64_t
)0x8000000000000000 + ((
bt
)->
ac
 >> 2)) / \

456 ((
bt
)->
ac
 >> 1))

	)

458 
	#SBT2FREQ
(
sbt
((
SBT_1S
 + ((sbt>> 1)/ (sbt))

	)

460 
	#FREQ2BT
(
eq
, 
bt
) \

462 (
bt
)->
c
 = 0; \

463 (
bt
)->
ac
 = ((
ut64_t
)0x8000000000000000 / (
eq
)) << 1; \

464 }

	)

466 
	#TIMESEL
(
sbt
, 
sbt2
) \

467 (((
sbt2
>
sbt_timhshd
) ? \

468 ((*(
sbt

	`gsbuime
()), 1: ((*(sbt
	`sbuime
()), 0))

	)

471 
	~<time.h
>

473 
	~<sys/cdefs.h
>

474 
	~<sys/.h
>

476 
__BEGIN_DECLS


477 
tim
(, cڡ 
imv
 *, itimerval *);

478 
utimes
(cڡ *, cڡ 
timev
 *);

480 #i
__BSD_VISIBLE


481 
adjtime
(cڡ 
timev
 *, timeval *);

482 
ock_guockid2
(
id_t
, , 
ockid_t
 *);

483 
futimes
(, cڡ 
timev
 *);

484 
futimet
(, cڡ *, cڡ 
timev
 [2]);

485 
lutimes
(cڡ *, cڡ 
timev
 *);

486 
imeofday
(cڡ 
timev
 *, cڡ 
timeze
 *);

489 #i
__XSI_VISIBLE


490 
gim
(, 
imv
 *);

491 
gtimeofday
(
timev
 *, 
timeze
 *);

494 
	g__END_DECLS


	@/usr/include/sys/types.h

38 #ide
_SYS_TYPES_H_


39 
	#_SYS_TYPES_H_


	)

41 
	~<sys/cdefs.h
>

44 
	~<mache/dn.h
>

45 
	~<sys/_tys.h
>

47 
	~<sys/_hadtys.h
>

49 #i
__BSD_VISIBLE


50 
	tu_ch
;

51 
	tu_sht
;

52 
	tu_t
;

53 
	tu_lg
;

54 #ide
_KERNEL


55 
	tusht
;

56 
	tut
;

63 
	~<sys/_dt.h
>

65 
__ut8_t
 
	tu_t8_t
;

66 
__ut16_t
 
	tu_t16_t
;

67 
__ut32_t
 
	tu_t32_t
;

68 
__ut64_t
 
	tu_t64_t
;

70 
__ut64_t
 
	tu_quad_t
;

71 
__t64_t
 
	tquad_t
;

72 
quad_t
 * 
	tqaddr_t
;

74 * 
	tddr_t
;

75 cڡ * 
	tc_ddr_t
;

77 #ide
_BLKSIZE_T_DECLARED


78 
__blksize_t
 
	tblksize_t
;

79 
	#_BLKSIZE_T_DECLARED


	)

82 
__uwhich_t
 
	tuwhich_t
;

83 
__uv_t
 
	tuv_t
;

84 
__utid_t
 
	tutid_t
;

86 #ide
_BLKCNT_T_DECLARED


87 
__blkt_t
 
	tblkt_t
;

88 
	#_BLKCNT_T_DECLARED


	)

91 #ide
_CLOCK_T_DECLARED


92 
__ock_t
 
	tock_t
;

93 
	#_CLOCK_T_DECLARED


	)

96 #ide
_CLOCKID_T_DECLARED


97 
__ockid_t
 
	tockid_t
;

98 
	#_CLOCKID_T_DECLARED


	)

101 
__il_t
 
	til_t
;

102 
__t64_t
 
	tdaddr_t
;

104 #ide
_DEV_T_DECLARED


105 
__dev_t
 
	tdev_t
;

106 
	#_DEV_T_DECLARED


	)

109 #ide
_FFLAGS_T_DECLARED


110 
__fags_t
 
	tfags_t
;

111 
	#_FFLAGS_T_DECLARED


	)

114 
__fix_t
 
	tfix_t
;

116 #ide
_FSBLKCNT_T_DECLARED


117 
__fsblkt_t
 
	tfsblkt_t
;

118 
__fsft_t
 
	tfsft_t
;

119 
	#_FSBLKCNT_T_DECLARED


	)

122 #ide
_GID_T_DECLARED


123 
__gid_t
 
	tgid_t
;

124 
	#_GID_T_DECLARED


	)

127 #ide
_IN_ADDR_T_DECLARED


128 
__ut32_t
 
	t_addr_t
;

129 
	#_IN_ADDR_T_DECLARED


	)

132 #ide
_IN_PORT_T_DECLARED


133 
__ut16_t
 
	t_pt_t
;

134 
	#_IN_PORT_T_DECLARED


	)

137 #ide
_ID_T_DECLARED


138 
__id_t
 
	tid_t
;

139 
	#_ID_T_DECLARED


	)

142 #ide
_INO_T_DECLARED


143 
__o_t
 
	to_t
;

144 
	#_INO_T_DECLARED


	)

147 #ide
_KEY_T_DECLARED


148 
__key_t
 
	tkey_t
;

149 
	#_KEY_T_DECLARED


	)

152 #ide
_LWPID_T_DECLARED


153 
__lwpid_t
 
	tlwpid_t
;

154 
	#_LWPID_T_DECLARED


	)

157 #ide
_MODE_T_DECLARED


158 
__mode_t
 
	tmode_t
;

159 
	#_MODE_T_DECLARED


	)

162 #ide
_ACCMODE_T_DECLARED


163 
__accmode_t
 
	taccmode_t
;

164 
	#_ACCMODE_T_DECLARED


	)

167 #ide
_NLINK_T_DECLARED


168 
__ƚk_t
 
	tƚk_t
;

169 
	#_NLINK_T_DECLARED


	)

172 #ide
_OFF_T_DECLARED


173 
__off_t
 
	toff_t
;

174 
	#_OFF_T_DECLARED


	)

177 #ide
_PID_T_DECLARED


178 
__pid_t
 
	tpid_t
;

179 
	#_PID_T_DECLARED


	)

182 
__gi_t
 
	tgi_t
;

184 #ide
_RLIM_T_DECLARED


185 
__im_t
 
	tim_t
;

186 
	#_RLIM_T_DECLARED


	)

189 
__t64_t
 
	tsbtime_t
;

191 
__gsz_t
 
	tgsz_t
;

193 #ide
_SIZE_T_DECLARED


194 
__size_t
 
	tsize_t
;

195 
	#_SIZE_T_DECLARED


	)

198 #ide
_SSIZE_T_DECLARED


199 
__ssize_t
 
	tssize_t
;

200 
	#_SSIZE_T_DECLARED


	)

203 #ide
_SUSECONDS_T_DECLARED


204 
__sucds_t
 
	tsucds_t
;

205 
	#_SUSECONDS_T_DECLARED


	)

208 #ide
_TIME_T_DECLARED


209 
__time_t
 
	ttime_t
;

210 
	#_TIME_T_DECLARED


	)

213 #ide
_TIMER_T_DECLARED


214 
__tim_t
 
	ttim_t
;

215 
	#_TIMER_T_DECLARED


	)

218 #ide
_MQD_T_DECLARED


219 
__mqd_t
 
	tmqd_t
;

220 
	#_MQD_T_DECLARED


	)

223 
__u_gi_t
 
	tu_gi_t
;

225 #ide
_UID_T_DECLARED


226 
__uid_t
 
	tuid_t
;

227 
	#_UID_T_DECLARED


	)

230 #ide
_USECONDS_T_DECLARED


231 
__ucds_t
 
	tucds_t
;

232 
	#_USECONDS_T_DECLARED


	)

235 #ide
_CAP_RIGHTS_T_DECLARED


236 
	#_CAP_RIGHTS_T_DECLARED


	)

237 
	gp_rights
;

239 
p_rights
 
	tp_rights_t
;

242 
__vm_offt_t
 
	tvm_offt_t
;

243 
__vm_oofft_t
 
	tvm_oofft_t
;

244 
__vm_ddr_t
 
	tvm_ddr_t
;

245 
__vm_pdex_t
 
	tvm_pdex_t
;

246 
__vm_size_t
 
	tvm_size_t
;

248 #ifde
_KERNEL


249 
	tboޗn_t
;

250 
devi
 *
	tdevi_t
;

251 
__t_t
 
	tt_t
;

263 
__ut32_t
 
	tmask_t
;

265 
__ut_t
 
	tut_t
;

266 
__ut64_t
 
	tuoff_t
;

267 
	tvm_mem_t
;

268 
vm_ge
 *
	tvm_ge_t
;

270 #i!
defed
(
__bo_ue_l_e_defed
&& !defed(
__lulus
)

271 
	#__bo_ue_l_e_defed
 1

	)

272 
	#l
 0

	)

273 
	#ue
 1

	)

274 #i
__STDC_VERSION__
 < 199901L && 
__GNUC__
 < 3 && !
defed
(
__INTEL_COMPILER
)

275 
	t_Bo
;

277 
_Bo
 
	tbo
;

280 
	#offtof
(
ty
, 
fld

	`__offtof
y, fld)

	)

288 #i
__BSD_VISIBLE


290 
	~<sys/.h
>

297 
	#maj
(
x
(()(((
u_t
)(x>> 8)&0xff)

	)

298 
	#m
(
x
(()((x)&0xffff00ff)

	)

299 
	#makedev
(
x
,
y
((
dev_t
)(((x<< 8| (y))

	)

306 #ide
_KERNEL


307 
	g__BEGIN_DECLS


308 #ide
_FTRUNCATE_DECLARED


309 
	#_FTRUNCATE_DECLARED


	)

310 
run
(, 
off_t
);

312 #ide
_LSEEK_DECLARED


313 
	#_LSEEK_DECLARED


	)

314 
off_t
 
lek
(, off_t, );

316 #ide
_MMAP_DECLARED


317 
	#_MMAP_DECLARED


	)

318 * 
mm
(*, 
size_t
, , , , 
off_t
);

320 #ide
_TRUNCATE_DECLARED


321 
	#_TRUNCATE_DECLARED


	)

322 
un
(cڡ *, 
off_t
);

324 
	g__END_DECLS


	@/usr/include/xlocale/_stdio.h

32 
	$artf_l
(**, 
lo_t
, cڡ *, ...
	`__tike
(3, 4);

33 
	$dtf_l
(, 
lo_t
, cڡ * 
__ri
, ...)

34 
	`__tike
(3, 4);

35 
	$rtf_l
(
FILE
 * 
__ri
, 
lo_t
, const * __restrict, ...)

36 
	`__tike
(3, 4);

37 
	$fsnf_l
(
FILE
 * 
__ri
, 
lo_t
, const * __restrict, ...)

38 
	`__snike
(3, 4);

39 
	$tf_l
(
lo_t
, cڡ * 
__ri
, ...
	`__tike
(2, 3);

40 
	$snf_l
(
lo_t
, cڡ * 
__ri
, ...
	`__snike
(2, 3);

41 
	$tf_l
(* 
__ri
, 
size_t
, 
lo_t
,

42 cڡ * 
__ri
, ...
	`__tike
(4, 5);

43 
	$rtf_l
(* 
__ri
, 
lo_t
, const * __restrict, ...)

44 
	`__tike
(3, 4);

45 
	$ssnf_l
(cڡ * 
__ri
, 
lo_t
, const * __restrict,

46 ...
	`__snike
(3, 4);

47 
	$vrtf_l
(
FILE
 * 
__ri
, 
lo_t
, const * __restrict,

48 
__va_li

	`__tike
(3, 0);

49 
	$vtf_l
(
lo_t
, cڡ * 
__ri
, 
__va_li
)

50 
	`__tike
(2, 0);

51 
	$vrtf_l
(* 
__ri
, 
lo_t
, const * __restrict,

52 
__va_li

	`__tike
(3, 0);

53 
	$vfsnf_l
(
FILE
 * 
__ri
, 
lo_t
, const * __restrict,

54 
__va_li

	`__snike
(3, 0);

55 
	$vsnf_l
(
lo_t
, cڡ * 
__ri
, 
__va_li
)

56 
	`__snike
(2, 0);

57 
	$vtf_l
(* 
__ri
, 
size_t
, 
lo_t
,

58 cڡ * 
__ri
, 
__va_li

	`__tike
(4, 0);

59 
	$vssnf_l
(cڡ * 
__ri
, 
lo_t
, const * __restrict,

60 
__va_li

	`__snike
(3, 0);

61 
	$vdtf_l
(, 
lo_t
, cڡ * 
__ri
, 
__va_li
)

62 
	`__tike
(3, 0);

63 
	$vartf_l
(**, 
lo_t
, cڡ *, 
__va_li
)

64 
	`__tike
(3, 0);

	@/usr/include/machine/_align.h

6 
	~<x86/_ign.h
>

	@/usr/include/machine/_limits.h

6 
	~<x86/_lims.h
>

	@/usr/include/machine/signal.h

6 
	~<x86/sigl.h
>

	@/usr/include/sys/_pthreadtypes.h

36 #ide
_SYS__PTHREADTYPES_H_


37 
	#_SYS__PTHREADTYPES_H_


	)

44 
	ghad
;

45 
	ghad_
;

46 
	ghad_cd
;

47 
	ghad_cd_
;

48 
	ghad_mux
;

49 
	ghad_mux_
;

50 
	ghad_
;

51 
	ghad_rwlock
;

52 
	ghad_rwlock
;

53 
	ghad_brr
;

54 
	ghad_brr_
;

55 
	ghad_lock
;

64 #ide
_PTHREAD_T_DECLARED


65 
had
 *
	thad_t
;

66 
	#_PTHREAD_T_DECLARED


	)

68 
had_
 *
	thad__t
;

69 
had_mux
 *
	thad_mux_t
;

70 
had_mux_
 *
	thad_mux_t
;

71 
had_cd
 *
	thad_cd_t
;

72 
had_cd_
 *
	thad_cd_t
;

73 
	thad_key_t
;

74 
had_
 
	thad__t
;

75 
had_rwlock
 *
	thad_rwlock_t
;

76 
had_rwlock
 *
	thad_rwlock_t
;

77 
had_brr
 *
	thad_brr_t
;

78 
had_brr
 *
	thad_brr_t
;

79 
had_lock
 *
	thad_lock_t
;

87 *
	thad_addr_t
;

88 *(*
	thad_oute_t
)(*);

93 
	shad_
 {

94 
	me
;

95 
had_mux_t
 
	mmux
;

	@/usr/include/sys/_sigset.h

37 #agm



39 #ide
_SYS__SIGSET_H_


40 
	#_SYS__SIGSET_H_


	)

45 
	#_SIG_WORDS
 4

	)

46 
	#_SIG_MAXSIG
 128

	)

47 
	#_SIG_IDX
(
sig
((sig- 1)

	)

48 
	#_SIG_WORD
(
sig
(
	`_SIG_IDX
(sig>> 5)

	)

49 
	#_SIG_BIT
(
sig
(1 << (
	`_SIG_IDX
(sig& 31))

	)

50 
	#_SIG_VALID
(
sig
((sig<
_SIG_MAXSIG
 && (sig> 0)

	)

52 #ide
_TEST__


53 
	#_TEST__


	)

55 
	s__sigt
 {

56 
__ut32_t
 
	m__bs
[
_SIG_WORDS
];

57 } 
	t__sigt_t
;

62 #i
defed
(
_KERNEL
&& defed(
COMPAT_43
)

63 
	tosigt_t
;

	@/usr/include/sys/_timeval.h

29 #ide
_SYS__TIMEVAL_H_


30 
	#_SYS__TIMEVAL_H_


	)

32 
	~<sys/_tys.h
>

34 #ide
_SUSECONDS_T_DECLARED


35 
__sucds_t
 
	tsucds_t
;

36 
	#_SUSECONDS_T_DECLARED


	)

39 #ide
_TIME_T_DECLARED


40 
__time_t
 
	ttime_t
;

41 
	#_TIME_T_DECLARED


	)

47 
	stimev
 {

48 
time_t
 
	mtv_c
;

49 
sucds_t
 
	mtv_uc
;

	@/usr/include/sys/select.h

32 #ide
_SYS_SELECT_H_


33 
	#_SYS_SELECT_H_


	)

35 
	~<sys/cdefs.h
>

36 
	~<sys/_tys.h
>

38 
	~<sys/_sigt.h
>

39 
	~<sys/_timev.h
>

40 
	~<sys/timeec.h
>

42 
	t__fd_mask
;

43 #i
__BSD_VISIBLE


44 
__fd_mask
 
	tfd_mask
;

47 #ide
_SIGSET_T_DECLARED


48 
	#_SIGSET_T_DECLARED


	)

49 
__sigt_t
 
	tsigt_t
;

58 #idef 
FD_SETSIZE


59 
	#FD_SETSIZE
 1024U

	)

62 
	#_NFDBITS
 ((
__fd_mask
* 8

	)

63 #i
__BSD_VISIBLE


64 
	#NFDBITS
 
_NFDBITS


	)

67 #ide
_howmy


68 
	#_howmy
(
x
, 
y
(((x+ ((y- 1)/ (y))

	)

71 
	sfd_t
 {

72 
__fd_mask
 
	m__fds_bs
[
_howmy
(
FD_SETSIZE
, 
_NFDBITS
)];

73 } 
	tfd_t
;

74 #i
__BSD_VISIBLE


75 
	#fds_bs
 
__fds_bs


	)

78 
	#__fdt_mask
(
n
((
__fd_mask
)1 << (% 
_NFDBITS
))

	)

79 
	#FD_CLR
(
n
, 
p
()->
__fds_bs
[)/
_NFDBITS
] &~
	`__fdt_mask
))

	)

80 #i
__BSD_VISIBLE


81 
	#FD_COPY
(
f
, 
t
()(**(f))

	)

83 
	#FD_ISSET
(
n
, 
p
(()->
__fds_bs
[)/
_NFDBITS
] & 
	`__fdt_mask
)!0)

	)

84 
	#FD_SET
(
n
, 
p
()->
__fds_bs
[)/
_NFDBITS
] |
	`__fdt_mask
))

	)

85 
	#FD_ZERO
(
p
) do { \

86 
fd_t
 *
_p
; \

87 
__size_t
 
_n
; \

89 
_p
 = (
p
); \

90 
_n
 = 
	`_howmy
(
FD_SETSIZE
, 
_NFDBITS
); \

91 
_n
 > 0) \

92 
_p
->
__fds_bs
[--
_n
] = 0; \

93 } 0)

	)

95 #ide
_KERNEL


97 
__BEGIN_DECLS


98 
p
(, 
fd_t
 *
__ri
, fd_set *__restrict, fd_set *__restrict,

99 cڡ 
timeec
 *
__ri
, cڡ 
sigt_t
 *__restrict);

100 #ide
_SELECT_DECLARED


101 
	#_SELECT_DECLARED


	)

103 

(, 
fd_t
 *, fd_*, fd_*, 
timev
 *);

105 
	g__END_DECLS


	@/usr/include/sys/timespec.h

34 #ide
_SYS_TIMESPEC_H_


35 
	#_SYS_TIMESPEC_H_


	)

37 
	~<sys/cdefs.h
>

38 
	~<sys/_timeec.h
>

40 #i
__BSD_VISIBLE


41 
	#TIMEVAL_TO_TIMESPEC
(
tv
, 
ts
) \

43 (
ts
)->
tv_c
 = (
tv
)->tv_sec; \

44 (
ts
)->
tv_nc
 = (
tv
)->
tv_uc
 * 1000; \

45 } 0)

	)

46 
	#TIMESPEC_TO_TIMEVAL
(
tv
, 
ts
) \

48 (
tv
)->
tv_c
 = (
ts
)->tv_sec; \

49 (
tv
)->
tv_uc
 = (
ts
)->
tv_nc
 / 1000; \

50 } 0)

	)

58 
	simec
 {

59 
timeec
 
	m_rv
;

60 
timeec
 
	m_vue
;

	@/usr/include/time.h

41 #ide
_TIME_H_


42 
	#_TIME_H_


	)

44 
	~<sys/cdefs.h
>

45 
	~<sys/_nu.h
>

46 
	~<sys/_tys.h
>

48 #i
__POSIX_VISIBLE
 > 0 && __POSIX_VISIBLE < 200112 || 
__BSD_VISIBLE


53 
	#CLK_TCK
 128

	)

57 
	#CLOCKS_PER_SEC
 128

	)

59 #ide
_CLOCK_T_DECLARED


60 
__ock_t
 
	tock_t
;

61 
	#_CLOCK_T_DECLARED


	)

64 #ide
_TIME_T_DECLARED


65 
__time_t
 
	ttime_t
;

66 
	#_TIME_T_DECLARED


	)

69 #ide
_SIZE_T_DECLARED


70 
__size_t
 
	tsize_t
;

71 
	#_SIZE_T_DECLARED


	)

74 #i
__POSIX_VISIBLE
 >= 199309

78 #ide
_CLOCKID_T_DECLARED


79 
__ockid_t
 
	tockid_t
;

80 
	#_CLOCKID_T_DECLARED


	)

83 #ide
_TIMER_T_DECLARED


84 
__tim_t
 
	ttim_t
;

85 
	#_TIMER_T_DECLARED


	)

88 
	~<sys/timeec.h
>

91 #i
__POSIX_VISIBLE
 >= 200112

92 #ide
_PID_T_DECLARED


93 
__pid_t
 
	tpid_t
;

94 
	#_PID_T_DECLARED


	)

99 #i!
defed
(
CLOCK_REALTIME
&& 
__POSIX_VISIBLE
 >= 200112

100 
	#CLOCK_REALTIME
 0

	)

101 #ifde
__BSD_VISIBLE


102 
	#CLOCK_VIRTUAL
 1

	)

103 
	#CLOCK_PROF
 2

	)

105 
	#CLOCK_MONOTONIC
 4

	)

106 
	#CLOCK_UPTIME
 5

	)

107 
	#CLOCK_UPTIME_PRECISE
 7

	)

108 
	#CLOCK_UPTIME_FAST
 8

	)

109 
	#CLOCK_REALTIME_PRECISE
 9

	)

110 
	#CLOCK_REALTIME_FAST
 10

	)

111 
	#CLOCK_MONOTONIC_PRECISE
 11

	)

112 
	#CLOCK_MONOTONIC_FAST
 12

	)

113 
	#CLOCK_SECOND
 13

	)

114 
	#CLOCK_THREAD_CPUTIME_ID
 14

	)

115 
	#CLOCK_PROCESS_CPUTIME_ID
 15

	)

118 #i!
defed
(
TIMER_ABSTIME
&& 
__POSIX_VISIBLE
 >= 200112

119 #i
__BSD_VISIBLE


120 
	#TIMER_RELTIME
 0x0

	)

122 
	#TIMER_ABSTIME
 0x1

	)

125 
	stm
 {

126 
	mtm_c
;

127 
	mtm_m
;

128 
	mtm_hour
;

129 
	mtm_mday
;

130 
	mtm_m
;

131 
	mtm_yr
;

132 
	mtm_wday
;

133 
	mtm_yday
;

134 
	mtm_isd
;

135 
	mtm_gmtoff
;

136 *
	mtm_ze
;

139 #i
__POSIX_VISIBLE


140 *
tzme
[];

143 
__BEGIN_DECLS


144 *
asime
(cڡ 
tm
 *);

145 
ock_t
 
ock
();

146 *
ime
(cڡ 
time_t
 *);

147 
difime
(
time_t
,ime_t);

149 
tm
 *
gmtime
(cڡ 
time_t
 *);

150 
tm
 *
loime
(cڡ 
time_t
 *);

151 
time_t
 
mktime
(
tm
 *);

152 
size_t
 
rime
(* 
__ri
, size_t, const * __restrict,

153 cڡ 
tm
 * 
__ri
);

154 
time_t
 
time
(time_t *);

155 #i
__POSIX_VISIBLE
 >= 200112

156 
	gsigevt
;

157 
tim_
(
ockid_t
, 
sigevt
 *
__ri
, 
tim_t
 *__restrict);

158 
tim_de
(
tim_t
);

159 
tim_gtime
(
tim_t
, 
imec
 *);

160 
tim_govrun
(
tim_t
);

161 
tim_ime
(
tim_t
, , cڡ 
imec
 *
__ri
,

162 
imec
 *
__ri
);

164 #i
__POSIX_VISIBLE


165 
tzt
();

168 #i
__POSIX_VISIBLE
 >= 199309

169 
ock_gs
(
ockid_t
, 
timeec
 *);

170 
ock_gtime
(
ockid_t
, 
timeec
 *);

171 
ock_ime
(
ockid_t
, cڡ 
timeec
 *);

173 
nop
(cڡ 
timeec
 *, timespec *);

176 #i
__POSIX_VISIBLE
 >= 200112

177 
ock_guockid
(
pid_t
, 
ockid_t
 *);

180 #i
__POSIX_VISIBLE
 >= 199506

181 *
asime_r
(cڡ 
tm
 *, *);

182 *
ime_r
(cڡ 
time_t
 *, *);

183 
tm
 *
gmtime_r
(cڡ 
time_t
 *, tm *);

184 
tm
 *
loime_r
(cڡ 
time_t
 *, tm *);

187 #i
__XSI_VISIBLE


188 *
time
(cڡ * 
__ri
, const * __restrict,

189 
tm
 * 
__ri
);

192 #i
__BSD_VISIBLE


193 *
timeze
(, );

194 
tztwl
();

195 
time_t
 
timol
(
tm
 * const);

196 
time_t
 
timegm
(
tm
 * const);

199 #i
__POSIX_VISIBLE
 >200809 || 
defed
(
_XLOCALE_H_
)

200 
	~<xlo/_time.h
>

202 
	g__END_DECLS


	@/usr/include/x86/_stdint.h

40 #ide
_MACHINE__STDINT_H_


41 
	#_MACHINE__STDINT_H_


	)

43 #i!
defed
(
__lulus
|| defed(
__STDC_CONSTANT_MACROS
)

45 
	#INT8_C
(
c
(c)

	)

46 
	#INT16_C
(
c
(c)

	)

47 
	#INT32_C
(
c
(c)

	)

49 
	#UINT8_C
(
c
(c)

	)

50 
	#UINT16_C
(
c
(c)

	)

51 
	#UINT32_C
(
c
(## 
U
)

	)

53 #ifdef 
__LP64__


54 
	#INT64_C
(
c
(## 
L
)

	)

55 
	#UINT64_C
(
c
(## 
UL
)

	)

57 
	#INT64_C
(
c
(## 
LL
)

	)

58 
	#UINT64_C
(
c
(## 
ULL
)

	)

61 
	#INTMAX_C
(
c

	`INT64_C
(c)

	)

62 
	#UINTMAX_C
(
c

	`UINT64_C
(c)

	)

66 #i!
defed
(
__lulus
|| defed(
__STDC_LIMIT_MACROS
)

72 
	#INT8_MIN
 (-0x7f-1)

	)

73 
	#INT16_MIN
 (-0x7fff-1)

	)

74 
	#INT32_MIN
 (-0x7fffffff-1)

	)

76 
	#INT8_MAX
 0x7f

	)

77 
	#INT16_MAX
 0x7fff

	)

78 
	#INT32_MAX
 0x7fffffff

	)

80 
	#UINT8_MAX
 0xff

	)

81 
	#UINT16_MAX
 0xffff

	)

82 
	#UINT32_MAX
 0xffffffffU

	)

84 #ifde
__LP64__


85 
	#INT64_MIN
 (-0x7fffffffffffffff-1)

	)

86 
	#INT64_MAX
 0x7fffffffffffffff

	)

87 
	#UINT64_MAX
 0xffffffffffffffff

	)

89 
	#INT64_MIN
 (-0x7fffffffffffffffLL-1)

	)

90 
	#INT64_MAX
 0x7fffffffffffffffLL

	)

91 
	#UINT64_MAX
 0xffffffffffffffffULL

	)

99 
	#INT_LEAST8_MIN
 
INT8_MIN


	)

100 
	#INT_LEAST16_MIN
 
INT16_MIN


	)

101 
	#INT_LEAST32_MIN
 
INT32_MIN


	)

102 
	#INT_LEAST64_MIN
 
INT64_MIN


	)

105 
	#INT_LEAST8_MAX
 
INT8_MAX


	)

106 
	#INT_LEAST16_MAX
 
INT16_MAX


	)

107 
	#INT_LEAST32_MAX
 
INT32_MAX


	)

108 
	#INT_LEAST64_MAX
 
INT64_MAX


	)

111 
	#UINT_LEAST8_MAX
 
UINT8_MAX


	)

112 
	#UINT_LEAST16_MAX
 
UINT16_MAX


	)

113 
	#UINT_LEAST32_MAX
 
UINT32_MAX


	)

114 
	#UINT_LEAST64_MAX
 
UINT64_MAX


	)

121 
	#INT_FAST8_MIN
 
INT32_MIN


	)

122 
	#INT_FAST16_MIN
 
INT32_MIN


	)

123 
	#INT_FAST32_MIN
 
INT32_MIN


	)

124 
	#INT_FAST64_MIN
 
INT64_MIN


	)

127 
	#INT_FAST8_MAX
 
INT32_MAX


	)

128 
	#INT_FAST16_MAX
 
INT32_MAX


	)

129 
	#INT_FAST32_MAX
 
INT32_MAX


	)

130 
	#INT_FAST64_MAX
 
INT64_MAX


	)

133 
	#UINT_FAST8_MAX
 
UINT32_MAX


	)

134 
	#UINT_FAST16_MAX
 
UINT32_MAX


	)

135 
	#UINT_FAST32_MAX
 
UINT32_MAX


	)

136 
	#UINT_FAST64_MAX
 
UINT64_MAX


	)

142 #ifdef 
__LP64__


143 
	#INTPTR_MIN
 
INT64_MIN


	)

144 
	#INTPTR_MAX
 
INT64_MAX


	)

145 
	#UINTPTR_MAX
 
UINT64_MAX


	)

147 
	#INTPTR_MIN
 
INT32_MIN


	)

148 
	#INTPTR_MAX
 
INT32_MAX


	)

149 
	#UINTPTR_MAX
 
UINT32_MAX


	)

156 
	#INTMAX_MIN
 
INT64_MIN


	)

157 
	#INTMAX_MAX
 
INT64_MAX


	)

158 
	#UINTMAX_MAX
 
UINT64_MAX


	)

164 #ifdef 
__LP64__


166 
	#PTRDIFF_MIN
 
INT64_MIN


	)

167 
	#PTRDIFF_MAX
 
INT64_MAX


	)

170 
	#SIG_ATOMIC_MIN
 
LONG_MIN


	)

171 
	#SIG_ATOMIC_MAX
 
LONG_MAX


	)

174 
	#SIZE_MAX
 
UINT64_MAX


	)

176 
	#PTRDIFF_MIN
 
INT32_MIN


	)

177 
	#PTRDIFF_MAX
 
INT32_MAX


	)

178 
	#SIG_ATOMIC_MIN
 
INT32_MIN


	)

179 
	#SIG_ATOMIC_MAX
 
INT32_MAX


	)

180 
	#SIZE_MAX
 
UINT32_MAX


	)

184 
	#WINT_MIN
 
INT32_MIN


	)

185 
	#WINT_MAX
 
INT32_MAX


	)

	@/usr/include/x86/_types.h

39 #ide
_MACHINE__TYPES_H_


40 
	#_MACHINE__TYPES_H_


	)

42 #ide
_SYS_CDEFS_H_


43 #r 
this
 
fe
 
eds
 
sys
/
cdefs
.
h
 
as
 
a
 
equise


46 
	#__NO_STRICT_ALIGNMENT


	)

51 sigd 
	t__t8_t
;

52 
	t__ut8_t
;

53 
	t__t16_t
;

54 
	t__ut16_t
;

55 
	t__t32_t
;

56 
	t__ut32_t
;

57 #ifdef 
__LP64__


58 
	t__t64_t
;

59 
	t__ut64_t
;

61 #ide
lt


62 
	g__exnsi__


65 
	t__t64_t
;

66 #ide
lt


67 
	g__exnsi__


70 
	t__ut64_t
;

76 #ifdef 
__LP64__


77 
__t32_t
 
	t__ock_t
;

78 
__t64_t
 
	t__il_t
;

79 
	t__doub_t
;

80 
	t__t_t
;

81 
__t64_t
 
	t__t_t
;

82 
__t64_t
 
	t___t
;

84 
	t__ock_t
;

85 
__t32_t
 
	t__il_t
;

86 
	t__doub_t
;

87 
	t__t_t
;

88 
__t32_t
 
	t__t_t
;

89 
__t32_t
 
	t___t
;

91 
__t64_t
 
	t__tmax_t
;

92 
__t32_t
 
	t__t_8_t
;

93 
__t32_t
 
	t__t_16_t
;

94 
__t32_t
 
	t__t_32_t
;

95 
__t64_t
 
	t__t_64_t
;

96 
__t8_t
 
	t__t_a8_t
;

97 
__t16_t
 
	t__t_a16_t
;

98 
__t32_t
 
	t__t_a32_t
;

99 
__t64_t
 
	t__t_a64_t
;

100 #ifdef 
__LP64__


101 
__t64_t
 
	t__rdiff_t
;

102 
__t64_t
 
	t__gi_t
;

103 
__t64_t
 
	t__gsz_t
;

104 
__ut64_t
 
	t__size_t
;

105 
__t64_t
 
	t__ssize_t
;

106 
__t64_t
 
	t__time_t
;

107 
__ut64_t
 
	t__ut_t
;

108 
__ut64_t
 
	t__u_t
;

110 
__t32_t
 
	t__rdiff_t
;

111 
__t32_t
 
	t__gi_t
;

112 
__t32_t
 
	t__gsz_t
;

113 
__ut32_t
 
	t__size_t
;

114 
__t32_t
 
	t__ssize_t
;

115 
__t32_t
 
	t__time_t
;

116 
__ut32_t
 
	t__ut_t
;

117 
__ut32_t
 
	t__u_t
;

119 
__ut64_t
 
	t__utmax_t
;

120 
__ut32_t
 
	t__ut_8_t
;

121 
__ut32_t
 
	t__ut_16_t
;

122 
__ut32_t
 
	t__ut_32_t
;

123 
__ut64_t
 
	t__ut_64_t
;

124 
__ut8_t
 
	t__ut_a8_t
;

125 
__ut16_t
 
	t__ut_a16_t
;

126 
__ut32_t
 
	t__ut_a32_t
;

127 
__ut64_t
 
	t__ut_a64_t
;

128 #ifdef 
__LP64__


129 
__ut64_t
 
	t__u_gi_t
;

130 
__ut64_t
 
	t__vm_offt_t
;

131 
__ut64_t
 
	t__vm_ddr_t
;

132 
__ut64_t
 
	t__vm_size_t
;

134 
__ut32_t
 
	t__u_gi_t
;

135 
__ut32_t
 
	t__vm_offt_t
;

136 #ifde
PAE


137 
__ut64_t
 
	t__vm_ddr_t
;

139 
__ut32_t
 
	t__vm_ddr_t
;

141 
__ut32_t
 
	t__vm_size_t
;

143 
__t64_t
 
	t__vm_oofft_t
;

144 
__ut64_t
 
	t__vm_pdex_t
;

145 
	t___wch_t
;

147 
	#__WCHAR_MIN
 
__INT_MIN


	)

148 
	#__WCHAR_MAX
 
__INT_MAX


	)

153 #ifde
__GNUCLIKE_BUILTIN_VARARGS


154 
__but_va_li
 
	t__va_li
;

155 #i
defed
(
lt
)

156 * 
	t__va_li
;

158 #i
defed
(
__GNUC_VA_LIST_COMPATIBILITY
&& !defed(
__GNUC_VA_LIST
) \

159 && !
	$defed
(
__NO_GNUC_VA_LIST
)

160 
	#__GNUC_VA_LIST


	)

161 
__va_li
 
	t__gnuc_va_li
;

	@/usr/include/x86/endian.h

33 #ide
_MACHINE_ENDIAN_H_


34 
	#_MACHINE_ENDIAN_H_


	)

36 
	~<sys/cdefs.h
>

37 
	~<sys/_tys.h
>

42 
	#_QUAD_HIGHWORD
 1

	)

43 
	#_QUAD_LOWWORD
 0

	)

49 
	#_LITTLE_ENDIAN
 1234

	)

50 
	#_BIG_ENDIAN
 4321

	)

51 
	#_PDP_ENDIAN
 3412

	)

53 
	#_BYTE_ORDER
 
_LITTLE_ENDIAN


	)

59 #i
__BSD_VISIBLE


60 
	#LITTLE_ENDIAN
 
_LITTLE_ENDIAN


	)

61 
	#BIG_ENDIAN
 
_BIG_ENDIAN


	)

62 
	#PDP_ENDIAN
 
_PDP_ENDIAN


	)

63 
	#BYTE_ORDER
 
_BYTE_ORDER


	)

66 
	#__bsw16_g
(
x
(
__ut16_t
)((x<< 8 | (x>> 8)

	)

67 
	#__bsw32_g
(
x
) \

68 (((
__ut32_t
)
	`__bsw16
((
x
& 0xffff<< 16| __bsw16((x>> 16))

	)

69 
	#__bsw64_g
(
x
) \

70 (((
__ut64_t
)
	`__bsw32
((
x
& 0xffffffff<< 32| __bsw32((x>> 32))

	)

72 #ifde
__GNUCLIKE_BUILTIN_CONSTANT_P


73 
	#__bsw16
(
x
) \

74 ((
__ut16_t
)(
	`__but_cڡt_p
(
x
) ? \

75 
	`__bsw16_g
((
__ut16_t
)(
x
): 
	`__bsw16_v
(x)))

	)

76 
	#__bsw32
(
x
) \

77 (
	`__but_cڡt_p
(
x
) ? \

78 
	`__bsw32_g
((
__ut32_t
)(
x
): 
	`__bsw32_v
(x))

	)

79 
	#__bsw64
(
x
) \

80 (
	`__but_cڡt_p
(
x
) ? \

81 
	`__bsw64_g
((
__ut64_t
)(
x
): 
	`__bsw64_v
(x))

	)

84 
	#__bsw16
(
x

	`__bsw16_v
(x)

	)

85 
	#__bsw32
(
x

	`__bsw32_v
(x)

	)

86 
	#__bsw64
(
x

	`__bsw64_v
(x)

	)

91 
__le
 
__ut16_t


92 
	$__bsw16_v
(
__ut16_t
 
_x
)

95  (
	`__bsw16_g
(
_x
));

96 
	}
}

98 
__le
 
__ut32_t


99 
	$__bsw32_v
(
__ut32_t
 
_x
)

102 #ifde
__GNUCLIKE_ASM


103 
	`__asm
("bsw %0" : "+r" (
_x
));

104  (
_x
);

106  (
	`__bsw32_g
(
_x
));

108 
	}
}

110 
__le
 
__ut64_t


111 
	$__bsw64_v
(
__ut64_t
 
_x
)

114 #i
	`defed
(
__amd64__
&& defed(
__GNUCLIKE_ASM
)

115 
	`__asm
("bsw %0" : "+r" (
_x
));

116  (
_x
);

122  (
	`__bsw64_g
(
_x
));

124 
	}
}

126 
	#__htl
(
x

	`__bsw32
(x)

	)

127 
	#__hts
(
x

	`__bsw16
(x)

	)

128 
	#__ohl
(
x

	`__bsw32
(x)

	)

129 
	#__ohs
(
x

	`__bsw16
(x)

	)

	@/usr/include/sys/_timespec.h

34 #ide
_SYS__TIMESPEC_H_


35 
	#_SYS__TIMESPEC_H_


	)

37 
	~<sys/_tys.h
>

39 #ide
_TIME_T_DECLARED


40 
__time_t
 
	ttime_t
;

41 
	#_TIME_T_DECLARED


	)

44 
	stimeec
 {

45 
time_t
 
	mtv_c
;

46 
	mtv_nc
;

	@/usr/include/x86/_align.h

41 #ide
_X86_INCLUDE__ALIGN_H_


42 
	#_X86_INCLUDE__ALIGN_H_


	)

49 
	#_ALIGNBYTES
 ((
gi_t
- 1)

	)

50 
	#_ALIGN
(
p
(((
u_t
)+ 
_ALIGNBYTES
& ~_ALIGNBYTES)

	)

	@/usr/include/x86/_limits.h

33 #idef 
_MACHINE__LIMITS_H_


34 
	#_MACHINE__LIMITS_H_


	)

45 
	#__CHAR_BIT
 8

	)

47 
	#__SCHAR_MAX
 0x7

	)

48 
	#__SCHAR_MIN
 (-0x7- 1

	)

50 
	#__UCHAR_MAX
 0xf

	)

52 
	#__USHRT_MAX
 0xfff

	)

53 
	#__SHRT_MAX
 0x7ff

	)

54 
	#__SHRT_MIN
 (-0x7ff- 1

	)

56 
	#__UINT_MAX
 0xfffffff

	)

57 
	#__INT_MAX
 0x7ffffff

	)

58 
	#__INT_MIN
 (-0x7ffffff- 1

	)

60 #ifdef 
__LP64__


61 
	#__ULONG_MAX
 0xfffffffffffffff

	)

62 
	#__LONG_MAX
 0x7ffffffffffffff

	)

63 
	#__LONG_MIN
 (-0x7ffffffffffffff- 1

	)

65 
	#__ULONG_MAX
 0xffffffffUL

	)

66 
	#__LONG_MAX
 0x7fffffffL

	)

67 
	#__LONG_MIN
 (-0x7fffffffL - 1)

	)

71 
	#__ULLONG_MAX
 0xffffffffffffffffULL

	)

72 
	#__LLONG_MAX
 0x7fffffffffffffffLL

	)

73 
	#__LLONG_MIN
 (-0x7fffffffffffffffLL - 1

	)

75 #ifdef 
__LP64__


76 
	#__SSIZE_MAX
 
__LONG_MAX


	)

77 
	#__SIZE_T_MAX
 
__ULONG_MAX


	)

78 
	#__OFF_MAX
 
__LONG_MAX


	)

79 
	#__OFF_MIN
 
__LONG_MIN


	)

81 
	#__UQUAD_MAX
 
__ULONG_MAX


	)

82 
	#__QUAD_MAX
 
__LONG_MAX


	)

83 
	#__QUAD_MIN
 
__LONG_MIN


	)

84 
	#__LONG_BIT
 64

	)

86 
	#__SSIZE_MAX
 
__INT_MAX


	)

87 
	#__SIZE_T_MAX
 
__UINT_MAX


	)

88 
	#__OFF_MAX
 
__LLONG_MAX


	)

89 
	#__OFF_MIN
 
__LLONG_MIN


	)

90 
	#__UQUAD_MAX
 
__ULLONG_MAX


	)

91 
	#__QUAD_MAX
 
__LLONG_MAX


	)

92 
	#__QUAD_MIN
 
__LLONG_MIN


	)

93 
	#__LONG_BIT
 32

	)

96 
	#__WORD_BIT
 32

	)

99 
	#__MINSIGSTKSZ
 (512 * 4)

	)

	@/usr/include/x86/signal.h

34 #ide
_X86_SIGNAL_H


35 
	#_X86_SIGNAL_H
 1

	)

41 
	~<sys/cdefs.h
>

42 
	~<sys/_sigt.h
>

44 #i
__BSD_VISIBLE


45 
	~<mache/.h
>

48 #ifde
__i386__


49 
	tsig_omic_t
;

51 #i
__BSD_VISIBLE


52 
	ssigcڋxt
 {

53 
__sigt
 
	msc_mask
;

54 
	msc_ڡack
;

55 
	msc_gs
;

56 
	msc_fs
;

57 
	msc_es
;

58 
	msc_ds
;

59 
	msc_edi
;

60 
	msc_esi
;

61 
	msc_ebp
;

62 
	msc_i
;

63 
	msc_ebx
;

64 
	msc_edx
;

65 
	msc_ecx
;

66 
	msc_x
;

67 
	msc_no
;

68 
	msc_r
;

69 
	msc_e
;

70 
	msc_cs
;

71 
	msc_e
;

72 
	msc_e
;

73 
	msc_ss
;

74 
	msc_n
;

79 
	msc_fm
;

80 
	msc_owd
;

81 
	msc_ags
;

82 
	msc_塩e
[128] 
__igd
(16);

84 
	msc_fsba
;

85 
	msc_gsba
;

87 
	msc_xue
;

88 
	msc_xue_n
;

90 
	msc_e2
[4];

93 
	#sc_
 
sc_e


	)

94 
	#sc_
 
sc_ebp


	)

95 
	#sc_pc
 
sc_e


	)

96 
	#sc_ps
 
sc_e


	)

97 
	#sc_eags
 
sc_e


	)

102 #ifde
__amd64__


103 
	tsig_omic_t
;

105 #i
__BSD_VISIBLE


116 
	ssigcڋxt
 {

117 
__sigt
 
	msc_mask
;

118 
	msc_ڡack
;

119 
	msc_rdi
;

120 
	msc_rsi
;

121 
	msc_rdx
;

122 
	msc_rcx
;

123 
	msc_r8
;

124 
	msc_r9
;

125 
	msc_x
;

126 
	msc_rbx
;

127 
	msc_rbp
;

128 
	msc_r10
;

129 
	msc_r11
;

130 
	msc_r12
;

131 
	msc_r13
;

132 
	msc_r14
;

133 
	msc_r15
;

134 
	msc_no
;

135 
	msc_fs
;

136 
	msc_gs
;

137 
	msc_addr
;

138 
	msc_ags
;

139 
	msc_es
;

140 
	msc_ds
;

141 
	msc_r
;

142 
	msc_r
;

143 
	msc_cs
;

144 
	msc_rags
;

145 
	msc_r
;

146 
	msc_ss
;

147 
	msc_n
;

152 
	msc_fm
;

153 
	msc_owd
;

154 
	msc_塩e
[64] 
__igd
(16);

156 
	msc_fsba
;

157 
	msc_gsba
;

159 
	msc_xue
;

160 
	msc_xue_n
;

162 
	msc_e
[4];

	@/usr/include/xlocale/_time.h

32 #ide
_LOCALE_T_DEFINED


33 
	#_LOCALE_T_DEFINED


	)

34 
_xlo
 *
	tlo_t
;

42 #ide
_XLOCALE_LOCALE1_H


43 
	#_XLOCALE_LOCALE1_H


	)

45 
size_t
 
	$rime_l
(* 
__ri
, 
size_t
, const * __restrict,

46 cڡ 
tm
 * 
__ri
, 
lo_t

	`__rimike
(3, 0);

50 #ifde
_XLOCALE_H_


51 #ide
_XLOCALE_LOCALE2_H


52 
	#_XLOCALE_LOCALE2_H


	)

54 *
	`time_l
(cڡ * 
__ri
, const * __restrict,

55 
tm
 * 
__ri
, 
lo_t
);

	@/usr/include/machine/trap.h

6 
	~<x86/.h
>

	@/usr/include/x86/trap.h

36 #ide
_MACHINE_TRAP_H_


37 
	#_MACHINE_TRAP_H_


	)

44 
	#T_PRIVINFLT
 1

	)

45 
	#T_BPTFLT
 3

	)

46 
	#T_ARITHTRAP
 6

	)

47 
	#T_PROTFLT
 9

	)

48 
	#T_TRCTRAP
 10

	)

49 
	#T_PAGEFLT
 12

	)

50 
	#T_ALIGNFLT
 14

	)

52 
	#T_DIVIDE
 18

	)

53 
	#T_NMI
 19

	)

54 
	#T_OFLOW
 20

	)

55 
	#T_BOUND
 21

	)

56 
	#T_DNA
 22

	)

57 
	#T_DOUBLEFLT
 23

	)

58 
	#T_FPOPFLT
 24

	)

59 
	#T_TSSFLT
 25

	)

60 
	#T_SEGNPFLT
 26

	)

61 
	#T_STKFLT
 27

	)

62 
	#T_MCHK
 28

	)

63 
	#T_XMMFLT
 29

	)

64 
	#T_RESERVED
 30

	)

65 
	#T_DTRACE_RET
 32

	)

70 
	#ILL_RESAD_FAULT
 
T_RESADFLT


	)

71 
	#ILL_PRIVIN_FAULT
 
T_PRIVINFLT


	)

72 
	#ILL_RESOP_FAULT
 
T_RESOPFLT


	)

73 
	#ILL_ALIGN_FAULT
 
T_ALIGNFLT


	)

74 
	#ILL_FPOP_FAULT
 
T_FPOPFLT


	)

77 
	#FPE_INTOVF_TRAP
 0x1

	)

78 
	#FPE_INTDIV_TRAP
 0x2

	)

79 
	#FPE_FLTDIV_TRAP
 0x3

	)

80 
	#FPE_FLTOVF_TRAP
 0x4

	)

81 
	#FPE_FLTUND_TRAP
 0x5

	)

82 
	#FPE_FPU_NP_TRAP
 0x6

	)

83 
	#FPE_SUBRNG_TRAP
 0x7

	)

86 
	#BUS_PAGE_FAULT
 
T_PAGEFLT


	)

87 
	#BUS_SEGNP_FAULT
 
T_SEGNPFLT


	)

88 
	#BUS_STK_FAULT
 
T_STKFLT


	)

89 
	#BUS_SEGM_FAULT
 
T_RESERVED


	)

92 
	#T_USER
 0x100

	)

	@
1
.
1
/usr/include
66
1398
db_events.c
db_exception.c
db_ipc.c
db_main.c
db_memory.c
db_misc.c
db_object.c
db_process.c
db_rtld.c
db_semaphore.c
db_streams.c
db_threading.c
dl-machine-x86_64.h
do-rel.h
dynamic_link.h
pal.h
pal_debug.h
pal_defs.h
pal_error.h
pal_internal.h
pal_rtld.h
printf.c
slab.c
test.c
/usr/include/endian.h
/usr/include/stdbool.h
/usr/include/stddef.h
/usr/include/stdint.h
/usr/include/stdio.h
/usr/include/sys/endian.h
/usr/include/sys/param.h
/usr/include/machine/_stdint.h
/usr/include/machine/_types.h
/usr/include/machine/endian.h
/usr/include/machine/param.h
/usr/include/sys/_null.h
/usr/include/sys/_stdint.h
/usr/include/sys/_types.h
/usr/include/sys/cdefs.h
/usr/include/sys/errno.h
/usr/include/sys/limits.h
/usr/include/sys/priority.h
/usr/include/sys/signal.h
/usr/include/sys/syslimits.h
/usr/include/sys/time.h
/usr/include/sys/types.h
/usr/include/xlocale/_stdio.h
/usr/include/machine/_align.h
/usr/include/machine/_limits.h
/usr/include/machine/signal.h
/usr/include/sys/_pthreadtypes.h
/usr/include/sys/_sigset.h
/usr/include/sys/_timeval.h
/usr/include/sys/select.h
/usr/include/sys/timespec.h
/usr/include/time.h
/usr/include/x86/_stdint.h
/usr/include/x86/_types.h
/usr/include/x86/endian.h
/usr/include/sys/_timespec.h
/usr/include/x86/_align.h
/usr/include/x86/_limits.h
/usr/include/x86/signal.h
/usr/include/xlocale/_time.h
/usr/include/machine/trap.h
/usr/include/x86/trap.h
